/** Cooked with Flambe, https://getflambe.com */
'use strict';(function(){var ra,Rc,w,Wa,Ab,ba,ca,Wb,P,Bb,mc,nc,da,Xa,oc,pc,fa,qc,Q,G,Ja,ka,Cb,sa,la,H,rc,Xb,n,Db,sc,Ca,ta,ma,Ka,ib,ua,Sc,na,La,Ma,E,Ya,Yb,Na,Za,tc,jb,kb,$a,lb,Zb,Da,Tc,Eb,L,Uc,uc,Fb,C,M,vc,ga,oa,r,va,mb,ab,nb,X,N,ob,bb,Oa,ha,ea,ia,Ea,pb,Ga,cb,db,wa,F,T,qb,Gb,rb,Vc,cd,wc,Wc,xc,d,yc,U,xa,zc,Hb,Ac,Bc,sb,m,Cc,$b,ac,pa,Xc,e,ya,V,tb,bc,cc,J,eb,dc,qa,Ib,Dc,ja,Ec,ec,Jb,Fc,Kb,fc,gc,D,Y,hc,Gc,Hc,A,W,ub,Lb,Mb,R,ic,za,fb,Ic,Pa,Nb,o,y,Aa,Ha,Jc,jc,Kc,Ob,Qa,Lc,Ra,Yc,Ba,Pb,vb,Z,Mc,K,$,kc,wb,Sa,B,
q,k,Zc,xb,z,Nc,s;function j(a,b){function c(){}c.prototype=a;var g=new c,l;for(l in b)g[l]=b[l];b.toString!==Object.prototype.toString&&(g.toString=b.toString);return g}function dd(a){return a instanceof Array?function(){return t.iter(a)}:"function"==typeof a.iterator?O(a,a.iterator):a.iterator}function O(a,b){if(null==b)return null;null==b.__id__&&(b.__id__=id++);var c;null==a.hx__closures__?a.hx__closures__={}:c=a.hx__closures__[b.__id__];null==c&&(c=function(){return c.method.apply(c.scope,arguments)},
c.scope=a,c.method=b,a.hx__closures__[b.__id__]=c);return c}var h=function(){return z.__string_rec(this,"")},yb=function(a,b){b=b.split("u").join("");this.r=RegExp(a,b)};yb.__name__=!0;yb.prototype={matchedPos:function(){if(null==this.r.m)throw"No string matched";return{pos:this.r.m.index,len:this.r.m[0].length}},matched:function(a){if(null!=this.r.m&&0<=a&&a<this.r.m.length)a=this.r.m[a];else throw"EReg::matched";return a},match:function(a){this.r.global&&(this.r.lastIndex=0);this.r.m=this.r.exec(a);
this.r.s=a;return null!=this.r.m},__class__:yb};var t=function(){};t.__name__=!0;t.cca=function(a,b){var c=a.charCodeAt(b);return c!=c?void 0:c};t.substr=function(a,b,c){if(null!=b&&0!=b&&null!=c&&0>c)return"";null==c&&(c=a.length);0>b?(b=a.length+b,0>b&&(b=0)):0>c&&(c=a.length+c-b);return a.substr(b,c)};t.remove=function(a,b){for(var c=0,g=a.length;c<g;){if(a[c]==b)return a.splice(c,1),!0;c++}return!1};t.iter=function(a){return{cur:0,arr:a,hasNext:function(){return this.cur<this.arr.length},next:function(){return this.arr[this.cur++]}}};
var $c=function(){};$c.__name__=!0;$c.array=function(a){for(var b=[],a=dd(a)();a.hasNext();){var c=a.next();b.push(c)}return b};$c.count=function(a,b){var c=0;if(null==b)for(var g=dd(a)();g.hasNext();)g.next(),c++;else for(g=dd(a)();g.hasNext();){var l=g.next();b(l)&&c++}return c};var ed=function(){};ed.__name__=!0;var Ta=function(){};Ta.__name__=!0;Ta.field=function(a,b){var c=null;try{c=a[b]}catch(g){}return c};var p=function(){};p.__name__=!0;p.string=function(a){return z.__string_rec(a,"")};p.parseInt=
function(a){var b=parseInt(a,10);if(0==b&&(120==t.cca(a,1)||88==t.cca(a,1)))b=parseInt(a);return isNaN(b)?null:b};p.parseFloat=function(a){return parseFloat(a)};var Oc=function(){this.b=""};Oc.__name__=!0;Oc.prototype={addSub:function(a,b,c){this.b+=null==c?t.substr(a,b,null):t.substr(a,b,c)},__class__:Oc};var gb=function(){};gb.__name__=!0;gb.isSpace=function(a,b){var c=t.cca(a,b);return 8<c&&14>c||32==c};gb.ltrim=function(a){for(var b=a.length,c=0;c<b&&gb.isSpace(a,c);)c++;return 0<c?t.substr(a,
c,b-c):a};gb.rtrim=function(a){for(var b=a.length,c=0;c<b&&gb.isSpace(a,b-c-1);)c++;return 0<c?t.substr(a,0,b-c):a};gb.hex=function(a,b){var c="";do c="0123456789ABCDEF".charAt(a&15)+c,a>>>=4;while(0<a);if(null!=b)for(;c.length<b;)c="0"+c;return c};var u=function(){};u.__name__=!0;u.parse=function(a){return Sa.Parser.parse(a)};u.createElement=function(a){var b=new u;b.nodeType=u.Element;b._children=[];b._attributes=new B.StringMap;b.set_nodeName(a);return b};u.createPCData=function(a){var b=new u;
b.nodeType=u.PCData;b.set_nodeValue(a);return b};u.createCData=function(a){var b=new u;b.nodeType=u.CData;b.set_nodeValue(a);return b};u.createComment=function(a){var b=new u;b.nodeType=u.Comment;b.set_nodeValue(a);return b};u.createDocType=function(a){var b=new u;b.nodeType=u.DocType;b.set_nodeValue(a);return b};u.createProcessingInstruction=function(a){var b=new u;b.nodeType=u.ProcessingInstruction;b.set_nodeValue(a);return b};u.createDocument=function(){var a=new u;a.nodeType=u.Document;a._children=
[];return a};u.prototype={addChild:function(a){if(null==this._children)throw"bad nodetype";null!=a._parent&&t.remove(a._parent._children,a);a._parent=this;this._children.push(a)},firstElement:function(){if(null==this._children)throw"bad nodetype";for(var a=0,b=this._children.length;a<b;){var c=this._children[a];if(c.nodeType==u.Element)return c;a++}return null},firstChild:function(){if(null==this._children)throw"bad nodetype";return this._children[0]},elements:function(){if(null==this._children)throw"bad nodetype";
return{cur:0,x:this._children,hasNext:function(){for(var a=this.cur,b=this.x.length;a<b&&!(this.x[a].nodeType==u.Element);)a+=1;this.cur=a;return a<b},next:function(){for(var a=this.cur,b=this.x.length;a<b;){var c=this.x[a],a=a+1;if(c.nodeType==u.Element)return this.cur=a,c}return null}}},exists:function(a){if(this.nodeType!=u.Element)throw"bad nodeType";return this._attributes.exists(a)},set:function(a,b){if(this.nodeType!=u.Element)throw"bad nodeType";this._attributes.set(a,b)},get:function(a){if(this.nodeType!=
u.Element)throw"bad nodeType";return this._attributes.get(a)},set_nodeValue:function(a){if(this.nodeType==u.Element||this.nodeType==u.Document)throw"bad nodeType";return this._nodeValue=a},get_nodeValue:function(){if(this.nodeType==u.Element||this.nodeType==u.Document)throw"bad nodeType";return this._nodeValue},set_nodeName:function(a){if(this.nodeType!=u.Element)throw"bad nodeType";return this._nodeName=a},get_nodeName:function(){if(this.nodeType!=u.Element)throw"bad nodeType";return this._nodeName},
__class__:u};var aa,v,Qb,ad;Ra=function(){};Yc=void 0;Ba=void 0;Pb=void 0;vb=void 0;Z=void 0;Mc=void 0;K=void 0;$=void 0;kc=void 0;wb=void 0;Ra.__name__=!0;Ra.prototype={__class__:Ra};aa=function(){};aa.__name__=!0;aa.__interfaces__=[Ra];aa.prototype={init:function(a,b){this.owner=a;this.next=b},get_name:function(){return null},dispose:function(){null!=this.owner&&this.owner.remove(this)},onUpdate:function(){},onRemoved:function(){},onAdded:function(){},__class__:aa};var Ia,x,Ua,Va;Ia=function(a){this._node=
a};Ia.__name__=!0;Ia.__super__=aa;Ia.prototype=j(aa.prototype,{onRemoved:function(){aa.prototype.onRemoved.call(this);this._node.onExit()},onUpdate:function(a){aa.prototype.onUpdate.call(this,a);this._node.update(a)},onAdded:function(){aa.prototype.onAdded.call(this);this._node.onEnter()},get_name:function(){return"CCComponent_4"},__class__:Ia});x=function(){this._winSizeInPoints=this._scenesStack=this._projectionDelegate=this._scheduler=this._actionManager=null;this._animationInterval=this._oldAnimationInterval=
this._projection=this._contentScaleFactor=0};x.__name__=!0;x.getInstance=function(){x.firstUseDirector&&(x.firstUseDirector=!1,x.s_SharedDirector=new x,x.s_SharedDirector.init());return x.s_SharedDirector};x.prototype={getPointerDispatcher:function(){return this._pointerDispatcher},getActionManager:function(){return this._actionManager},runWithScene:function(a){this.director.pushScene(a.getEntity())},replaceScene:function(a){this.popScene();z.__instanceof(a,wa)?this.director.pushScene(z.__cast(a,
wa).getInScene().entity):this.director.pushScene(a.entity);this.length++},popScene:function(){this.director.popScene();this.length--},getWinSize:function(){return this._winSizeInPoints},init:function(){this._oldAnimationInterval=this._animationInterval=1/x.defaultFPS;this._scenesStack=[];this._projection=x.DIRECTOR_PROJECTION_DEFAULT;this._projectionDelegate=null;this._contentScaleFactor=1;this._scheduler=new Ua;this._actionManager=new vc;this._winSizeInPoints=new C(v._platform.getStage().get_width(),
v._platform.getStage().get_height());this._pointerDispatcher=new L;this._keyboardDispatcher=Da.getInstance();this.length=0;this.director=new Jc;v.root.add(this.director)},__class__:x};Va=function(){};Va.__name__=!0;Ua=function(){};Ua.__name__=!0;Ua.ArrayRemoveObject_sample_Enemy=function(a,b){t.remove(a,b)};Ua.ArrayRemoveObject_cc_touchdispatcher_CCPointerHandler=function(a,b){t.remove(a,b)};Ua.ArrayAppendObjectToIndex_cc_touchdispatcher_CCPointerHandler=function(a,b,c){var g=a.splice(0,c),a=a.slice(c);
g.push(b);return a=g.concat(a)};Ua.prototype={__class__:Ua};vc=void 0;ga=void 0;oa=void 0;r=void 0;va=void 0;mb=void 0;ab=void 0;nb=void 0;X=void 0;N=void 0;ob=void 0;bb=void 0;Oa=void 0;ha=void 0;ea=void 0;ia=void 0;Ea=void 0;pb=void 0;Ga=void 0;cb=void 0;db=void 0;ga=function(){this._tag=ga.ACTION_TAG_INVALID};ga.__name__=!0;ga.create=function(){return new ga};ga.prototype={setAnimation:function(a){this._animation=a},setTag:function(a){this._tag=a},getTag:function(){return this._tag},update:function(){},
step:function(){null},stop:function(){this._target=null},startWithTarget:function(a){this._target=this._originalTarget=a},isDone:function(){return!0},__class__:ga};oa=function(){this._duration=0;ga.call(this);this._duration=0};oa.__name__=!0;oa.__super__=ga;oa.prototype=j(ga.prototype,{stop:function(){ga.prototype.stop.call(this)},update:function(a){ga.prototype.update.call(this,a)},getDuration:function(){return this._duration},__class__:oa});r=function(){oa.call(this);this._elapsed=0;this._firstTick=
!1};r.__name__=!0;r.__super__=oa;r.prototype=j(oa.prototype,{startWithTarget:function(a){oa.prototype.startWithTarget.call(this,a);this._elapsed=0;this._firstTick=!0},stop:function(){oa.prototype.stop.call(this)},update:function(a){oa.prototype.update.call(this,a)},step:function(a){this._firstTick?(this._firstTick=!1,this._elapsed=0):this._elapsed+=a;1.192092896E-7>this._duration&&(this._duration=1.192092896E-7);a=this._elapsed/this._duration;1<a&&(a=1);0>a&&(a=0);this.update(a)},isDone:function(){return this._elapsed>=
this._duration},initWithDuration:function(a){this._duration=a;this._elapsed=0;return this._firstTick=!0},getElapsed:function(){return this._elapsed},__class__:r});va=function(){r.call(this)};va.__name__=!0;va.create=function(a){var b=new va;null!=b&&b.initWithAction(a);return b};va.__super__=r;va.prototype=j(r.prototype,{update:function(a){this._other.update(a)},stop:function(){this._other.stop();r.prototype.stop.call(this)},startWithTarget:function(a){r.prototype.startWithTarget.call(this,a);this._other.startWithTarget(this._target)},
initWithAction:function(a){ua.assert(null!=a,"");return this.initWithDuration(a.getDuration())?(this._other=a,!0):!1},__class__:va});mb=function(){va.call(this)};mb.__name__=!0;mb.create=function(a){var b=new mb;null!=b&&b.initWithAction(a);return b};mb.__super__=va;mb.prototype=j(va.prototype,{update:function(a){this._other.update(1==a?1:-Math.pow(2,10*a)+1)},__class__:mb});ab=function(){va.call(this)};ab.__name__=!0;ab.create=function(a){var b=new ab;null!=b&&b.initWithAction(a);return b};ab.__super__=
va;ab.prototype=j(va.prototype,{update:function(a){this._other.update(Math.sin(a*Math.PI/2))},__class__:ab});nb=function(){oa.call(this)};nb.__name__=!0;nb.__super__=oa;nb.prototype=j(oa.prototype,{update:function(){},step:function(){this.update(1)},isDone:function(){return!0},__class__:nb});X=function(){nb.call(this)};X.__name__=!0;X.create=function(a){var b=new X;return null!=b?(b._callFunc=a,b):null};X.__super__=nb;X.prototype=j(nb.prototype,{update:function(){this.execute()},execute:function(){null!=
this._callFunc?this._callFunc():null!=this._callFuncWithParams&&this._callFuncWithParams(this._data)},__class__:X});N=function(){r.call(this);this._actions=[]};N.__name__=!0;N.create=function(a){for(var b=a[0],c=null,g=1,l=a.length;g<l;){var d=g++;null!=a[d]&&(b=N._actionOneTwo(b,a[d]),c=z.__cast(b,N))}return c};N._actionOneTwo=function(a,b){var c=new N;c.initOneTwo(a,b);return c};N.__super__=r;N.prototype=j(r.prototype,{update:function(a){r.prototype.update.call(this,a);var b=0,c=0;a<this._split?
b=0!=this._split?a/this._split:1:(c=1,b=1==this._split?1:(a-this._split)/(1-this._split),-1==this._last&&(this._actions[0].startWithTarget(this._target),this._actions[0].update(1),this._actions[0].stop()),0==this._last&&(this._actions[0].update(1),this._actions[0].stop()));this._last==c&&this._actions[c].isDone()||(this._last!=c&&this._actions[c].startWithTarget(this._target),this._actions[c].update(b),this._last=c)},startWithTarget:function(a){r.prototype.startWithTarget.call(this,a);this._split=
this._actions[0].getDuration()/this._duration;this._last=-1},initOneTwo:function(a,b){a.getDuration();b.getDuration();this.initWithDuration(a.getDuration()+b.getDuration());this._actions[0]=a;this._actions[1]=b;return!0},__class__:N});ob=function(){r.call(this)};ob.__name__=!0;ob.create=function(a){var b=new ob;return null!=b&&b.initWithAction(a)?b:null};ob.__super__=r;ob.prototype=j(r.prototype,{isDone:function(){return!1},step:function(a){this._innerAction.step(a);this._innerAction.isDone()&&(this._innerAction.startWithTarget(this._target),
this._innerAction.step(this._innerAction.getElapsed()-this._innerAction.getDuration()))},startWithTarget:function(a){r.prototype.startWithTarget.call(this,a);this._innerAction.startWithTarget(a)},initWithAction:function(a){this._innerAction=a;return!0},__class__:ob});bb=function(){this.timer=0;r.call(this)};bb.__name__=!0;bb.create=function(a){var b=new bb;b.initWithAnimation(a);return b};bb.__super__=r;bb.prototype=j(r.prototype,{stop:function(){this._animation.getRestoreOriginalFrame()&&null!=this._target&&
z.__cast(this._target,n).setDisplayFrame(this._origFrame);r.prototype.stop.call(this)},update:function(a){1>a&&(a*=this._animation.getLoops(),a>this._excutedLoops&&(this._nextFrame=0,this._excutedLoops++),this.timer=a%1);for(var b=this._animation.getFrames(),c=b.length,g=this._nextFrame;g<c;){var l=g++;if(this._splitTimes[l]<a){z.__cast(this._target,n).setDisplayFrame(b[l].getSpriteFrame());this._nextFrame=l+1;break}}},startWithTarget:function(a){r.prototype.startWithTarget.call(this,a);this._animation.getRestoreOriginalFrame()&&
(this._origFrame=z.__cast(a,n).displayFrame());this._excutedLoops=this._nextFrame=0},initWithAnimation:function(a){var b=a.getDuration();this.initWithDuration(b*a.getLoops());this._nextFrame=0;this.setAnimation(a);this._origFrame=this._animation.getFrames()[0].getSpriteFrame();this._excutedLoops=0;this._splitTimes=[];for(var c=0,g=b/a.getTotalDelayUnits(),a=a.getFrames(),l=0;l<a.length;){var d=a[l];++l;var S=c*g/b,c=c+d.getDelayUnits();this._splitTimes.push(S)}this._delatPerUnit=this._animation.getDelayPerUnit();
return!0},__class__:bb});Oa=function(){this._angle=0;r.call(this)};Oa.__name__=!0;Oa.create=function(a,b){var c=new Oa;c.initWithDurationRotateBy(a,b);return c};Oa.__super__=r;Oa.prototype=j(r.prototype,{startWithTarget:function(a){r.prototype.startWithTarget.call(this,a);this._target.getSprite().rotation.animateBy(this._angle,this._duration,this._ease)},initWithDurationRotateBy:function(a,b){return r.prototype.initWithDuration.call(this,a)?(this._angle=b,!0):!1},__class__:Oa});ha=function(){this._isMoveTo=
!0;r.call(this);this._endPosition=new o(0,0);this._startPosition=new o(0,0);this._delta=new o(0,0);this._previousPosition=new o(0,0)};ha.__name__=!0;ha.create=function(a,b){var c=new ha;c.initWithDurationMoveTo(a,b);return c};ha.__super__=r;ha.prototype=j(r.prototype,{update:function(a){if(null!=this._target){var b=this._target.getPosition(),b=Xb.pSub(b,this._previousPosition);this._startPosition=Xb.pAdd(this._startPosition,b);a=new o(this._startPosition.x+this._delta.x*a,this._startPosition.y+this._delta.y*
a);this._target.setPosition(a.x,a.y);this._previousPosition=a}},startWithTarget:function(a){r.prototype.startWithTarget.call(this,a);null!=this._target.getSprite()&&(this._previousPosition=this._startPosition=a.getPosition(),this._delta=Xb.pSub(this._endPosition,this._startPosition))},initWithDurationMoveTo:function(a,b){return r.prototype.initWithDuration.call(this,a)?(this._endPosition=b,!0):!1},__class__:ha});ea=function(){ha.call(this)};ea.__name__=!0;ea.create=function(a,b){var c=new ea;c.initWithDurationMoveBy(a,
b);return c};ea.__super__=ha;ea.prototype=j(ha.prototype,{startWithTarget:function(a){var b=this._delta;ha.prototype.startWithTarget.call(this,a);null!=this._target.getSprite()&&(this._delta=b)},initWithDurationMoveBy:function(a,b){return ha.prototype.initWithDurationMoveTo.call(this,a,b)?(this._delta=b,this._isMoveTo=!1,!0):!1},__class__:ea});ia=function(){r.call(this);this._startScaleY=this._startScaleX=this._scaleY=this._scaleX=1;this._deltaY=this._deltaX=this._endScaleY=this._endScaleX=0};ia.__name__=
!0;ia.create=function(a,b,c){var g=new ia;null==c?g.initWithDurationScaleTo(a,b):g.initWithDurationScaleTo(a,b,c);return g};ia.__super__=r;ia.prototype=j(r.prototype,{update:function(a){null!=this._target&&this._target.setScale(this._startScaleX+this._deltaX*a,this._startScaleY+this._deltaY*a)},startWithTarget:function(a){r.prototype.startWithTarget.call(this,a);this._startScaleX=a.getScaleX();this._startScaleY=a.getScaleY();this._deltaX=this._endScaleX-this._startScaleX;this._deltaY=this._endScaleY-
this._startScaleY},initWithDurationScaleTo:function(a,b,c){return r.prototype.initWithDuration.call(this,a)?(this._endScaleX=b,this._endScaleY=null!=c?c:b,!0):!1},__class__:ia});Ea=function(){ia.call(this)};Ea.__name__=!0;Ea.create=function(a,b,c){var g=new Ea;null==c?g.initWithDurationScaleTo(a,b):g.initWithDurationScaleTo(a,b,c);return g};Ea.__super__=ia;Ea.prototype=j(ia.prototype,{startWithTarget:function(a){ia.prototype.startWithTarget.call(this,a);this._deltaX=this._startScaleX*this._endScaleX-
this._startScaleX;this._deltaY=this._startScaleY*this._endScaleY-this._startScaleY},__class__:Ea});pb=function(){this._times=0;r.call(this)};pb.__name__=!0;pb.create=function(a,b){var c=new pb;c.initWithDurationBlink(a,b);return c};pb.__super__=r;pb.prototype=j(r.prototype,{stop:function(){this._target.setVisible(this._originalState);r.prototype.stop.call(this)},startWithTarget:function(a){r.prototype.startWithTarget.call(this,a);this._originalState=a.isVisible()},update:function(a){if(null!=this._target&&
!this.isDone()){var b=1/this._times;this._target.setVisible(a%b>b/2?!0:!1)}},initWithDurationBlink:function(a,b){return r.prototype.initWithDuration.call(this,a)?(this._times=b,!0):!1},__class__:pb});Ga=function(){r.call(this)};Ga.__name__=!0;Ga.create=function(a){var b=new Ga;b.initWithDuration(a);return b};Ga.__super__=r;Ga.prototype=j(r.prototype,{update:function(a){this._target.setOpacity(255*(1-a)|0)},__class__:Ga});cb=function(){this._toOpacity=this._fromOpacity=0;r.call(this)};cb.__name__=
!0;cb.create=function(a,b){var c=new cb;c.initWithDurationFadeTo(a,b);return c};cb.__super__=r;cb.prototype=j(r.prototype,{startWithTarget:function(a){r.prototype.startWithTarget.call(this,a);this._fromOpacity=a.getOpacity()},update:function(a){null!=this._target&&this._target.setOpacity(this._fromOpacity+(this._toOpacity-this._fromOpacity)*a|0)},initWithDurationFadeTo:function(a,b){return r.prototype.initWithDuration.call(this,a)?(this._toOpacity=b,!0):!1},__class__:cb});db=function(){r.call(this)};
db.__name__=!0;db.create=function(a){var b=new db;b.initWithDuration(a);return b};db.__super__=r;db.prototype=j(r.prototype,{update:function(){},__class__:db});vc=function(){this._targets=[]};vc.__name__=!0;vc.prototype={__class__:vc};H=function(){this._hasSetPosition=!1;this.isOriginTopLeft=!0;this._running=this._ignoreAnchorPointForPosition=this._initializedNode=!1;this._visible=!0;this._scaleX=this._scaleY=1;this._zOrder=this._rotation=0;this.init()};rc=void 0;H.__name__=!0;H.prototype={getSprite:function(){return this.sprite},
getEntity:function(){return this.entity},unscheduleAllCallbacks:function(){this.cbUpdate=[]},schedule:function(a,b){this.cbUpdate.push(new rc(a,b))},update:function(a){for(var b=0,c=this.cbUpdate;b<c.length;){var g=c[b];++b;0>=g.curTimer&&(g.fun(),g.curTimer=g.interval);g.curTimer-=a}g=[];b=0;for(c=this.actions;b<c.length;){var l=c[b];++b;null!=l&&l.step(a);l.isDone()&&g.push(l)}if(null!=g)for(b=0;b<g.length;)a=g[b],++b,t.remove(this.actions,a)},getOpacity:function(){return 0},setOpacity:function(){},
getActionByTag:function(a){for(var b=0,c=this.actions;b<c.length;){var g=c[b];++b;if(g.getTag()==a)return g}return null},stopActionByTag:function(a){for(var b=ga.create(),c=0,g=this.actions;c<g.length;){var l=g[c];++c;if(l.getTag()==a){b=l;break}}t.remove(this.actions,b)},stopAction:function(a){t.remove(this.actions,a)},runAction:function(a){for(var b=0,c=this.actions;b<c.length;){var g=c[b];++b;if(g==a)return this.action}this.actions.push(a);a.startWithTarget(this);return a},onExit:function(){this._running=
!1;if(null!=this._children)for(var a=0,b=this._children;a<b.length;){var c=b[a];++a;c.onExit()}},onEnter:function(){this._running=!0},_detachChild:function(a,b){t.remove(this._children,a);this.entity.removeChild(a.getEntity());a.onExit();a._parent=null;b&&a.cleanup()},removeChild:function(a,b){null==b&&(b=!0);null!=this._children&&this._detachChild(a,b)},removeFromParentAndCleanup:function(){this.removeFromParent(!0)},removeFromParent:function(a){null!=this._parent&&this._parent.removeChild(this,
a)},addChild:function(a,b,c){if(a!=this)if(ua.assert(null!=a,"Argument must be non-nil"),null!=a._parent)ua.assert(null==a._parent,"child already added. It can't be added again");else{var g=0;null==c?a.getTag():g=c;a._tag=g;a.setParent(this);this.entity.addChild(a.entity,!0,b);a._zOrder=b;this._children.push(a)}},cleanup:function(){this.unscheduleAllCallbacks();this.entity.dispose()},getTag:function(){return this._tag},isIgnoreAnchorPointForPosition:function(){return this._ignoreAnchorPointForPosition},
setParent:function(a){this._parent=a},getParent:function(){return this._parent},setContentSize:function(a){this._contentSize=new C(a.width,a.height)},getContentSize:function(){return this._contentSize},setCenterAnchor:function(){this.setAnchorPoint(new o(0.5,0.5))},setAnchorPoint:function(a){if(!this.isIgnoreAnchorPointForPosition()){this._anchorPoint=new o(a.x,a.y);var a=this.sprite.getNaturalWidth(),b=this.sprite.getNaturalHeight();this.isOriginTopLeft?this.sprite.setAnchor(this._anchorPoint.x*
a,this._anchorPoint.y*b):this.sprite.setAnchor(this._anchorPoint.x*a,(1-this._anchorPoint.y)*b)}},getAnchorPoint:function(){return new o(this._anchorPoint.x,this._anchorPoint.y)},setVisible:function(a){this._visible=a;this.sprite.set_visible(a)},isVisible:function(){return this._visible},getChildren:function(){null==this._children&&(this._children=[]);return this._children},getPosition:function(){return new o(this._position.x,this._position.y)},setPosition:function(a,b){this._position=new o(a,b);
this.sprite.x.set__(this._position.x);this.sprite.y.set__(this._position.y);this._hasSetPosition=!0},getScaleY:function(){return this._scaleY},getScaleX:function(){return this._scaleX},setScale:function(a,b){this._scaleX=a;null==b?(this._scaleY=a,this.sprite.setScale(a)):(this._scaleY=b,this.sprite.setScaleXY(this._scaleX,this._scaleY))},getScale:function(){ua.assert(this._scaleX==this._scaleY,"cc.Node#scale. ScaleX != ScaleY. Don't know which one to return");return this._scaleX},setRotation:function(a){this._rotation!=
a&&(this._rotation=a,null!=this.sprite&&this.sprite.rotation.set__(this._rotation))},init:function(){!1==this._initializedNode&&this._initNode();return!0},_initNode:function(){1==Sc.NODE_TRANSFORM_USING_AFFINE_MATRIX&&(this._transformGLDirty=!0);this._position=new o(0,0);this._anchorPoint=new o(0,0);this._anchorPointInPoints=new o(0,0);this._contentSize=new C;var a=x.getInstance();this._initializedNode=!0;this._scaleY=this._scaleX=1;this._children=[];this._contentSize=new C(a.getWinSize().width,a.getWinSize().height);
this.entity=new Qb;this.sprite=new A;this.cbUpdate=[];this.actions=[]},__class__:H};rc=function(a,b){this.fun=a;this.interval=b;this.curTimer=0};rc.__name__=!0;rc.prototype={__class__:rc};M=function(){};C=void 0;M.__name__=!0;M.p=function(a,b){return new o(a,b)};M.sizeZero=function(){return new C(0,0)};M.rectZero=function(){return new y(0,0,0,0)};M.rectGetMaxX=function(a){return a.x+a.width};M.rectGetMinX=function(a){return a.x};M.rectGetMaxY=function(a){return a.y+a.height};M.rectGetMinY=function(a){return a.y};
M.rectIntersectsRect=function(a,b){return!(M.rectGetMaxX(a)<M.rectGetMinX(b)||M.rectGetMaxX(b)<M.rectGetMinX(a)||M.rectGetMaxY(a)<M.rectGetMinY(b)||M.rectGetMaxY(b)<M.rectGetMinY(a))};C=function(a,b){null==b&&(b=0);null==a&&(a=0);this.width=a;this.height=b};C.__name__=!0;C.prototype={__class__:C};la=function(){this._pack=Va.pack;this.set__effectVolume(1);this.set__musicVolume(1);this._effectList=new B.StringMap;this._musicList=new B.StringMap};la.__name__=!0;la.getInstance=function(){null==la._instance&&
(la._instance=new la,la._instance.init());return la._instance};la.prototype={set__musicVolume:function(a){0>=a?a=0:1<a&&(a=1);return this._musicVolume=a},set__effectVolume:function(a){0>=a?a=0:1<a&&(a=1);return this._effectVolume=a},playMusic:function(a,b){null==b&&(b=!1);var c=this._pack.getSound(a);null!=this._playingMusic&&(this._playingMusic.set_paused(!0),this._playingMusic.dispose());this._cacheMusic=c;this._playingMusic=b?c.loop(this.get__musicVolume()):c.play(this.get__musicVolume());this._isMusicLoop=
b;this._isMusicPlaying=!0},playEffect:function(a,b){null==b&&(b=!1);var c=this._pack.getSound(a);this._effectList.exists(a)&&this._effectList.get(a).dispose();b?this._effectList.set(a,c.loop(this.get__effectVolume())):this._effectList.set(a,c.play(this.get__effectVolume()))},init:function(){},get__musicVolume:function(){return this._musicVolume},get__effectVolume:function(){return this._effectVolume},__class__:la};Tc=function(){};Da=void 0;Eb=void 0;Tc.__name__=!0;Tc.prototype={__class__:Tc};Eb=function(){};
Eb.__name__=!0;Eb.create=function(a){var b=new Eb;b.initWithDelegate(a);return b};Eb.prototype={initWithDelegate:function(a){ua.assert(null!=a,"It's a wrong delegate!");this._delegate=a;return!0},getDelegate:function(){return this._delegate},__class__:Eb};Da=function(){this._locked=this._toAdd=this._toRemove=!1;this._handlersToAdd=[];this._handlersToRemove=[];this._delegates=[]};Da.__name__=!0;Da.getInstance=function(){null==Da.keyboardDispatcher&&(Da.keyboardDispatcher=new Da,v._platform.getKeyboard().up.connect(function(a){Da.keyboardDispatcher.displatchKeyboardMSG(a,
!1)}),v._platform.getKeyboard().down.connect(function(a){Da.keyboardDispatcher.displatchKeyboardMSG(a,!0)}));return Da.keyboardDispatcher};Da.prototype={displatchKeyboardMSG:function(a,b){this._locked=!0;if(b&&null!=a)for(var c=0,g=this._delegates;c<g.length;){var l=g[c];++c;l.getDelegate().onKeyDown(a)}else if(!b&&null!=a){c=0;for(g=this._delegates;c<g.length;)l=g[c],++c,l.getDelegate().onKeyUp(a)}this._locked=!1;if(this._toRemove){this._toRemove=!1;c=0;for(g=this._handlersToRemove;c<g.length;)l=
g[c],++c,this.forceRemoveDelegate(l);this._handlersToRemove=[]}if(this._toAdd){this._toAdd=!1;c=0;for(g=this._handlersToAdd;c<g.length;)l=g[c],++c,this.forceAddDelegate(l);this._handlersToAdd=[]}return!0},forceRemoveDelegate:function(a){for(var b=null,c=0,g=this._delegates;c<g.length;){var l=g[c];++c;if(l.getDelegate()==a){b=l;break}}null!=b&&t.remove(this._delegates,b)},forceAddDelegate:function(a){a=Eb.create(a);if(null!=a){for(var b=0,c=this._delegates;b<c.length;){var g=c[b];++b;if(g.getDelegate()==
a.getDelegate())return}this._delegates.push(a)}},__class__:Da};sa=function(){this._string=this._initialString="";H.call(this);this._imageOffset=new o(0,0)};sa.__name__=!0;sa.create=function(a,b,c,g,l){var d=new sa;if(null==a&&null==b&&null==c&&null==g&&null==l)return null!=d?d:null;null==l&&(l=new o(0,0));d.initWithString(a,b,c,g,l);return d};sa.__super__=H;sa.prototype=j(H.prototype,{setString:function(a,b){null==b&&(b=!1);this._string!=a&&(this._initialString=this._string=a,this.updateString(b))},
updateString:function(a){a||(this._spriteText.set_text(this._string),this._contentSize.width=this._spriteText.getNaturalWidth(),this._contentSize.height=this._spriteText.getNaturalHeight(),this.setAnchorPoint(this._anchorPoint))},getAlign:function(a){var b=W.Left;switch(a){case 0:b=W.Left;break;case 1:b=W.Center;break;case 2:b=W.Right}return b},initWithString:function(a,b,c,g,d){null==d&&(d=new o(0,0));this._initialString=a;null!=b&&(this._font=new ub(Va.pack,b),this.sprite=new Lb(this._font,a),this._spriteText=
z.__cast(this.sprite,Lb),null!=g&&this._spriteText.set_align(this.getAlign(g)),null!=c&&this._spriteText.wrapWidth.set__(c),this._contentSize.width=this.sprite.getNaturalWidth(),this._contentSize.height=this.sprite.getNaturalHeight());this._imageOffset=d;this.component=new Ia(this);this.entity.add(this.sprite);this.entity.add(this.component);return!0},setOpacity:function(a){this._opacity=a;this.sprite.alpha.set__(this._opacity/255);if(null!=this._children)for(var a=0,b=this._children.length;a<b;){var c=
a++,c=z.__cast(this._children[c],sa);null!=c&&c.setOpacity(this._opacity)}},getOpacity:function(){return this._opacity},__class__:sa});Uc=function(){};L=void 0;uc=void 0;Fb=void 0;Uc.__name__=!0;Uc.prototype={__class__:Uc};F=function(){this._pointerPriority=0;this._isPointerEnabled=!1;H.call(this)};wa=void 0;T=void 0;qb=void 0;F.__name__=!0;F.__interfaces__=[Tc,Uc];F.__super__=H;F.prototype=j(H.prototype,{onKeyUp:function(){},onKeyDown:function(){},onPointerUp:function(){return!1},onPointerMoved:function(){return!1},
onPointerDragged:function(){return!1},onPointerDown:function(){return!1},onExit:function(){x.getInstance().getPointerDispatcher().removePointerDelegate(this);H.prototype.onExit.call(this)},onEnter:function(){x.getInstance();(this._isPointerEnabled=!0)&&this.registerWithTouchDispatcher();H.prototype.onEnter.call(this)},registerWithTouchDispatcher:function(){x.getInstance().getPointerDispatcher().addPointerDelegate(this,this._pointerPriority)},init:function(){H.prototype.init.call(this);this._initLayer();
return!0},addComponent:function(){null==this.component&&(this.component=new Ia(this),this.entity.add(this.component),null==this.entity._compMap.Sprite_2&&this.entity.add(this.sprite))},_initLayer:function(){this.setAnchorPoint(new o(0,0));this._ignoreAnchorPointForPosition=!0;this.setContentSize(x.getInstance().getWinSize());this._isPointerEnabled=!1;this._pointerPriority=0;this.addComponent()},__class__:F});T=function(){H.call(this)};T.__name__=!0;T.create=function(){return new T};T.__super__=H;
T.prototype=j(H.prototype,{init:function(){H.prototype.init.call(this);this.setAnchorPoint(new o(0,0));this.setContentSize(x.getInstance().getWinSize());return!0},__class__:T});wa=function(){T.call(this)};wa.__name__=!0;wa.create=function(a,b){var c=new wa;return null!=c&&c.initWithDuration(a,b)?c:null};wa.__super__=T;wa.prototype=j(T.prototype,{getInScene:function(){return this._inScene},initWithDuration:function(a,b){return this.init()?(this._duration=a,this.setPosition(0,0),this._inScene=b,!0):
!1},__class__:wa});qb=function(){wa.call(this)};qb.__name__=!0;qb.create=function(a,b){var c=new qb;c.initWithDuration(a,b);return c};qb.__super__=wa;qb.prototype=j(wa.prototype,{initWithDuration:function(a,b){wa.prototype.initWithDuration.call(this,a,b);this.transition=new jc(a);return!0},__class__:qb});Q=function(){this._enabled=!1;this._state=-1;F.call(this);this.setContentSize(new C(0,0))};G=void 0;Ja=void 0;ka=void 0;Cb=void 0;Q.__name__=!0;Q.create=function(a){var b=new Q;if(null==a)return b.initWithItems(null),
b;0==a.length&&b.initWithItems(null);b.initWithArray(a);return b};Q.__super__=F;Q.prototype=j(F.prototype,{_itemForTouch:function(a){a.getLocation();if(null!=this._children&&0<this._children.length)for(var b=0,c=this._children.length;b<c;){var g=b++,g=z.__cast(this._children[g],G);if(g.isVisible()&&g.isEnabled()){g.rect();var d=!1,f=g.getCurrentNode();null!=f&&(d=f.getSprite().contains(a.getLocation().x,a.getLocation().y));if(d)return g}}return null},onExit:function(){this._state==Q.MENU_STATE_TRACKING_TOUCH&&
(this._selectedItem.unselected(),this._state=Q.MENU_STATE_WAITING,this._selectedItem=null);F.prototype.onExit.call(this)},onPointerMoved:function(){return!0},onPointerDragged:function(a){if(!this._enabled)return!0;a=this._itemForTouch(a);a!=this._selectedItem&&(null!=this._selectedItem&&this._selectedItem.unselected(),this._selectedItem=a,null!=this._selectedItem&&this._selectedItem.selected());return!0},onPointerUp:function(){if(!this._enabled)return!0;null!=this._selectedItem&&(this._selectedItem.unselected(),
this._selectedItem.activate());this._state=Q.MENU_STATE_WAITING;return!0},onPointerDown:function(a){if(this._state!=Q.MENU_STATE_WAITING||!this._visible||!this._enabled)return!0;for(var b=this._parent;null!=b;){if(!b.isVisible())return!1;b=b.getParent()}this._selectedItem=this._itemForTouch(a);return null!=this._selectedItem?(this._state=Q.MENU_STATE_TRACKING_TOUCH,this._selectedItem.selected(),!0):!1},registerWithTouchDispatcher:function(){x.getInstance().getPointerDispatcher().addPointerDelegate(this,
Q.MENU_HANDLER_PRIORITY)},alignVerticallyWithPadding:function(a){var b=a;if(null!=this._children&&0<this._children.length)for(var c=0,g=this._children.length;c<g;){var d=c++;this._children[d].setPosition(0,b);b+=this._children[d].getContentSize().height*this._children[d].getScaleY()+a}},addChild:function(a,b,c){ua.assert(z.__instanceof(a,G),"Menu only supports MenuItem objects as children");F.prototype.addChild.call(this,a,b,c)},initWithArray:function(a){this._enabled=!0;x.getInstance().getWinSize();
if(null!=a)for(var b=0,c=a.length;b<c;){var g=b++;this.addChild(a[g],g);a[g].setPosition(0,0)}this._selectedItem=null;this._state=Q.MENU_STATE_WAITING;return!0},initWithItems:function(a){var b=[];if(null!=a)for(var c=0,g=a.length;c<g;){var d=c++;b.push(a[d])}return this.initWithArray(b)},__class__:Q});G=function(){this._isSelected=this._isEnabled=!1;H.call(this);this.sprite=new A;this.entity.add(this.sprite);this.component=new Ia(this);this.entity.add(this.component)};G.__name__=!0;G.__super__=H;
G.prototype=j(H.prototype,{getCurrentNode:function(){return null},activate:function(){this._isEnabled&&null!=this._selector&&this._selector.apply(this._listener,[])},unselected:function(){this._isSelected=!1},selected:function(){this._isSelected=!0},rect:function(){var a=this._position,b=this._contentSize;return new y(a.x,a.y,b.width,b.height)},initWithCallback:function(a,b){this._listener=b;this._selector=a;this._isEnabled=!0;this._isSelected=!1;return!0},isEnabled:function(){return this._isEnabled},
__class__:G});Ja=function(){this._originalScale=0;G.call(this)};Ja.__name__=!0;Ja.create=function(a,b,c){var g=new Ja;g.initWithLabel(a,b,c);return g};Ja.__super__=G;Ja.prototype=j(G.prototype,{getCurrentNode:function(){return this._label},unselected:function(){if(this._isEnabled){G.prototype.unselected.call(this);this.stopActionByTag(G.ZOOM_ACTION_TAG);var a=ia.create(0.1,this._originalScale);a.setTag(G.ZOOM_ACTION_TAG);this.runAction(a)}},selected:function(){if(this._isEnabled){G.prototype.selected.call(this);
var a=this.getActionByTag(G.ZOOM_ACTION_TAG);null!=a?this.stopAction(a):this._originalScale=this.getScale();a=ia.create(0.1,1.2*this._originalScale);a.setTag(G.ZOOM_ACTION_TAG);this._label.runAction(a)}},activate:function(){this._isEnabled&&(this.setScale(this._originalScale),G.prototype.activate.call(this))},initWithLabel:function(a,b,c){this.initWithCallback(b,c);this._originalScale=1;this.setLabel(a);return!0},getOpacity:function(){return this._label.getOpacity()},setOpacity:function(a){this._label.setOpacity(a)},
setLabel:function(a){null!=a&&(this.addChild(a),this.setContentSize(a.getContentSize()));null!=this._label&&this.removeChild(this._label,!0);this._label=a},__class__:Ja});ka=function(){G.call(this)};ka.__name__=!0;ka.create=function(a,b,c,g,d){var f=new ka;f.initWithNormalSprite(a,b,c,g,d);return f};ka.__super__=G;ka.prototype=j(G.prototype,{getCurrentNode:function(){return this._currentImage},_updateImagesVisibility:function(){this._isEnabled?(null!=this._normalImage&&this._normalImage.setVisible(!0),
null!=this._selectedImage&&this._selectedImage.setVisible(!1),null!=this._disabledImage&&this._disabledImage.setVisible(!1),this._currentImage=this._normalImage):null!=this._disabledImage?(null!=this._normalImage&&this._normalImage.setVisible(!1),null!=this._selectedImage&&this._selectedImage.setVisible(!1),null!=this._disabledImage&&this._disabledImage.setVisible(!0),this._currentImage=this._disabledImage):(null!=this._normalImage&&this._normalImage.setVisible(!0),null!=this._selectedImage&&this._selectedImage.setVisible(!1),
null!=this._disabledImage&&this._disabledImage.setVisible(!1),this._currentImage=this._normalImage)},setAnchorPoint:function(a){G.prototype.setAnchorPoint.call(this,a);null!=this._normalImage&&this._normalImage.setAnchorPoint(a);null!=this._disabledImage&&this._disabledImage.setAnchorPoint(a);null!=this._selectedImage&&this._selectedImage.setAnchorPoint(a)},unselected:function(){G.prototype.unselected.call(this);null!=this._normalImage&&(this._normalImage.setVisible(!0),this._currentImage=this._normalImage,
null!=this._selectedImage&&this._selectedImage.setVisible(!1),null!=this._disabledImage&&this._disabledImage.setVisible(!1))},selected:function(){G.prototype.selected.call(this);null!=this._normalImage&&(null!=this._disabledImage&&this._disabledImage.setVisible(!1),null!=this._selectedImage?(this._normalImage.setVisible(!1),this._selectedImage.setVisible(!0)):this._normalImage.setVisible(!0),this._currentImage=this._selectedImage)},getOpacity:function(){return this._normalImage.getOpacity()},setOpacity:function(a){this._normalImage.setOpacity(a);
null!=this._selectedImage&&this._selectedImage.setOpacity(a);null!=this._disabledImage&&this._disabledImage.setOpacity(a)},initWithNormalSprite:function(a,b,c,g,d){this.initWithCallback(g,d);this.setNormalImage(a);this.setSelectedImage(b);this.setDisabledImage(c);null!=this._normalImage&&this.setContentSize(this._normalImage.getContentSize());return!0},setDisabledImage:function(a){this._disabledImage!=a&&(null!=a&&this.addChild(a,0,G.DISABLE_TAG),null!=this._disabledImage&&this.removeChild(this._disabledImage,
!0),this._disabledImage=a,this._disabledImage.isOriginTopLeft=this.isOriginTopLeft,this._disabledImage.setAnchorPoint(this.getAnchorPoint()),this._updateImagesVisibility())},setSelectedImage:function(a){this._selectedImage!=a&&(null!=a&&this.addChild(a,0,G.SELECTED_TAG),null!=this._selectedImage&&this.removeChild(this._selectedImage,!0),this._selectedImage=a,this._selectedImage.isOriginTopLeft=this.isOriginTopLeft,this._selectedImage.setAnchorPoint(this.getAnchorPoint()),this._updateImagesVisibility())},
setNormalImage:function(a){this._normalImage!=a&&(null!=a&&this.addChild(a,0,G.NORMAL_TAG),null!=this._normalImage&&this.removeChild(this._normalImage,!0),this._normalImage=a,this.setContentSize(this._normalImage.getContentSize()),this._normalImage.isOriginTopLeft=this.isOriginTopLeft,this._normalImage.setAnchorPoint(this.getAnchorPoint()),this._updateImagesVisibility())},__class__:ka});Cb=function(){ka.call(this)};Cb.__name__=!0;Cb.create=function(a,b,c,g,d){var f=new Cb;return f.initWithNormalImage(a,
b,c,g,d)?f:null};Cb.__super__=ka;Cb.prototype=j(ka.prototype,{initWithNormalImage:function(a,b,c,g,d){var f=null,S=null,e=null;null!=a&&(f=n.create(a));null!=b&&(S=n.create(b));null!=c&&(e=n.create(c));return this.initWithNormalSprite(f,S,e,g,d)},__class__:Cb});na=function(){};ua=void 0;Sc=void 0;La=void 0;Ma=void 0;E=void 0;Ya=void 0;Yb=void 0;Na=void 0;Za=void 0;tc=void 0;jb=void 0;kb=void 0;$a=void 0;lb=void 0;Zb=void 0;na.__name__=!0;na.decode=function(a){for(var a=gb.ltrim(a),a=gb.rtrim(a),b=
[],c,g,d,f,S=0,e;S<a.length;)c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(a.charAt(S++)),g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(a.charAt(S++)),d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(a.charAt(S++)),f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(a.charAt(S++)),c=c<<2|g>>4,g=(g&15)<<4|d>>2,e=(d&3)<<6|f,b.push(String.fromCharCode(c)),64!=d&&b.push(String.fromCharCode(g)),
64!=f&&b.push(String.fromCharCode(e));a=b.join("");for(f=d=0;f<b.length;)S=b[f],++f,t.cca(S,0),d++;return a};na.decodeAsArray=function(a,b,c){null==c&&(c=4);for(var a=na.decode(a),b=[],g=a.length/c|0,d=0;d<g;){var f=d++;b[f]=0;for(var S=c-1;0<=S;){var e=t.cca(a,f*c+S)<<8*S;b[f]+=e;S--}}return b};na.decodeAsOneArray=function(a,b,c){null==c&&(c=4);for(var a=na.decode(a),b=[],g=a.length/c|0,d=0;d<g;){var f=d++;b[f]=0;for(var e=c-1;0<=e;){var i=t.cca(a,f*c+e)<<8*e;b[f]+=i;e--}}return b};na.decodeAsArrayBytes=
function(a,b,c){null==c&&(c=4);for(var b=[],g=a.length/c|0,d=0;d<g;){var f=d++;b[f]=0;for(var e=c-1;0<=e;)b[f]+=a.b[f*c+e]<<8*e,e--}return b};na.unzip=function(a,b){na.decode(a);var c=na.decodeAsOneArray(a,0,1),c=q.Bytes.ofData(c),c=k.InflateImpl.run(new q.BytesInput(c));return na.decodeAsArrayBytes(c,b)};ua=function(){};ua.__name__=!0;ua.log=function(){};ua.assert=function(a,b){if(!a)throw b;};o=function(a,b){null==b&&(b=0);null==a&&(a=0);this.x=a;this.y=b};y=void 0;Aa=void 0;Ha=void 0;o.__name__=
!0;o.prototype={__class__:o};Sc=function(){};Sc.__name__=!0;La=function(){this.rootDict=[]};La.__name__=!0;La.getInstance=function(){null==La.s_SharedFileUtils&&(La.s_SharedFileUtils=new La);return La.s_SharedFileUtils};La.prototype={dictionaryWithContentsOfFile:function(a){return this.rootDict=Ma.getInstance().parse(a)},__class__:La};E=function(a){this.treepos=this.len=0;this.data=a;this.debug=!1;this.files=this.gpflags=0;this.unzipped=[];this.buf32k=[];this.bIdx=0;this.modeZIP=!1;this.bytepos=0;
this.bb=1;this.bits=0;this.nameBuf=[];this.fileout=[];this.literalTree=[];this.literalTree[E.LITERALS-1]=new Ya;this.distanceTree=[];this.distanceTree[31]=new Ya;this.treepos=0;this.Places=null;this.len=0;this.fpos=[];this.fpos[16]=0;this.fpos[0]=0;this.flens=[];this.fmax=0};E.__name__=!0;E.gunzip=function(a){return(new E(a)).gunzipLocal()};E.prototype={skipdir:function(){var a=[],b;0!=(this.gpflags&8)&&(a[0]=this.readByte(),a[1]=this.readByte(),a[2]=this.readByte(),a[3]=this.readByte(),this.readByte(),
this.readByte(),this.readByte(),this.readByte(),this.readByte(),this.readByte(),this.readByte(),this.readByte());this.modeZIP&&this.nextFile();a[0]=this.readByte();if(8!=a[0])return 0;this.gpflags=this.readByte();this.readByte();this.readByte();this.readByte();this.readByte();this.readByte();this.readByte();if(0!=(this.gpflags&4)){a[0]=this.readByte();a[2]=this.readByte();this.len=a[0]+256*a[1];a=0;for(b=this.len;a<b;)a++,this.readByte()}if(0!=(this.gpflags&8)){a=0;for(this.nameBuf=[];0!=(b=this.readByte());){if("7"==
String.fromCharCode(b)||":"==String.fromCharCode(b))a=0;a<E.NAMEMAX-1&&(this.nameBuf[a++]=String.fromCharCode(b))}}0!=(this.gpflags&2)&&(this.readByte(),this.readByte());this.deflateLoop();this.readByte();this.readByte();this.readByte();this.readByte();this.modeZIP&&this.nextFile();return 0},nextFile:function(){this.outputArr=[];this.modeZIP=!1;var a=[];a[0]=this.readByte();a[1]=this.readByte();120==a[0]&&218==a[1]&&(this.deflateLoop(),this.unzipped[this.files]=[this.outputArr.join(""),"geonext.gxt"],
this.files++);31==a[0]&&139==a[1]&&(this.skipdir(),this.unzipped[this.files]=[this.outputArr.join(""),"file"],this.files++);if(80==a[0]&&75==a[1]&&(this.modeZIP=!0,a[2]=this.readByte(),a[3]=this.readByte(),3==a[2]&&4==a[3])){a[0]=this.readByte();a[1]=this.readByte();this.gpflags=this.readByte();this.gpflags|=this.readByte()<<8;a=this.readByte();a|=this.readByte()<<8;this.readByte();this.readByte();this.readByte();this.readByte();this.readByte();this.readByte();this.readByte();this.readByte();this.readByte();
this.readByte();this.readByte();this.readByte();var b=this.readByte(),b=b|this.readByte()<<8,c=this.readByte(),c=c|this.readByte()<<8,g=0;this.nameBuf=[];for(var d;0!=b--;)d=this.readByte(),"/"==String.fromCharCode(d)||":"==String.fromCharCode(d)?g=0:g<E.NAMEMAX-1&&(this.nameBuf[g++]=String.fromCharCode(d));null==this.fileout&&(this.fileout=this.nameBuf);for(g=0;g<c;)this.readByte(),g++;8==a&&(this.deflateLoop(),this.unzipped[this.files]=[this.outputArr.join(""),this.nameBuf.join("")],this.files++);
this.skipdir()}},deflateLoop:function(){var a,b,c,g=0,d;do if(a=this.readBit(),c=this.readBits(2),0==c){b=0;this.byteAlign();c=this.readByte();c|=this.readByte()<<8;b=this.readByte();b|=this.readByte()<<8;if(0!=((c^~b)&65535))throw"BlockLen checksum mismatch\n";for(;0!=c--;)b=this.readByte(),this.addBuffer(b)}else if(1==c)for(var f;;)if(f=E.bitReverse[this.readBits(7)]>>1,23<f?(f=f<<1|this.readBit(),199<f?(f-=128,f=f<<1|this.readBit()):(f-=48,143<f&&(f+=136))):f+=256,256>f)this.addBuffer(f);else if(256==
f)break;else{f-=257;c=this.readBits(E.cplext[f])+E.cplens[f];f=E.bitReverse[this.readBits(5)]>>3;8<E.cpdext[f]?(b=this.readBits(8),b|=this.readBits(E.cpdext[f]-8)<<8):b=this.readBits(E.cpdext[f]);b+=E.cpdist[f];for(f=0;f<c;){d=f++;var e=this.buf32k[this.bIdx-b&32767];this.addBuffer(e)}}else if(2==c){e=[];c=257+this.readBits(5);b=1+this.readBits(5);g=4+this.readBits(4);for(f=0;19>f;)d=f++,e[d]=0;for(f=0;f<g;)d=f++,e[E.border[d]]=this.readBits(3);g=this.distanceTree.length;for(f=0;f<g;)d=f++,this.distanceTree[d]=
new Ya;if(0!=this.createTree(this.distanceTree,19,e,0))return this.flushBuffer(),1;g=c+b;d=0;for(var i=-1;d<g;)if(i++,f=this.decodeValue(this.distanceTree),16>f)e[d++]=f;else if(16==f){var h;f=3+this.readBits(2);if(d+f>g)return this.flushBuffer(),1;for(h=0!=d?e[d-1]:0;0!=f--;)e[d++]=h}else{f=17==f?3+this.readBits(3):11+this.readBits(7);if(d+f>g)return this.flushBuffer(),1;for(;0!=f--;)e[d++]=0}g=this.literalTree.length;for(f=0;f<g;)d=f++,this.literalTree[d]=new Ya;if(0!=this.createTree(this.literalTree,
c,e,0))return this.flushBuffer(),1;g=this.literalTree.length;for(f=0;f<g;)d=f++,this.distanceTree[d]=new Ya;g=[];i=c;for(f=e.length;i<f;)d=i++,g[d-c]=e[d];if(0!=this.createTree(this.distanceTree,b,g,0))return this.flushBuffer(),1;for(;;)if(f=this.decodeValue(this.literalTree),256<=f){f-=256;if(0==f)break;f--;c=this.readBits(E.cplext[f])+E.cplens[f];f=this.decodeValue(this.distanceTree);8<E.cpdext[f]?(b=this.readBits(8),b|=this.readBits(E.cpdext[f]-8)<<8):b=this.readBits(E.cpdext[f]);for(b+=E.cpdist[f];0!=
c--;)e=this.buf32k[this.bIdx-b&32767],this.addBuffer(e)}else this.addBuffer(f)}while(0==a);this.flushBuffer();this.byteAlign();return 0},decodeValue:function(a){for(var b=0,c=0,g=a[c],b=0;;)if(b=this.readBit(),0!=b){if(0==(g.b1&32768))return g.b1;for(var g=g.jump,b=a.length,d=0;d<b;){var f=d++;if(a[f]==g){c=f;break}}}else{if(0==(g.b0&32768))return g.b0;c++;g=a[c]}return-1},createTree:function(a,b,c){this.Places=a;this.treepos=0;this.flens=c;this.fmax=b;for(a=0;17>a;)this.fpos[a++]=0;this.len=0;return 0!=
this.rec()?-1:0},rec:function(){var a=this.Places[this.treepos],b;if(17==this.len)return-1;this.treepos++;this.len++;b=this.isPat();if(0<=b)a.b0=b;else if(a.b0=32768,0!=this.rec())return-1;b=this.isPat();if(0<=b)a.b1=b,a.jump=null;else if(a.b1=32768,a.jump=this.Places[this.treepos],a.jumppos=this.treepos,0!=this.rec())return-1;this.len--;return 0},isPat:function(){for(;;){if(this.fpos[this.len]>=this.fmax)return-1;if(this.flens[this.fpos[this.len]]==this.len)return this.fpos[this.len]++;this.fpos[this.len]++}},
addBuffer:function(a){this.buf32k[this.bIdx++]=a;this.outputArr.push(String.fromCharCode(a));32768==this.bIdx&&(this.bIdx=0)},flushBuffer:function(){this.bIdx=0},readBits:function(a){for(var b=0,c=a;0!=c;)b=b<<1|this.readBit(),c--;0!=a&&(b=E.bitReverse[b]>>8-a);return b},readBit:function(){this.bits++;var a=this.bb&1;this.bb>>=1;0==this.bb&&(this.bb=this.readByte(),a=this.bb&1,this.bb=this.bb>>1|128);return a},byteAlign:function(){this.bb=1},readByte:function(){this.bits+=8;return this.bytepos<this.data.length?
t.cca(this.data,this.bytepos++):-1},gunzipLocal:function(){this.outputArr=[];this.nextFile();return this.unzipped[0][0]},__class__:E};Ya=function(){this.jumppos=-1;this.b0=this.b1=0};Ya.__name__=!0;Ya.prototype={__class__:Ya};Yb=function(a){null!=a&&(this.name=a.name,this.x=a.x,this.y=a.y,this.width=a.width,this.height=a.height,this.sourceColorX=a.sourceColorX,this.sourceColorY=a.sourceColorY,this.rotated=a.rotated)};Yb.__name__=!0;Yb.prototype={__class__:Yb};Ma=function(){this.plist=[]};Ma.__name__=
!0;Ma.getInstance=function(){null==Ma._instance&&(Ma._instance=new Ma);return Ma._instance};Ma.prototype={parseString:function(a){for(var b=[],c=new Oc,g=0,d=a.length;g<d;){var f=g++;"{"!=a.charAt(f)&&"}"!=a.charAt(f)&&c.addSub(a.charAt(f),0,null)}a=c.b;d=0;for(g=a.split(",");d<g.length;)f=g[d],++d,b.push(p.parseFloat(f));return b},parse:function(a){this.xmlDoc=u.parse(Va.pack.getFile(a).toString());for(var a=0,b=this.xmlDoc.firstElement().firstElement().elements();b.hasNext();){var c=b.next();"frames"==
c.firstChild().get_nodeValue()?a=1:"dict"==c.get_nodeName()&&1==a?this.frames=c:"metadata"==c.firstChild().get_nodeValue()?a=2:"dict"==c.get_nodeName()&&2==a&&(this.metadata=c)}for(var a=1,b=new Yb,g="",d=this.frames.elements();d.hasNext();)if(c=d.next(),"key"==c.get_nodeName()&&1==a)b.name=c.firstChild().get_nodeValue(),a=2;else if("dict"==c.get_nodeName()&&2==a){a=1;for(c=c.elements();c.hasNext();){var f=c.next();if("key"==f.get_nodeName())g=f.firstChild().get_nodeValue();else switch(g){case "frame":f=
this.parseString(f.firstChild().get_nodeValue());b.x=f[0];b.y=f[1];b.width=f[2];b.height=f[3];break;case "sourceColorRect":f=this.parseString(f.firstChild().get_nodeValue());b.sourceColorX=f[0];b.sourceColorY=f[1];break;case "rotated":b.rotated="true"==f.get_nodeName()?!0:!1}}this.plist.push(new Yb(b))}return this.plist},__class__:Ma};Na=function(){};Na.__name__=!0;Na.white=function(){return new Za(255,255,255)};Na.V3F_C4B_T2F_QuadZero=function(){return new tc(new jb(new kb(0,0,0),new $a(0,0,0,1),
new lb(0,0)),new jb(new kb(0,0,0),new $a(0,0,0,1),new lb(0,0)),new jb(new kb(0,0,0),new $a(0,0,0,1),new lb(0,0)),new jb(new kb(0,0,0),new $a(0,0,0,1),new lb(0,0)))};Na.convertColor3BtoHexString=function(a){return"0x"+gb.hex((a.r&255)<<16|(a.g&255)<<8|a.b&255)};Za=function(a,b,c){this.r=a;this.g=b;this.b=c;this.color=p.parseInt(Na.convertColor3BtoHexString(this))};Za.__name__=!0;Za.white=function(){return new Za(255,255,255)};Za.prototype={__class__:Za};$a=function(a,b,c,g){this.r=a;this.g=b;this.b=
c;this.a=g;this.color=p.parseInt(Na.convertColor3BtoHexString(new Za(a,b,c)))};$a.__name__=!0;$a.prototype={__class__:$a};kb=function(a,b,c){this.x=a;this.y=b;this.z=c};kb.__name__=!0;kb.prototype={__class__:kb};lb=function(a,b){this.u=a;this.v=b};lb.__name__=!0;lb.prototype={__class__:lb};jb=function(a,b,c){this.vertices=a;this.colors=b;this.texCoords=c};jb.__name__=!0;jb.prototype={__class__:jb};tc=function(a,b,c,g){this.bl=a;this.br=b;this.tl=c;this.tr=g};tc.__name__=!0;tc.prototype={__class__:tc};
Zb=function(){};Zb.__name__=!0;Zb.unzipBase64=function(a){a=na.decode(a);return E.gunzip(a)};Zb.unzipBase64AsArray=function(a,b,c){null==c&&(c=1);for(var a=Zb.unzipBase64(a),b=[],g=a.length/c|0,d=0;d<g;){var f=d++;b[f]=0;for(var e=c-1;0<=e;){var i=t.cca(a,f*c+e)<<8*e;b[f]+=i;e--}}return b};Db=function(){this._frames=[];this._restoreOriginalFrame=!0;this._totalDelayUnits=this._delayPerUnit=this._duration=this._loops=0};n=void 0;sc=void 0;Ca=void 0;ta=void 0;ma=void 0;Ka=void 0;ib=void 0;Db.__name__=
!0;Db.createWithAnimationFrames=function(a,b,c){var g=new Db;null==c&&g.initWithSpriteFrames(a,b);return g};Db.prototype={initWithSpriteFrames:function(a,b){this._loops=1;this._delayPerUnit=b;this.setFrames([]);if(null!=a)for(var c=0;c<a.length;){var g=a[c];++c;var d=new sc;d.initWithSpriteFrame(g,1,null);this._frames.push(d);this._totalDelayUnits++}return!0},getTotalDelayUnits:function(){return this._totalDelayUnits},getDelayPerUnit:function(){return this._delayPerUnit},getDuration:function(){return this._totalDelayUnits*
this._delayPerUnit},getRestoreOriginalFrame:function(){return this._restoreOriginalFrame},getLoops:function(){return this._loops},setFrames:function(a){this._frames=a},getFrames:function(){return this._frames},__class__:Db};sc=function(){this._delayPerUnit=0};sc.__name__=!0;sc.prototype={setUserInfo:function(a){this._userInfo=a},setDelayUnits:function(a){this._delayPerUnit=a},getDelayUnits:function(){return this._delayPerUnit},setSpriteFrame:function(a){this._spriteFrame=a},getSpriteFrame:function(){return this._spriteFrame},
initWithSpriteFrame:function(a,b,c){this.setSpriteFrame(a);this.setDelayUnits(b);this.setUserInfo(c);return!0},__class__:sc};Ca=function(){};Ca.__name__=!0;Ca.getInstance=function(){null==Ca.s_sharedAnimationCache&&(Ca.s_sharedAnimationCache=new Ca,Ca.s_sharedAnimationCache.init());return Ca.s_sharedAnimationCache};Ca.prototype={init:function(){this._animations=new B.StringMap;return!0},getAnimation:function(a){return this._animations.exists(a)?this._animations.get(a):null},addAnimation:function(a,
b){this._animations.set(b,a)},__class__:Ca};n=function(){this._isAdded=this.isTiledMap=!1;this._opacity=255;H.call(this);this._color=Za.white();this._offsetPosition=new o(0,0);this._unflippedOffsetPositionFromCenter=M.p(0,0);this._shouldBeHidden=!1};n.__name__=!0;n.createWithTexture=function(a,b,c){null==c&&(c=!1);var g=new n;g.isTiledMap=c;null==b?g.initWithTexture(a):g.initWithTexture(a,b);return g};n.create=function(a,b){var c=new n;null==a?c.init():null==b?(c.init(),c.initWithFile(a)):(c.init(),
c.initWithFile(a,b));return c};n.__super__=H;n.prototype=j(H.prototype,{update:function(a){H.prototype.update.call(this,a)},displayFrame:function(){return z.__instanceof(this.sprite,ta)?z.__cast(this.sprite,ta).getCurrentFrame():null},setDisplayFrame:function(a){if(z.__instanceof(this.sprite,ta)){var b=z.__cast(this.sprite,ta);b.updateFrame(a)}else{var c=this.sprite.x._value,g=this.sprite.y._value,d=this.sprite.scaleX._value,f=this.sprite.scaleY._value,e=this._anchorPoint.x,i=this._anchorPoint.y;
this.sprite=new ta;b=z.__cast(this.sprite,ta);b.updateFrame(a);this.setAnchorPoint(new o(e,i));this.setPosition(c,g);this.setScale(d,f);this._isAdded||(this.entity.add(b),this.component=new Ia(this),this.entity.add(this.component),this._contentSize=new C(a.getRect().width,a.getRect().height),this._isAdded=!0)}this._rectRotated=a.isRotated();b=a.getTexture();b!=this._texture&&this.setTexture(b);this.setTextureRect(a.getRect(),this._rectRotated,a.getOriginalSize())},setTexture:function(a){this._texture=
a},setTextureRect:function(){},initWithSpriteFrameName:function(a){return this.initWithSpriteFrame(ma.getInstance().getSpriteFrame(a))},initWithSpriteFrame:function(a){this._position.x=a.getOffset().x;this._position.y=a.getOffset().y;return this.initWithTexture(a.getTexture(),a.getRect(),a.isRotated())},initWithFile:function(a,b){var c=Va.pack.getTexture(a),g=fa.getInstance().addImage(a);null==b?(this.sprite=new Mb(c),this.setAnchorPoint(this.getAnchorPoint()),this._contentSize=new C(this.sprite.getNaturalWidth(),
this.sprite.getNaturalHeight()),this.entity.add(this.sprite),this.component=new Ia(this),this.entity.add(this.component)):this.initWithTexture(g,b)},initWithTexture:function(a,b,c){null==c&&(c=!1);if(null==b)b=new y(0,0,0,0),b.width=a.getPixelsWide(),b.height=a.getPixelsHigh(),this.sprite=new Mb(a.getTexture()),this.setAnchorPoint(this.getAnchorPoint()),this._contentSize=new C(this.sprite.getNaturalWidth(),this.sprite.getNaturalHeight()),this.entity.add(this.sprite),this.component=new Ia(this),this.entity.add(this.component);
else{this.sprite=new ta(this.isTiledMap);var g=z.__cast(this.sprite,ta),d=Ka.createWithTexture(a,b,c,this._position,new C);g.updateFrame(d);this.entity.add(g);this.component=new Ia(this);this.entity.add(this.component);this._contentSize=new C(b.width,b.height);this._isAdded=!0;this.setAnchorPoint(this.getAnchorPoint())}this.setTexture(a);this.setTextureRect(b,c,new C(b.width,b.height));return!0},init:function(){H.prototype.init.call(this);this._dirty=this._recursiveDirty=!1;this._opacityModifyRGB=
!0;this._opacity=1;this._color=Na.white();this._colorUnmodified=Na.white();this._flipX=this._flipY=!1;this.setAnchorPoint(new o(0.5,0.5));this._offsetPosition=new o(0,0);this._hasChildren=!1;var a=new $a(255,255,255,1);this._quad=Na.V3F_C4B_T2F_QuadZero();this._quad.bl.colors=a;this._quad.br.colors=a;this._quad.tl.colors=a;this._quad.tr.colors=a;this.setTextureRect(M.rectZero(),!1,M.sizeZero());return!0},setOpacity:function(a){this._opacity=a;this.sprite.alpha.set__(a/255)},getOpacity:function(){return this._opacity},
setBlendFunc:function(a){this._blendFunc=a;this.sprite.blendMode=a},__class__:n});ib=function(){H.call(this);this.entity.add(this.sprite)};ib.__name__=!0;ib.__super__=H;ib.prototype=j(H.prototype,{initWithTexture:function(a){this._texture=this._originalTexture=a;return!0},__class__:ib});Ka=function(){this._offset=new o(0,0);this._offsetInPixels=new o(0,0);this._originalSize=new C(0,0);this._rectInPixels=new y(0,0,0,0);this._rect=new y(0,0,0,0);this._originalSizeInPixels=new C(0,0);this._textureFilname=
""};Ka.__name__=!0;Ka.createWithTexture=function(a,b,c,g,d){var f=new Ka;f.initWithTexture(a,b,c,g,d);return f};Ka.prototype={initWithTexture:function(a,b,c,g,d){this._texture=a;this._rect=this._rectInPixels=b;this._offset=this._offsetInPixels=g;this._originalSize=this._originalSizeInPixels=d;this._rotated=c;return!0},getOffset:function(){return new o(this._offset.x,this._offset.y)},getTexture:function(){return null!=this._texture?this._texture:null},getOriginalSize:function(){return new C(this._originalSize.width,
this._originalSize.height)},getRect:function(){return this._rect},isRotated:function(){return this._rotated},__class__:Ka};ma=function(){this._spriteFrames=new B.StringMap};ma.__name__=!0;ma.getInstance=function(){null==ma.s_sharedSpriteFrameCache&&(ma.s_sharedSpriteFrameCache=new ma);return ma.s_sharedSpriteFrameCache};ma.prototype={getSpriteFrame:function(a){return this._spriteFrames.exists(a)?this._spriteFrames.get(a):null},addSpriteFrames:function(a,b){var c=La.getInstance().dictionaryWithContentsOfFile(a),
g=new qc;if(null==b){var d=a.split(".pli")[0];g.setTexture(Va.pack.getTexture(d))}this._addSpriteFramesWithDictionary(c,g)},_addSpriteFramesWithDictionary:function(a,b){for(var c=0;c<a.length;){var g=a[c];++c;var d=new y(g.x,g.y,g.width,g.height),f=g.rotated,e=new o(g.sourceColorX,g.sourceColorY),i=new C(0,0),d=Ka.createWithTexture(b,d,f,e,i);this._spriteFrames.set(g.name,d)}},__class__:ma};A=function(){this._viewMatrixUpdateCount=this._parentViewMatrixUpdateCount=0;this.blendMode=this.scissor=this._viewMatrix=
null;var a=this;this._flags=75;this._localMatrix=new Aa;var b=function(){a._flags|=12};this.x=new Y(0,b);this.y=new Y(0,b);this.rotation=new Y(0,b);this.scaleX=new Y(1,b);this.scaleY=new Y(1,b);this.anchorX=new Y(0,b);this.anchorY=new Y(0,b);this.alpha=new Y(1)};W=void 0;ub=void 0;Lb=void 0;Mb=void 0;R=void 0;ic=void 0;za=void 0;fb=void 0;Ic=void 0;Pa=void 0;Nb=void 0;A.__name__=!0;A.hitTest=function(a,b,c){var g=a._compMap.Sprite_2;if(null!=g){if(3!=(g._flags&3))return null;g.getLocalMatrix().inverseTransform(b,
c,A._scratchPoint)&&(b=A._scratchPoint.x,c=A._scratchPoint.y);var d=g.scissor;if(null!=d&&!d.contains(b,c))return null}a=A.hitTestBackwards(a.firstChild,b,c);return null!=a?a:null!=g&&g.containsLocal(b,c)?g:null};A.render=function(a,b){var c=a._compMap.Sprite_2;if(null!=c){var g=c.alpha._value;if(0==(c._flags&1)||0>=g)return;b.save();1>g&&b.multiplyAlpha(g);null!=c.blendMode&&b.setBlendMode(c.blendMode);var g=c.getLocalMatrix(),d=g.m02,f=g.m12;0!=(c._flags&64)&&(d=Math.round(d),f=Math.round(f));b.transform(g.m00,
g.m10,g.m01,g.m11,d,f);g=c.scissor;null!=g&&b.applyScissor(g.x,g.y,g.width,g.height);c.draw(b)}g=a._compMap.Director_5;if(null!=g){g=g.occludedScenes;for(d=0;d<g.length;)f=g[d],++d,A.render(f,b)}for(g=a.firstChild;null!=g;)d=g.next,A.render(g,b),g=d;null!=c&&b.restore()};A.hitTestBackwards=function(a,b,c){if(null!=a){var g=A.hitTestBackwards(a.next,b,c);return null!=g?g:A.hitTest(a,b,c)}return null};A.__super__=aa;A.prototype=j(aa.prototype,{set_visible:function(a){this._flags=Yc.set(this._flags,
1,a);return a},getParentSprite:function(){if(null==this.owner)return null;for(var a=this.owner.parent;null!=a;){var b=a._compMap.Sprite_2;if(null!=b)return b;a=a.parent}return null},isViewMatrixDirty:function(){if(0!=(this._flags&8))return!0;var a=this.getParentSprite();return null==a?!1:this._parentViewMatrixUpdateCount!=a._viewMatrixUpdateCount||a.isViewMatrixDirty()},draw:function(){},onUpdate:function(a){this.x.update(a);this.y.update(a);this.rotation.update(a);this.scaleX.update(a);this.scaleY.update(a);
this.alpha.update(a);this.anchorX.update(a);this.anchorY.update(a)},setScaleXY:function(a,b){this.scaleX.set__(a);this.scaleY.set__(b);return this},setScale:function(a){this.scaleX.set__(a);this.scaleY.set__(a);return this},setAnchor:function(a,b){this.anchorX.set__(a);this.anchorY.set__(b);return this},getViewMatrix:function(){if(this.isViewMatrixDirty()){var a=this.getParentSprite();this._viewMatrix=null!=a?Aa.multiply(a.getViewMatrix(),this.getLocalMatrix(),this._viewMatrix):this.getLocalMatrix().clone(this._viewMatrix);
this._flags&=-9;null!=a&&(this._parentViewMatrixUpdateCount=a._viewMatrixUpdateCount);++this._viewMatrixUpdateCount}return this._viewMatrix},getLocalMatrix:function(){0!=(this._flags&4)&&(this._flags&=-5,this._localMatrix.compose(this.x._value,this.y._value,this.scaleX._value,this.scaleY._value,3.141592653589793*this.rotation._value/180),this._localMatrix.translate(-this.anchorX._value,-this.anchorY._value));return this._localMatrix},containsLocal:function(a,b){return 0<=a&&a<this.getNaturalWidth()&&
0<=b&&b<this.getNaturalHeight()},contains:function(a,b){var c=this.getViewMatrix().inverseTransform(a,b,A._scratchPoint),g=this.containsLocal(A._scratchPoint.x,A._scratchPoint.y);return c&&g},getNaturalHeight:function(){return 0},getNaturalWidth:function(){return 0},get_name:function(){return"Sprite_2"},__class__:A});ta=function(a){null==a&&(a=!1);A.call(this);this.isTiledMap=a;this._actionManager=x.getInstance().getActionManager()};ta.__name__=!0;ta.__super__=A;ta.prototype=j(A.prototype,{getNaturalWidth:function(){return null==
this.frame?0:this.frame.getRect().width},getNaturalHeight:function(){return null==this.frame?0:this.frame.getRect().height},onUpdate:function(a){A.prototype.onUpdate.call(this,a)},getCurrentFrame:function(){return this.frame},draw:function(a){this.g=a;if(this.frame.isRotated())a.translate(this.frame.getOffset().x,this.frame.getOffset().y+this.frame.getRect().height),a.rotate(-90),a.drawSubImage(this.frame.getTexture().getTexture(),0,0,this.frame.getRect().x,this.frame.getRect().y,this.frame.getRect().height,
this.frame.getRect().width);else if(this.isTiledMap){var b=new y(this.x._value,this.y._value,this.frame.getRect().width,this.frame.getRect().height);M.rectIntersectsRect(b,P.viewPort)&&(a.translate(this.frame.getOffset().x,this.frame.getOffset().y),a.drawSubImage(this.frame.getTexture().getTexture(),0,0,this.frame.getRect().x,this.frame.getRect().y,this.frame.getRect().width,this.frame.getRect().height))}else a.translate(this.frame.getOffset().x,this.frame.getOffset().y),a.drawSubImage(this.frame.getTexture().getTexture(),
0,0,this.frame.getRect().x,this.frame.getRect().y,this.frame.getRect().width,this.frame.getRect().height)},updateFrame:function(a){this.frame=a},__class__:ta});Xb=function(){};Xb.__name__=!0;Xb.pAdd=function(a,b){return new o(a.x+b.x,a.y+b.y)};Xb.pSub=function(a,b){return new o(a.x-b.x,a.y-b.y)};qc=function(){this._contentSize=new C};fa=void 0;qc.__name__=!0;qc.prototype={getPixelsHigh:function(){return this._texture.get_height()},getPixelsWide:function(){return this._texture.get_width()},setTexture:function(a){this._texture=
a;this._contentSize.width=p.parseFloat(p.string(this._texture.get_width()));this._contentSize.height=p.parseFloat(p.string(this._texture.get_height()))},getTexture:function(){return this._texture},__class__:qc};fa=function(){};fa.__name__=!0;fa.getInstance=function(){null==fa.g_sharedTextureCache&&(fa.g_sharedTextureCache=new fa);return fa.g_sharedTextureCache};fa.prototype={addImage:function(a){var b=Va.pack,c=new qc;c.setTexture(b.getTexture(a));return c},__class__:fa};Bb=function(){this._mapInfo=
this._layerInfo=null;ib.call(this);this._children=[];this._layerSize=new C;this._mapTileSize=new C;this._opacity=255;this._layerName="";this._tiles=[];this._properties=new B.StringMap;this._useAutomaticVertexZ=!1};P=void 0;mc=void 0;nc=void 0;da=void 0;Xa=void 0;oc=void 0;pc=void 0;Bb.__name__=!0;Bb.create=function(a,b,c){var g=new Bb;return g.initWithTilesetInfo(a,b,c)?g:null};Bb.__super__=ib;Bb.prototype=j(ib.prototype,{_parseInternalProperties:function(){var a=this.getProperty("cc_vertexz");null!=
a&&("automatic"==a?this._useAutomaticVertexZ=!0:this._vertexZvalue=p.parseInt(a))},getProperty:function(a){return this._properties.get(a)},_vertexZForPos:function(a,b){var c=0;if(this._useAutomaticVertexZ)switch(this._layerOrientation){case P.TMX_ORIENTATION_ISO:c=a+b;break;case P.TMX_ORIENTATION_ORTHO:c=a;break;default:null}else c=this._vertexZvalue;return c},setupTiles:function(){for(var a=0,b=this._layerInfo._layerSize.height|0;a<b;)for(var c=a++,g=0,d=this._layerInfo._layerSize.width|0;g<d;){var f=
g++,e=this._layerInfo._tiles[f+c*this._layerInfo._layerSize.width|0];if(0!=e){var i=this._layerOrientation,h=0,k=0;i==P.TMX_ORIENTATION_ORTHO?(h=f*this._mapTileSize.width,k=c*this._mapTileSize.height):i==P.TMX_ORIENTATION_ISO&&(h=this._mapTileSize.width/2*(this._layerSize.height+f-c),k=this._mapTileSize.height/2*(c+f+2)-this._tileSet._tileSize.height);e=this._tileSet.rectForGID(e);e=n.createWithTexture(this._texture,e,P.useViewPort);e.setAnchorPoint(new o(0,0));e.setPosition(h,k);e.setOpacity(this._opacity);
this.addChild(e,this._vertexZForPos(c,f))}}},initWithTilesetInfo:function(a,b,c){var g=b._layerSize,g=g.width*g.height|0;this._mapInfo=c;this._layerInfo=b;var g=0.35*g+1|0,d=null;null!=a&&(d=fa.getInstance().addImage(a.sourceImage));return this.initWithTexture(d,g)?(this.setContentSize(new C(this.sprite.getNaturalWidth(),this.sprite.getNaturalHeight())),this._layerSize=b._layerSize,this._layerName=b.name,this._tiles=b._tiles,this._minGID=b._minGID,this._maxGID=b._maxGID,this.setProperties(b.getProperties()),
this._opacity=b._opacity,this._parseInternalProperties(),this._tileSet=a,this._mapTileSize=c.getTileSize(),this._layerOrientation=c.getOrientation(),this._vertexZvalue=0,!0):!1},setProperties:function(a){this._properties=a},__class__:Bb});mc=function(a,b,c,g,d,f){this.name=a;this.x=b;this.y=c;this.height=f;this.width=d;this.type=g;this.properties=new B.StringMap};mc.__name__=!0;mc.prototype={__class__:mc};nc=function(){this._groupName="";this._properties=new B.StringMap;this._objects=[]};nc.__name__=
!0;nc.prototype={setObjects:function(a){this._objects.push(a)},setGroupName:function(a){this._groupName=a},setPositionOffset:function(a){this._positionOffset=a},__class__:nc};y=function(a,b,c,g){null==g&&(g=0);null==c&&(c=0);null==b&&(b=0);null==a&&(a=0);this.set(a,b,c,g)};y.__name__=!0;y.prototype={equals:function(a){return this.x==a.x&&this.y==a.y&&this.width==a.width&&this.height==a.height},clone:function(a){null==a&&(a=new y);a.set(this.x,this.y,this.width,this.height);return a},contains:function(a,
b){a-=this.x;if(0<=this.width){if(0>a||a>this.width)return!1}else if(0<a||a<this.width)return!1;b-=this.y;if(0<=this.height){if(0>b||b>this.height)return!1}else if(0<b||b<this.height)return!1;return!0},set:function(a,b,c,g){this.x=a;this.y=b;this.width=c;this.height=g},__class__:y};P=function(){n.call(this);this._mapOrientation=0;this._mapSize=new C;this._tileSize=new C;this._objectGroups=[];this._TMXLayers=[]};P.__name__=!0;P.create=function(a,b){var c=new P;return c.initWithTMXFile(a,b)?c:null};
P.__super__=n;P.prototype=j(n.prototype,{_tilesetForLayer:function(a,b){var c=a._layerSize,g=b.getTilesets();if(null!=g)for(var d=g.length-1;0<=d;){var f=g[d];if(null!=f)for(var e=0,i=c.height|0;e<i;)for(var h=e++,k=0,Pc=c.width|0;k<Pc;){var m=k++,m=a._tiles[(h*c.width|0)+m];if(0!=m&&(m&da.TMX_TILE_FLIPPED_MASK)>>>0>=f.firstGid)return f}d--}return null},_parseLayer:function(a,b){var c=this._tilesetForLayer(a,b),c=Bb.create(c,a,b);c.setupTiles();return c},_buildWithMapInfo:function(a){this._mapSize=
a.getMapSize();this._tileSize=a.getTileSize();this._mapOrientation=a.getOrientation();this._objectGroups=a.getObjectGroups();this._properties=a.getProperties();this._tileProperties=a.getTileProperties();var b=0,c=a.getLayers();if(null!=c)for(var g=0;g<c.length;){var d=c[g];++g;d=this._parseLayer(d,a);d.setAnchorPoint(new o(0,0));d.setPosition(0,0);this.addChild(d,b,b);b++;var d=d.getContentSize(),f=this.getContentSize();f.width=Math.max(f.width,d.width);f.height=Math.max(f.height,d.height);this.setContentSize(f)}},
initWithTMXFile:function(a,b){ua.assert(null!=a&&0<a.length,"TMXTiledMap: tmx file should not be nil");this.setContentSize(new C(0,0));for(var c=Xa.create(a,b),g=0,d=c.getLayers();g<d.length;)++g;if(null==c)return!1;ua.assert(0!=c.getTilesets().length,"TMXTiledMap: Map not found. Please check the filename.");this._buildWithMapInfo(c);return!0},__class__:P});da=function(){};da.__name__=!0;oc=function(){this._maxGID=0;this._minGID=1E5;this.name="";this.offset=new o;this._properties=new B.StringMap;
this._tiles=[]};oc.__name__=!0;oc.prototype={setProperties:function(a,b){this._properties.set(a,b)},getProperties:function(){return this._properties},__class__:oc};pc=function(){this.firstGid=0;this.name="";this._tileSize=new C};pc.__name__=!0;pc.prototype={rectForGID:function(a){var b=new y;b.width=this._tileSize.width;b.height=this._tileSize.height;var a=a-this.firstGid,c=(this.imageSize.width-2*this.margin+this.spacing)/(this._tileSize.width+this.spacing);b.x=a%c*(this._tileSize.width+this.spacing)+
this.margin;b.y=(a/c|0)*(this._tileSize.height+this.spacing)+this.margin;return b},__class__:pc};Xa=function(){this._storingCharacters=!1;this._tileProperties=new B.IntMap;this._properties=[];this.pack=Va.pack};Xa.__name__=!0;Xa.csvToArray=function(a){for(var b=[],a=a.split("\n"),c=0;c<a.length;){var g=a[c];++c;if(""!=g)for(var g=g.split(","),d=0;d<g.length;){var f=g[d];++d;f=p.parseInt(f);null!=f&&b.push(f)}}return b};Xa.create=function(a,b){var c=new Xa;c.initWithTMXFile(a,b);return c};Xa.prototype=
{_initernalInit:function(a,b){this._tileSets=[];this._layers=[];this._TMXFileName=a;null!=b&&(this._resources=b);this._objectGroups=[];this._currentString="";this._storingCharacters=!1;this._layerAttribs=da.TMX_LAYER_ATTRIB_NONE;this._parentElement=da.TMX_PROPERTY_NONE},getTileProperties:function(){return this._tileProperties},loadObjectGroup:function(a){var b=new nc;b.setGroupName(a.get("name"));var c,g;c=a.get("x");g=a.get("y");c=null==c?0:p.parseFloat(c);g=null==g?0:p.parseFloat(g);b.setPositionOffset(new o(c*
this.getTileSize().width,g*this.getTileSize().height));for(a=a.elements();a.hasNext();){c=a.next();g=new mc;switch(c.get_nodeName()){case "object":g.name=c.get("name");g.type=c.get("type");g.x=p.parseInt(c.get("x"));g.y=p.parseInt(c.get("y"));g.width=p.parseInt(c.get("width"));g.height=p.parseInt(c.get("height"));break;case "properties":g.properties.set(c.get("name"),c.get("value"))}b.setObjects(g)}this.setObjectGroups(b)},loadLayerPros:function(a,b){for(var c=a.elements();c.hasNext();){var g=c.next();
b.setProperties(g.get("name"),g.get("value"))}},loadData:function(a,b){var c=a.get("encoding"),g=a.get("compression");null==g&&(g="");switch(g){case "gzip":b._tiles=Zb.unzipBase64AsArray(a.firstChild().get_nodeValue(),b._layerSize.width|0,4);break;case "zlib":b._tiles=na.unzip(a.firstChild().get_nodeValue(),b._layerSize.width|0);break;case "":if("base64"==c)b._tiles=na.decodeAsArray(a.firstChild().get_nodeValue(),b._layerSize.width|0);else if("csv"==c)b._tiles=Xa.csvToArray(a.firstChild().get_nodeValue());
else for(c=a.elements();c.hasNext();)switch(g=c.next(),g.get_nodeName()){case "tile":b._tiles.push(p.parseInt(g.get("gid")));break;default:null}break;default:null}},loadLayer:function(a){var b=new oc;b.name=a.get("name");var c=new C;c.width=p.parseFloat(a.get("width"));c.height=p.parseFloat(a.get("height"));b._layerSize=c;c=a.get("visible");b.visible="0"==c?!1:!0;c=a.get("opacity");null==c&&(c="1");b._opacity=p.parseInt(p.string(255*p.parseFloat(c)));var c=a.get("x"),g=a.get("y");null==c&&(c="0");
null==g&&(g="0");b.offset=new o(p.parseFloat(c),p.parseFloat(g));for(a=a.elements();a.hasNext();)switch(c=a.next(),c.get_nodeName()){case "data":this.loadData(c,b);break;case "properties":this.loadLayerPros(c,b)}this.setLayers(b)},loadTileset:function(a){var b=new pc;b.name=a.get("name");b.firstGid=p.parseInt(a.get("firstgid"));var c=a.get("margin");null==c&&(c="0");var g=a.get("spacing");null==g&&(g="0");b.margin=p.parseInt(c);b.spacing=p.parseInt(g);c=new C;c.width=p.parseFloat(a.get("tilewidth"));
c.height=p.parseFloat(a.get("tileheight"));b._tileSize=c;for(a=a.elements();a.hasNext();)switch(g=a.next(),g.get_nodeName()){case "image":c=g.get("source");c=c.split(".")[0];null!=c&&null!=this._resources&&(c=this._resources+"/"+c);b.sourceImage=c;b.texture=this.pack.getTexture(b.sourceImage);b.sourceImageWidth=p.parseFloat(g.get("width"));b.sourceImageHeight=p.parseFloat(g.get("height"));b.imageSize=new C(b.sourceImageWidth,b.sourceImageHeight);this.setTilesets(b);break;case "tile":var c=this._tileSets[0],
d=p.parseInt(g.get("id"));null==d&&(d=0);this.setParentGID(c.firstGid+d);c=new B.StringMap;for(g=g.elements();g.hasNext();){var f=g.next();switch(f.get_nodeName()){case "properties":d=f.get("name"),f=f.get("value"),c.set(d,f)}}this._tileProperties.set(this.getParentGID(),c);break;default:null}},loadProperties:function(a){for(a=a.elements();a.hasNext();){var b=a.next();switch(b.get_nodeName()){case "property":var c=new B.StringMap,g=b.get("value");c.set(b.get("name"),g);g;this.setProperties(c);break;
default:null}}},parseXMLFile:function(a){a=u.parse(Va.pack.getFile(a).toString()).firstElement();a.get("version");var b=a.get("orientation"),c=new C;c.width=p.parseFloat(a.get("width"));c.height=p.parseFloat(a.get("height"));this.setMapSize(c);c=new C;c.width=p.parseFloat(a.get("tilewidth"));c.height=p.parseFloat(a.get("tileheight"));this.setTileSize(c);switch(b){case "orthogonal":this.setOrientation(P.TMX_ORIENTATION_ORTHO);break;case "isometric":this.setOrientation(P.TMX_ORIENTATION_ISO);break;
case "hexagonal":this.setOrientation(P.TMX_ORIENTATION_HEX);break;default:ua.log("cocos2d: TMXFomat: Unsupported orientation:"+this.getOrientation())}for(a=a.elements();a.hasNext();)switch(b=a.next(),b.get_nodeName()){case "tileset":this.loadTileset(b);break;case "layer":this.loadLayer(b);break;case "objectgroup":this.loadObjectGroup(b);break;case "properties":this.loadProperties(b)}},initWithTMXFile:function(a,b){this._initernalInit(a,b);return this.parseXMLFile(this._TMXFileName)},setProperties:function(a){this._properties.push(a)},
getProperties:function(){return this._properties},setParentGID:function(a){this._parentGID=a},getParentGID:function(){return this._parentGID},setObjectGroups:function(a){this._objectGroups.push(a)},getObjectGroups:function(){return this._objectGroups},setTilesets:function(a){this._tileSets.push(a)},getTilesets:function(){return this._tileSets},setLayers:function(a){this._layers.push(a)},getLayers:function(){return this._layers},setTileSize:function(a){this._tileSize=a},getTileSize:function(){return this._tileSize},
setMapSize:function(a){this._mapSize=a},getMapSize:function(){return this._mapSize},setOrientation:function(a){this._orientation=a},getOrientation:function(){return this._orientation},__class__:Xa};uc=function(a,b,c){null==c&&(c=0);this._point=new o(a,b);this._prevPoint=new o(0,0);this._id=c};uc.__name__=!0;uc.prototype={_setPrevPoint:function(a,b){this._prevPoint=new o(a,b)},getLocation:function(){return this._point},__class__:uc};L=function(){this._dispatchEvents=!0;this._pointerPressed=!1;this._pointerDelegateHandlers=
[];L._registerPointerEvent()};L.__name__=!0;L.getPointerByEvent=function(a){var b=a.viewX,a=a.viewY,c=new uc(b,a);c._setPrevPoint(L._prePoint.x,L._prePoint.y);L._prePoint.x=b;L._prePoint.y=a;return c};L._registerPointerEvent=function(){v._platform.getPointer().down.connect(function(a){x.getInstance().getPointerDispatcher()._setPointerPressed(!0);x.getInstance().getPointerDispatcher().pointerHandle(L.getPointerByEvent(a),a,L.POINTER_DOWN)});v._platform.getPointer().up.connect(function(a){x.getInstance().getPointerDispatcher()._setPointerPressed(!1);
x.getInstance().getPointerDispatcher().pointerHandle(L.getPointerByEvent(a),a,L.POINTER_UP)});v._platform.getPointer().move.connect(function(a){x.getInstance().getPointerDispatcher().pointerHandle(L.getPointerByEvent(a),a,L.POINTER_MOVED)})};L.prototype={pointerHandle:function(a,b,c){for(var b=0,g=this._pointerDelegateHandlers;b<g.length;){var d=g[b];++b;switch(c){case 0:Ta.field(d.getDelegate(),"onPointerDown").apply(d.getDelegate(),[a]);break;case 3:Ta.field(d.getDelegate(),"onPointerUp").apply(d.getDelegate(),
[a]);break;case 1:this._pointerPressed?Ta.field(d.getDelegate(),"onPointerDragged").apply(d.getDelegate(),[a]):null==Ta.field(d.getDelegate(),"onPointerMoved")?null:Ta.field(d.getDelegate(),"onPointerMoved").apply(d.getDelegate(),[a])}}},removePointerDelegate:function(a){if(null!=a)for(var b=0,c=this._pointerDelegateHandlers.length;b<c;){var g=this._pointerDelegateHandlers[b++];if(null!=g&&g.getDelegate()==a){Ua.ArrayRemoveObject_cc_touchdispatcher_CCPointerHandler(this._pointerDelegateHandlers,g);
break}}},forceAddHandler:function(a,b){for(var c=0,g=0,d=b.length;g<d;){var f=g++,f=b[f];null!=f&&f.getPriority()<a.getPriority()&&++c;if(f.getDelegate()==a.getDelegate())return b}return Ua.ArrayAppendObjectToIndex_cc_touchdispatcher_CCPointerHandler(b,a,c)},addPointerDelegate:function(a,b){this._pointerDelegateHandlers=this.forceAddHandler(Fb.create(a,b),this._pointerDelegateHandlers)},_setPointerPressed:function(a){this._pointerPressed=a},__class__:L};Fb=function(){this._priority=0};Fb.__name__=
!0;Fb.create=function(a,b){var c=new Fb;c.initWithDelegate(a,b);return c};Fb.prototype={initWithDelegate:function(a,b){this._delegate=a;this._priority=b;this._claimedPointers=[]},getPriority:function(){return this._priority},getDelegate:function(){return this._delegate},__class__:Fb};Qb=function(){this.zOrder=0;this.parent=this.firstChild=this.next=this.firstComponent=null;this._compMap={}};Qb.__name__=!0;Qb.__interfaces__=[Ra];Qb.prototype={dispose:function(){for(null!=this.parent&&this.parent.removeChild(this);null!=
this.firstComponent;)this.firstComponent.dispose();this.disposeChildren()},disposeChildren:function(){for(;null!=this.firstChild;)this.firstChild.dispose()},removeChild:function(a){for(var b=null,c=this.firstChild;null!=c;){var g=c.next;if(c==a){null==b?this.firstChild=g:b.next=g;c.parent=null;c.next=null;break}b=c;c=g}},addChild:function(a,b,c){null==b&&(b=!0);null!=a.parent&&a.parent.removeChild(a);a.parent=this;if(b){for(var b=null,g=this.firstChild;null!=g;)b=g,g=g.next;if(null!=b)if(null==c&&
(c=b.zOrder),b.zOrder<=c)b.next=a;else{b=this.firstChild;for(g=null;null!=b;)if(b.zOrder>c){null!=g?(g.next=a,a.next=b):(a.next=this.firstChild,this.firstChild=a);break}else g=b,b=b.next}else this.firstChild=a,null==c&&(c=0)}else c=null==this.firstChild?0:this.firstChild.zOrder-1,a.next=this.firstChild,this.firstChild=a;a.zOrder=c;return this},remove:function(a){for(var b=null,c=this.firstComponent;null!=c;){var g=c.next;if(c==a)return null==b?this.firstComponent=g:b.init(this,g),delete this._compMap[c.get_name()],
c.onRemoved(),c.init(null,null),!0;b=c;c=g}return!1},add:function(a){null!=a.owner&&a.owner.remove(a);var b=a.get_name(),c=this._compMap[b];null!=c&&this.remove(c);this._compMap[b]=a;b=null;for(c=this.firstComponent;null!=c;)b=c,c=c.next;null!=b?b.next=a:this.firstComponent=a;a.init(this,null);a.onAdded();return this},__class__:Qb};Xc=function(){};e=void 0;ya=void 0;V=void 0;tb=void 0;bc=void 0;cc=void 0;J=void 0;eb=void 0;dc=void 0;qa=void 0;Ib=void 0;Dc=void 0;ja=void 0;Ec=void 0;ec=void 0;Jb=void 0;
Fc=void 0;Kb=void 0;fc=void 0;gc=void 0;D=void 0;Xc.__name__=!0;Xc.prototype={__class__:Xc};e={HtmlPlatform:function(){}};e.HtmlPlatform.__name__=!0;e.HtmlPlatform.__interfaces__=[Xc];e.HtmlPlatform.prototype={createRenderer:function(a){try{var b=Nc._CanvasElement.CanvasUtil.getContextWebGL(a,{alpha:!1,depth:!1});if(null!=b)if(e.HtmlUtil.detectSlowDriver(b))null;else return new e.WebGLRenderer(this._stage,b)}catch(c){}return new e.CanvasRenderer(a)},getY:function(a,b){return this._stage.scaleFactor*
(a.clientY-b.top)},getX:function(a,b){return this._stage.scaleFactor*(a.clientX-b.left)},getRenderer:function(){return this._renderer},getKeyboard:function(){var a=this;if(null==this._keyboard){this._keyboard=new ya;var b=function(b){switch(b.type){case "keydown":a._keyboard.submitDown(b.keyCode)&&b.preventDefault();break;case "keyup":a._keyboard.submitUp(b.keyCode)}};this._canvas.addEventListener("keydown",b,!1);this._canvas.addEventListener("keyup",b,!1)}return this._keyboard},getPointer:function(){return this._pointer},
update:function(a){var b=(a-this._lastUpdate)/1E3;this._lastUpdate=a;v.hidden._value||(this._skipFrame?this._skipFrame=!1:(this.mainLoop.update(b),this.mainLoop.render(this._renderer)))},getStage:function(){return this._stage},loadAssetPack:function(a){return(new e.HtmlAssetPackLoader(this,a)).promise},init:function(){var a=this;e.HtmlUtil.fixAndroidMath();var b=null;try{b=s.window.flambe.canvas}catch(c){}b.setAttribute("tabindex","0");b.style.outlineStyle="none";b.setAttribute("moz-opaque","true");
this._stage=new e.HtmlStage(b);this._pointer=new V;this._mouse=new e.HtmlMouse(this._pointer,b);this._renderer=this.createRenderer(b);this.mainLoop=new tb;this._canvas=b;this._container=b.parentElement;this._container.style.overflow="hidden";this._container.style.position="relative";this._container.style.msTouchAction="none";var g=0,d=function(c){if(!(1E3>c.timeStamp-g)){var d=b.getBoundingClientRect(),f=a.getX(c,d),d=a.getY(c,d);switch(c.type){case "mousedown":c.target==b&&(c.preventDefault(),a._mouse.submitDown(f,
d,c.button),b.focus());break;case "mousemove":a._mouse.submitMove(f,d);break;case "mouseup":a._mouse.submitUp(f,d,c.button);break;case "mousewheel":case "DOMMouseScroll":a._mouse.submitScroll(f,d,"mousewheel"==c.type?c.wheelDelta/40:-c.detail)&&c.preventDefault()}}};s.window.addEventListener("mousedown",d,!1);s.window.addEventListener("mousemove",d,!1);s.window.addEventListener("mouseup",d,!1);b.addEventListener("mousewheel",d,!1);b.addEventListener("DOMMouseScroll",d,!1);var f="undefined"!=typeof s.window.ontouchstart,
d="msMaxTouchPoints"in window.navigator&&1<window.navigator.msMaxTouchPoints;if(f||d){var S=new bc(this._pointer,f?4:s.navigator.msMaxTouchPoints);this._touch=S;d=function(b){var c=f?b.changedTouches:[b],d=b.target.getBoundingClientRect();g=b.timeStamp;switch(b.type){case "touchstart":case "MSPointerDown":b.preventDefault();e.HtmlUtil.SHOULD_HIDE_MOBILE_BROWSER&&e.HtmlUtil.hideMobileBrowser();for(b=0;b<c.length;){var l=c[b];++b;var i=a.getX(l,d),h=a.getY(l,d),l=(f?l.identifier:l.pointerId)|0;S.submitDown(l,
i,h)}break;case "touchmove":case "MSPointerMove":b.preventDefault();for(b=0;b<c.length;)l=c[b],++b,i=a.getX(l,d),h=a.getY(l,d),l=(f?l.identifier:l.pointerId)|0,S.submitMove(l,i,h);break;case "touchend":case "touchcancel":case "MSPointerUp":for(b=0;b<c.length;)l=c[b],++b,i=a.getX(l,d),h=a.getY(l,d),l=(f?l.identifier:l.pointerId)|0,S.submitUp(l,i,h)}};f?(b.addEventListener("touchstart",d,!1),b.addEventListener("touchmove",d,!1),b.addEventListener("touchend",d,!1),b.addEventListener("touchcancel",d,
!1)):(b.addEventListener("MSPointerDown",d,!1),b.addEventListener("MSPointerMove",d,!1),b.addEventListener("MSPointerUp",d,!1))}else this._touch=new cc;var i=s.window.onerror;s.window.onerror=function(a,b,c){v.uncaughtError.emit1(a);return null!=i?i(a,b,c):!1};var h=e.HtmlUtil.loadExtension("hidden",s.document);null!=h.value?(d=function(){v.hidden.set__(Ta.field(s.document,h.field))},d(null),s.document.addEventListener(h.prefix+"visibilitychange",d,!1)):(d=function(a){v.hidden.set__("pagehide"==a.type)},
s.window.addEventListener("pageshow",d,!1),s.window.addEventListener("pagehide",d,!1));v.hidden.get_changed().connect(function(b){b||(a._skipFrame=!0)});this._skipFrame=!1;this._lastUpdate=Date.now();var k=e.HtmlUtil.loadExtension("requestAnimationFrame").value;if(null!=k){var Pc=s.window.performance,m=null!=Pc&&e.HtmlUtil.polyfill("now",Pc);m?this._lastUpdate=Pc.now():null;var j=null,j=function(c){a.update(m?Pc.now():c);k(j,b)};k(j,b)}else s.window.setInterval(function(){a.update(Date.now())},16);
null},__class__:e.HtmlPlatform};Ba=function(a,b){this._value=a;null!=b&&(this._changed=new Pb(b))};Ba.__name__=!0;Ba.prototype={get_changed:function(){null==this._changed&&(this._changed=new Pb);return this._changed},set__:function(a){var b=this._value;a!=b&&(this._value=a,null!=this._changed&&this._changed.emit2(a,b));return a},watch:function(a){a(this._value,this._value);return this.get_changed().connect(a)},__class__:Ba};vb=function(a,b){this._next=null;this._signal=a;this._listener=b;this.stayInList=
!0};vb.__name__=!0;vb.__interfaces__=[Ra];vb.prototype={dispose:function(){null!=this._signal&&(this._signal.disconnect(this),this._signal=null)},once:function(){this.stayInList=!1;return this},__class__:vb};Z=function(a){this._head=null!=a?new vb(this,a):null;this._deferredTasks=null};Z.__name__=!0;Z.prototype={listRemove:function(a){for(var b=null,c=this._head;null!=c;){if(c==a){a=c._next;null==b?this._head=a:b._next=a;break}b=c;c=c._next}},listAdd:function(a,b){if(b)a._next=this._head,this._head=
a;else{for(var c=null,g=this._head;null!=g;)c=g,g=g._next;null!=c?c._next=a:this._head=a}},didEmit:function(a){for(this._head=a;null!=this._deferredTasks;)this._deferredTasks.fn(),this._deferredTasks=this._deferredTasks.next},willEmit:function(){var a=this._head;this._head=Z.DISPATCHING_SENTINEL;return a},defer:function(a){for(var b=null,c=this._deferredTasks;null!=c;)b=c,c=c.next;a=new Mc.Task(a);null!=b?b.next=a:this._deferredTasks=a},emit2:function(a,b){for(var c=this.willEmit(),g=c;null!=g;)g._listener(a,
b),g.stayInList||g.dispose(),g=g._next;this.didEmit(c)},emit1:function(a){for(var b=this.willEmit(),c=b;null!=c;)c._listener(a),c.stayInList||c.dispose(),c=c._next;this.didEmit(b)},emit0:function(){for(var a=this.willEmit(),b=a;null!=b;)b._listener(),b.stayInList||b.dispose(),b=b._next;this.didEmit(a)},disconnect:function(a){var b=this;this._head==Z.DISPATCHING_SENTINEL?this.defer(function(){b.listRemove(a)}):this.listRemove(a)},connectImpl:function(a,b){var c=this,g=new vb(this,a);this._head==Z.DISPATCHING_SENTINEL?
this.defer(function(){c.listAdd(g,b)}):this.listAdd(g,b);return g},__class__:Z};Pb=function(a){Z.call(this,a)};Pb.__name__=!0;Pb.__super__=Z;Pb.prototype=j(Z.prototype,{connect:function(a,b){null==b&&(b=!1);return this.connectImpl(a,b)},__class__:Pb});K=function(a){Z.call(this,a)};K.__name__=!0;K.__super__=Z;K.prototype=j(Z.prototype,{connect:function(a,b){null==b&&(b=!1);return this.connectImpl(a,b)},__class__:K});Y=function(a,b){Ba.call(this,a,b)};hc=void 0;Gc=void 0;Hc=void 0;Y.__name__=!0;Y.__super__=
Ba;Y.prototype=j(Ba.prototype,{set_behavior:function(a){this._behavior=a;this.update(0);return a},animateBy:function(a,b,c){this.set_behavior(new hc(this._value,this._value+a,b,c))},update:function(a){null!=this._behavior&&(Ba.prototype.set__.call(this,this._behavior.update(a)),this._behavior.isComplete()&&(this._behavior=null))},set__:function(a){this._behavior=null;return Ba.prototype.set__.call(this,a)},__class__:Y});v=function(){};v.__name__=!0;v.init=function(){v._calledInit||(v._platform.init(),
v._calledInit=!0)};ad=function(){this._realDt=0};ad.__name__=!0;ad.__super__=aa;ad.prototype=j(aa.prototype,{onUpdate:function(a){0<this._realDt&&(a=this._realDt,this._realDt=0);this.scale.update(a)},get_name:function(){return"SpeedAdjuster_6"},__class__:ad});Gc=function(){};Gc.__name__=!0;Gc.prototype={__class__:Gc};Hc=function(){};Hc.__name__=!0;Hc.linear=function(a){return a};hc=function(a,b,c,g){this._from=a;this._to=b;this._duration=c;this.elapsed=0;this._easing=null!=g?g:Hc.linear};hc.__name__=
!0;hc.__interfaces__=[Gc];hc.prototype={isComplete:function(){return this.elapsed>=this._duration},update:function(a){this.elapsed+=a;return this.elapsed>=this._duration?this._to:this._from+(this._to-this._from)*this._easing(this.elapsed/this._duration)},__class__:hc};sb=function(){};m=void 0;Cc=void 0;$b=void 0;ac=void 0;pa=void 0;sb.__name__=!0;sb.__interfaces__=[Ra];sb.prototype={__class__:sb};m={__ename__:!0,__constructs__:"WEBP,JXR,PNG,JPG,GIF,DDS,PVR,PKM,MP3,M4A,OPUS,OGG,WAV,Data".split(","),
WEBP:["WEBP",0]};m.WEBP.toString=h;m.WEBP.__enum__=m;m.JXR=["JXR",1];m.JXR.toString=h;m.JXR.__enum__=m;m.PNG=["PNG",2];m.PNG.toString=h;m.PNG.__enum__=m;m.JPG=["JPG",3];m.JPG.toString=h;m.JPG.__enum__=m;m.GIF=["GIF",4];m.GIF.toString=h;m.GIF.__enum__=m;m.DDS=["DDS",5];m.DDS.toString=h;m.DDS.__enum__=m;m.PVR=["PVR",6];m.PVR.toString=h;m.PVR.__enum__=m;m.PKM=["PKM",7];m.PKM.toString=h;m.PKM.__enum__=m;m.MP3=["MP3",8];m.MP3.toString=h;m.MP3.__enum__=m;m.M4A=["M4A",9];m.M4A.toString=h;m.M4A.__enum__=
m;m.OPUS=["OPUS",10];m.OPUS.toString=h;m.OPUS.__enum__=m;m.OGG=["OGG",11];m.OGG.toString=h;m.OGG.__enum__=m;m.WAV=["WAV",12];m.WAV.toString=h;m.WAV.__enum__=m;m.Data=["Data",13];m.Data.toString=h;m.Data.__enum__=m;Cc=function(a,b,c,g){this.name=a;this.url=b;this.format=c;this.bytes=g};Cc.__name__=!0;Cc.prototype={__class__:Cc};$b=function(){};$b.__name__=!0;$b.__interfaces__=[Ra];$b.prototype={__class__:$b};ac=function(){};ac.__name__=!0;ac.__interfaces__=[sb];ac.prototype={__class__:ac};z=void 0;
Nc=void 0;s=void 0;s=function(){};s.__name__=!0;pa=function(){this._entries=[]};pa.__name__=!0;pa.build=function(a,b){null==b&&(b=!0);var c=Ta.field(Zc.Meta.getType(pa).assets[0],a);if(null==c){if(b)throw $.withFields("Missing asset pack",["name",a]);return null}var g=new pa;g.set_relativeBasePath("assets");for(var d=0;d<c.length;){var f=c[d];++d;var e=f.name,i=a+"/"+e+"?v="+p.string(f.md5),h=pa.inferFormat(e);h!=m.Data&&(e=$.removeFileExtension(e));g.add(e,i,f.bytes,h)}return g};pa.inferFormat=function(a){a=
$.getUrlExtension(a);if(null!=a)switch(a.toLowerCase()){case "gif":return m.GIF;case "jpg":case "jpeg":return m.JPG;case "jxr":case "wdp":return m.JXR;case "png":return m.PNG;case "webp":return m.WEBP;case "dds":return m.DDS;case "pvr":return m.PVR;case "pkm":return m.PKM;case "m4a":return m.M4A;case "mp3":return m.MP3;case "ogg":return m.OGG;case "opus":return m.OPUS;case "wav":return m.WAV}else null;return m.Data};pa.prototype={get_externalBasePath:function(){return this._externalBasePath},set_relativeBasePath:function(a){this._relativeBasePath=
a;null!=a&&null;return a},get_relativeBasePath:function(){return this._relativeBasePath},getFullURL:function(a){var b=null!=this.get_externalBasePath()&&pa._supportsCrossOrigin?this.get_externalBasePath():this.get_relativeBasePath(),c=null!=this.get_externalBasePath()?this.get_externalBasePath():this.get_relativeBasePath();a.format==m.Data&&(c=b);return null!=c?$.joinPath(c,a.url):a.url},iterator:function(){return t.iter(this._entries)},add:function(a,b,c,g){null==c&&(c=0);null==g&&(g=pa.inferFormat(b));
a=new Cc(a,b,g,c);this._entries.push(a);return a},__class__:pa};R={__ename__:!0,__constructs__:["Normal","Add","Mask","Copy"],Normal:["Normal",0]};R.Normal.toString=h;R.Normal.__enum__=R;R.Add=["Add",1];R.Add.toString=h;R.Add.__enum__=R;R.Mask=["Mask",2];R.Mask.toString=h;R.Mask.__enum__=R;R.Copy=["Copy",3];R.Copy.toString=h;R.Copy.__enum__=R;ic=function(a){this._kernings=null;this.xOffset=this.yOffset=this.xAdvance=0;this.page=null;this.x=this.y=this.width=this.height=0;this.charCode=a};ic.__name__=
!0;ic.prototype={setKerning:function(a,b){null==this._kernings&&(this._kernings=new B.IntMap);this._kernings.set(a,b)},getKerning:function(a){return null!=this._kernings?this._kernings.get(a)|0:0},draw:function(a,b,c){0<this.width&&a.drawSubImage(this.page,b+this.xOffset,c+this.yOffset,this.x,this.y,this.width,this.height)},__class__:ic};ub=function(a,b){this.name=b;this._pack=a;this.reload()};ub.__name__=!0;ub.prototype={reload:function(){this._glyphs=new B.IntMap;this._glyphs.set(ub.NEWLINE.charCode,
ub.NEWLINE);for(var a=new za.ConfigParser(this._pack.getFile(this.name+".fnt").toString()),b=new B.IntMap,c=this.name.lastIndexOf("/"),c=0<=c?t.substr(this.name,0,c+1):"",g=a.keywords();g.hasNext();)switch(g.next()){case "info":for(var d=a.pairs();d.hasNext();){var f=d.next();switch(f.key){case "size":this.size=f.getInt()}}break;case "page":for(var d=0,e=null,i=a.pairs();i.hasNext();)switch(f=i.next(),f.key){case "id":d=f.getInt();break;case "file":e=f.getString()}b.set(d,this._pack.getTexture(c+
$.removeFileExtension(e)));break;case "char":d=null;for(e=a.pairs();e.hasNext();)switch(f=e.next(),f.key){case "id":d=new ic(f.getInt());break;case "x":d.x=f.getInt();break;case "y":d.y=f.getInt();break;case "width":d.width=f.getInt();break;case "height":d.height=f.getInt();break;case "page":d.page=b.get(f.getInt());break;case "xoffset":d.xOffset=f.getInt();break;case "yoffset":d.yOffset=f.getInt();break;case "xadvance":d.xAdvance=f.getInt()}this._glyphs.set(d.charCode,d);break;case "kerning":d=null;
e=-1;for(i=a.pairs();i.hasNext();)switch(f=i.next(),f.key){case "first":d=this._glyphs.get(f.getInt());break;case "second":e=f.getInt();break;case "amount":d.setKerning(e,f.getInt())}}},layoutText:function(a,b,c){null==c&&(c=0);null==b&&(b=W.Left);return new fb(this,a,b,c)},__class__:ub};W={__ename__:!0,__constructs__:["Left","Center","Right"],Left:["Left",0]};W.Left.toString=h;W.Left.__enum__=W;W.Center=["Center",1];W.Center.toString=h;W.Center.__enum__=W;W.Right=["Right",2];W.Right.toString=h;W.Right.__enum__=
W;fb=function(a,b,c,g){this.lines=0;var d=this;this._font=a;this._glyphs=[];this._offsets=[];this.bounds=new y;for(var f=[],e=b.length,i=0;i<e;){var h=i++,k=b.charCodeAt(h),k=a._glyphs.get(k);null!=k?this._glyphs.push(k):null}for(var b=-1,m=0,j=0,e=a._glyphs.get(10),i=function(){d.bounds.width=Ha.max(d.bounds.width,m);d.bounds.height+=j;f[d.lines]=m;j=m=0;++d.lines},h=0;h<this._glyphs.length;){k=this._glyphs[h];this._offsets[h]=m;var n=0<g&&m+k.width>g;n||k==e?(n&&(0<=b?(this._glyphs[b]=e,m=this._offsets[b],
h=b):this._glyphs.splice(h,0,e)),b=-1,j=a.size,i()):(32==k.charCode&&(b=h),m+=k.xAdvance,j=Ha.max(j,k.height+k.yOffset),h+1<this._glyphs.length&&(m+=k.getKerning(this._glyphs[h+1].charCode)));++h}i();for(var h=0,b=fb.getAlignOffset(c,f[0],g),e=1.79769313486231E308,i=-1.79769313486231E308,o=n=0,p=this._glyphs.length;o<p;){k=this._glyphs[o];10==k.charCode&&(h+=a.size,++n,b=fb.getAlignOffset(c,f[n],g));this._offsets[o]+=b;var q=h+k.yOffset,e=e<q?e:q,i=Ha.max(i,q+k.height);++o}this.bounds.x=fb.getAlignOffset(c,
this.bounds.width,g);this.bounds.y=e;this.bounds.height=i-e};fb.__name__=!0;fb.getAlignOffset=function(a,b,c){switch(a[1]){case 0:return 0;case 2:return c-b;case 1:return(c-b)/2}};fb.prototype={draw:function(a){for(var b=0,c=0,d=this._glyphs.length;c<d;){var l=this._glyphs[c];10==l.charCode?b+=this._font.size:l.draw(a,this._offsets[c],b);++c}},__class__:fb};za={ConfigParser:function(a){this._configText=a;this._keywordPattern=new yb("([a-z]+)(.*)","");this._pairPattern=new yb('([a-z]+)=("[^"]*"|[^\\s]+)',
"")}};za.ConfigParser.__name__=!0;za.ConfigParser.advance=function(a,b){var c=b.matchedPos();return t.substr(a,c.pos+c.len,a.length)};za.ConfigParser.prototype={pairs:function(){var a=this,b=this._pairText;return{next:function(){b=za.ConfigParser.advance(b,a._pairPattern);return new za.ConfigPair(a._pairPattern.matched(1),a._pairPattern.matched(2))},hasNext:function(){return a._pairPattern.match(b)}}},keywords:function(){var a=this,b=this._configText;return{next:function(){b=za.ConfigParser.advance(b,
a._keywordPattern);a._pairText=a._keywordPattern.matched(2);return a._keywordPattern.matched(1)},hasNext:function(){return a._keywordPattern.match(b)}}},__class__:za.ConfigParser};za.ConfigPair=function(a,b){this.key=a;this._value=b};za.ConfigPair.__name__=!0;za.ConfigPair.prototype={getString:function(){return 34!=this._value.charCodeAt(0)?null:t.substr(this._value,1,this._value.length-2)},getInt:function(){return p.parseInt(this._value)},__class__:za.ConfigPair};Ic=function(){};Ic.__name__=!0;Ic.prototype=
{__class__:Ic};Mb=function(a){A.call(this);this.texture=a};Mb.__name__=!0;Mb.__super__=A;Mb.prototype=j(A.prototype,{getNaturalHeight:function(){return this.texture.get_height()},getNaturalWidth:function(){return this.texture.get_width()},draw:function(a){a.drawImage(this.texture,0,0)},__class__:Mb});Pa={__ename__:!0,__constructs__:["Portrait","Landscape"],Portrait:["Portrait",0]};Pa.Portrait.toString=h;Pa.Portrait.__enum__=Pa;Pa.Landscape=["Landscape",1];Pa.Landscape.toString=h;Pa.Landscape.__enum__=
Pa;Lb=function(a,b){null==b&&(b="");this._layout=null;var c=this;A.call(this);this._font=a;this._text=b;this._align=W.Left;this._flags|=32;this.wrapWidth=new Y(0,function(){c._flags|=32})};Lb.__name__=!0;Lb.__super__=A;Lb.prototype=j(A.prototype,{onUpdate:function(a){A.prototype.onUpdate.call(this,a);this.wrapWidth.update(a)},updateLayout:function(){0!=(this._flags&32)&&(this._flags&=-33,this._layout=this._font.layoutText(this._text,this._align,this.wrapWidth._value))},set_align:function(a){a!=this._align&&
(this._align=a,this._flags|=32);return a},set_text:function(a){a!=this._text&&(this._text=a,this._flags|=32);return a},containsLocal:function(a,b){this.updateLayout();return this._layout.bounds.contains(a,b)},getNaturalHeight:function(){this.updateLayout();return this._layout.lines*this._font.size},getNaturalWidth:function(){this.updateLayout();return 0<this.wrapWidth._value?this.wrapWidth._value:this._layout.bounds.width},draw:function(a){this.updateLayout();this._layout.draw(a,this._align)},__class__:Lb});
Nb=function(){};Nb.__name__=!0;Nb.__interfaces__=[sb];Nb.prototype={__class__:Nb};d={__ename__:!0,__constructs__:"A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,Number0,Number1,Number2,Number3,Number4,Number5,Number6,Number7,Number8,Number9,Numpad0,Numpad1,Numpad2,Numpad3,Numpad4,Numpad5,Numpad6,Numpad7,Numpad8,Numpad9,NumpadAdd,NumpadDecimal,NumpadDivide,NumpadEnter,NumpadMultiply,NumpadSubtract,F1,F2,F3,F4,F5,F6,F7,F8,F9,F10,F11,F12,F13,F14,F15,Left,Up,Right,Down,Alt,Backquote,Backslash,Backspace,CapsLock,Comma,Command,Control,Delete,End,Enter,Equals,Escape,Home,Insert,LeftBracket,Minus,PageDown,PageUp,Period,Quote,RightBracket,Semicolon,Shift,Slash,Space,Tab,Menu,Search,Unknown".split(",")};
yc=void 0;U=void 0;xa=void 0;zc=void 0;Hb=void 0;Ac=void 0;Bc=void 0;d.A=["A",0];d.A.toString=h;d.A.__enum__=d;d.B=["B",1];d.B.toString=h;d.B.__enum__=d;d.C=["C",2];d.C.toString=h;d.C.__enum__=d;d.D=["D",3];d.D.toString=h;d.D.__enum__=d;d.E=["E",4];d.E.toString=h;d.E.__enum__=d;d.F=["F",5];d.F.toString=h;d.F.__enum__=d;d.G=["G",6];d.G.toString=h;d.G.__enum__=d;d.H=["H",7];d.H.toString=h;d.H.__enum__=d;d.I=["I",8];d.I.toString=h;d.I.__enum__=d;d.J=["J",9];d.J.toString=h;d.J.__enum__=d;d.K=["K",10];
d.K.toString=h;d.K.__enum__=d;d.L=["L",11];d.L.toString=h;d.L.__enum__=d;d.M=["M",12];d.M.toString=h;d.M.__enum__=d;d.N=["N",13];d.N.toString=h;d.N.__enum__=d;d.O=["O",14];d.O.toString=h;d.O.__enum__=d;d.P=["P",15];d.P.toString=h;d.P.__enum__=d;d.Q=["Q",16];d.Q.toString=h;d.Q.__enum__=d;d.R=["R",17];d.R.toString=h;d.R.__enum__=d;d.S=["S",18];d.S.toString=h;d.S.__enum__=d;d.T=["T",19];d.T.toString=h;d.T.__enum__=d;d.U=["U",20];d.U.toString=h;d.U.__enum__=d;d.V=["V",21];d.V.toString=h;d.V.__enum__=
d;d.W=["W",22];d.W.toString=h;d.W.__enum__=d;d.X=["X",23];d.X.toString=h;d.X.__enum__=d;d.Y=["Y",24];d.Y.toString=h;d.Y.__enum__=d;d.Z=["Z",25];d.Z.toString=h;d.Z.__enum__=d;d.Number0=["Number0",26];d.Number0.toString=h;d.Number0.__enum__=d;d.Number1=["Number1",27];d.Number1.toString=h;d.Number1.__enum__=d;d.Number2=["Number2",28];d.Number2.toString=h;d.Number2.__enum__=d;d.Number3=["Number3",29];d.Number3.toString=h;d.Number3.__enum__=d;d.Number4=["Number4",30];d.Number4.toString=h;d.Number4.__enum__=
d;d.Number5=["Number5",31];d.Number5.toString=h;d.Number5.__enum__=d;d.Number6=["Number6",32];d.Number6.toString=h;d.Number6.__enum__=d;d.Number7=["Number7",33];d.Number7.toString=h;d.Number7.__enum__=d;d.Number8=["Number8",34];d.Number8.toString=h;d.Number8.__enum__=d;d.Number9=["Number9",35];d.Number9.toString=h;d.Number9.__enum__=d;d.Numpad0=["Numpad0",36];d.Numpad0.toString=h;d.Numpad0.__enum__=d;d.Numpad1=["Numpad1",37];d.Numpad1.toString=h;d.Numpad1.__enum__=d;d.Numpad2=["Numpad2",38];d.Numpad2.toString=
h;d.Numpad2.__enum__=d;d.Numpad3=["Numpad3",39];d.Numpad3.toString=h;d.Numpad3.__enum__=d;d.Numpad4=["Numpad4",40];d.Numpad4.toString=h;d.Numpad4.__enum__=d;d.Numpad5=["Numpad5",41];d.Numpad5.toString=h;d.Numpad5.__enum__=d;d.Numpad6=["Numpad6",42];d.Numpad6.toString=h;d.Numpad6.__enum__=d;d.Numpad7=["Numpad7",43];d.Numpad7.toString=h;d.Numpad7.__enum__=d;d.Numpad8=["Numpad8",44];d.Numpad8.toString=h;d.Numpad8.__enum__=d;d.Numpad9=["Numpad9",45];d.Numpad9.toString=h;d.Numpad9.__enum__=d;d.NumpadAdd=
["NumpadAdd",46];d.NumpadAdd.toString=h;d.NumpadAdd.__enum__=d;d.NumpadDecimal=["NumpadDecimal",47];d.NumpadDecimal.toString=h;d.NumpadDecimal.__enum__=d;d.NumpadDivide=["NumpadDivide",48];d.NumpadDivide.toString=h;d.NumpadDivide.__enum__=d;d.NumpadEnter=["NumpadEnter",49];d.NumpadEnter.toString=h;d.NumpadEnter.__enum__=d;d.NumpadMultiply=["NumpadMultiply",50];d.NumpadMultiply.toString=h;d.NumpadMultiply.__enum__=d;d.NumpadSubtract=["NumpadSubtract",51];d.NumpadSubtract.toString=h;d.NumpadSubtract.__enum__=
d;d.F1=["F1",52];d.F1.toString=h;d.F1.__enum__=d;d.F2=["F2",53];d.F2.toString=h;d.F2.__enum__=d;d.F3=["F3",54];d.F3.toString=h;d.F3.__enum__=d;d.F4=["F4",55];d.F4.toString=h;d.F4.__enum__=d;d.F5=["F5",56];d.F5.toString=h;d.F5.__enum__=d;d.F6=["F6",57];d.F6.toString=h;d.F6.__enum__=d;d.F7=["F7",58];d.F7.toString=h;d.F7.__enum__=d;d.F8=["F8",59];d.F8.toString=h;d.F8.__enum__=d;d.F9=["F9",60];d.F9.toString=h;d.F9.__enum__=d;d.F10=["F10",61];d.F10.toString=h;d.F10.__enum__=d;d.F11=["F11",62];d.F11.toString=
h;d.F11.__enum__=d;d.F12=["F12",63];d.F12.toString=h;d.F12.__enum__=d;d.F13=["F13",64];d.F13.toString=h;d.F13.__enum__=d;d.F14=["F14",65];d.F14.toString=h;d.F14.__enum__=d;d.F15=["F15",66];d.F15.toString=h;d.F15.__enum__=d;d.Left=["Left",67];d.Left.toString=h;d.Left.__enum__=d;d.Up=["Up",68];d.Up.toString=h;d.Up.__enum__=d;d.Right=["Right",69];d.Right.toString=h;d.Right.__enum__=d;d.Down=["Down",70];d.Down.toString=h;d.Down.__enum__=d;d.Alt=["Alt",71];d.Alt.toString=h;d.Alt.__enum__=d;d.Backquote=
["Backquote",72];d.Backquote.toString=h;d.Backquote.__enum__=d;d.Backslash=["Backslash",73];d.Backslash.toString=h;d.Backslash.__enum__=d;d.Backspace=["Backspace",74];d.Backspace.toString=h;d.Backspace.__enum__=d;d.CapsLock=["CapsLock",75];d.CapsLock.toString=h;d.CapsLock.__enum__=d;d.Comma=["Comma",76];d.Comma.toString=h;d.Comma.__enum__=d;d.Command=["Command",77];d.Command.toString=h;d.Command.__enum__=d;d.Control=["Control",78];d.Control.toString=h;d.Control.__enum__=d;d.Delete=["Delete",79];d.Delete.toString=
h;d.Delete.__enum__=d;d.End=["End",80];d.End.toString=h;d.End.__enum__=d;d.Enter=["Enter",81];d.Enter.toString=h;d.Enter.__enum__=d;d.Equals=["Equals",82];d.Equals.toString=h;d.Equals.__enum__=d;d.Escape=["Escape",83];d.Escape.toString=h;d.Escape.__enum__=d;d.Home=["Home",84];d.Home.toString=h;d.Home.__enum__=d;d.Insert=["Insert",85];d.Insert.toString=h;d.Insert.__enum__=d;d.LeftBracket=["LeftBracket",86];d.LeftBracket.toString=h;d.LeftBracket.__enum__=d;d.Minus=["Minus",87];d.Minus.toString=h;d.Minus.__enum__=
d;d.PageDown=["PageDown",88];d.PageDown.toString=h;d.PageDown.__enum__=d;d.PageUp=["PageUp",89];d.PageUp.toString=h;d.PageUp.__enum__=d;d.Period=["Period",90];d.Period.toString=h;d.Period.__enum__=d;d.Quote=["Quote",91];d.Quote.toString=h;d.Quote.__enum__=d;d.RightBracket=["RightBracket",92];d.RightBracket.toString=h;d.RightBracket.__enum__=d;d.Semicolon=["Semicolon",93];d.Semicolon.toString=h;d.Semicolon.__enum__=d;d.Shift=["Shift",94];d.Shift.toString=h;d.Shift.__enum__=d;d.Slash=["Slash",95];d.Slash.toString=
h;d.Slash.__enum__=d;d.Space=["Space",96];d.Space.toString=h;d.Space.__enum__=d;d.Tab=["Tab",97];d.Tab.toString=h;d.Tab.__enum__=d;d.Menu=["Menu",98];d.Menu.toString=h;d.Menu.__enum__=d;d.Search=["Search",99];d.Search.toString=h;d.Search.__enum__=d;d.Unknown=function(a){a=["Unknown",100,a];a.__enum__=d;a.toString=h;return a};yc=function(){this.init(0,null)};yc.__name__=!0;yc.prototype={init:function(a,b){this.id=a;this.key=b},__class__:yc};U={__ename__:!0,__constructs__:["Left","Middle","Right","Unknown"],
Left:["Left",0]};U.Left.toString=h;U.Left.__enum__=U;U.Middle=["Middle",1];U.Middle.toString=h;U.Middle.__enum__=U;U.Right=["Right",2];U.Right.toString=h;U.Right.__enum__=U;U.Unknown=function(a){a=["Unknown",3,a];a.__enum__=U;a.toString=h;return a};xa={__ename__:!0,__constructs__:["Default","Button","None"],Default:["Default",0]};xa.Default.toString=h;xa.Default.__enum__=xa;xa.Button=["Button",1];xa.Button.toString=h;xa.Button.__enum__=xa;xa.None=["None",2];xa.None.toString=h;xa.None.__enum__=xa;
zc=function(){this.init(0,0,0,null)};zc.__name__=!0;zc.prototype={init:function(a,b,c,d){this.id=a;this.viewX=b;this.viewY=c;this.button=d},__class__:zc};Hb={__ename__:!0,__constructs__:["Mouse","Touch"]};Hb.Mouse=function(a){a=["Mouse",0,a];a.__enum__=Hb;a.toString=h;return a};Hb.Touch=function(a){a=["Touch",1,a];a.__enum__=Hb;a.toString=h;return a};Ac=function(){this.init(0,0,0,null,null)};Ac.__name__=!0;Ac.prototype={init:function(a,b,c,d,l){this.id=a;this.viewX=b;this.viewY=c;this.hit=d;this.source=
l;this._stopped=!1},__class__:Ac};Bc=function(a){this.id=a;this._source=Hb.Touch(this)};Bc.__name__=!0;Bc.prototype={init:function(a,b){this.viewX=a;this.viewY=b},__class__:Bc};Ha=function(){};Ha.__name__=!0;Ha.max=function(a,b){return a>b?a:b};Ha.min=function(a,b){return a<b?a:b};Aa=function(){this.identity()};Aa.__name__=!0;Aa.multiply=function(a,b,c){null==c&&(c=new Aa);var d=a.m00*b.m00+a.m01*b.m10,l=a.m00*b.m01+a.m01*b.m11,f=a.m00*b.m02+a.m01*b.m12+a.m02;c.m00=d;c.m01=l;c.m02=f;d=a.m10*b.m00+
a.m11*b.m10;l=a.m10*b.m01+a.m11*b.m11;f=a.m10*b.m02+a.m11*b.m12+a.m12;c.m10=d;c.m11=l;c.m12=f;return c};Aa.prototype={clone:function(a){null==a&&(a=new Aa);a.set(this.m00,this.m10,this.m01,this.m11,this.m02,this.m12);return a},inverseTransform:function(a,b,c){var d=this.determinant();if(0==d)return!1;a-=this.m02;b-=this.m12;c.x=(a*this.m11-b*this.m01)/d;c.y=(b*this.m00-a*this.m10)/d;return!0},determinant:function(){return this.m00*this.m11-this.m01*this.m10},transformArray:function(a,b,c){for(var d=
0;d<b;){var l=a[d],f=a[d+1];c[d++]=l*this.m00+f*this.m01+this.m02;c[d++]=l*this.m10+f*this.m11+this.m12}},invert:function(){var a=this.determinant();if(0==a)return!1;this.set(this.m11/a,-this.m01/a,-this.m10/a,this.m00/a,(this.m01*this.m12-this.m11*this.m02)/a,(this.m10*this.m02-this.m00*this.m12)/a);return!0},translate:function(a,b){this.m02+=this.m00*a+this.m01*b;this.m12+=this.m11*b+this.m10*a},compose:function(a,b,c,d,l){var f=Math.sin(l),l=Math.cos(l);this.set(l*c,f*c,-f*d,l*d,a,b)},identity:function(){this.set(1,
0,0,1,0,0)},set:function(a,b,c,d,l,f){this.m00=a;this.m01=c;this.m02=l;this.m10=b;this.m11=d;this.m12=f},__class__:Aa};J=function(){this._disposed=!1};J.__name__=!0;J.__interfaces__=[sb];J.prototype={onDisposed:function(){null},dispose:function(){this._disposed||(this._disposed=!0,this.onDisposed())},__class__:J};eb=function(a,b){var c=this;this.manifest=b;this._platform=a;this.promise=new kc;this._bytesLoaded=new B.StringMap;this._pack=new dc.BasicAssetPack(b,this);var d=$c.array(b);if(0==d.length)this.handleSuccess();
else{for(var l=new B.StringMap,f=0;f<d.length;){var e=d[f];++f;var i=l.get(e.name);null==i&&(i=[],l.set(e.name,i));i.push(e)}this._assetsRemaining=$c.count(l);for(d=function(){return function(a){return function(){return function(){return a.iterator()}}()}}()(l)();d.hasNext();)i=d.next(),i=[i],this.pickBestEntry(i[0],function(a){return function(d){if(null!=d){var g=b.getFullURL(d);try{c.loadEntry(g,d)}catch(f){c.handleError(d,"Unexpected error: "+p.string(f))}g=c.promise;g.set_total(g._total+d.bytes)}else d=
a[0][0],eb.isAudio(d.format)?c.handleLoad(d,qa.getInstance()):c.handleError(d,"Could not find a supported format to load")}}(i))}};eb.__name__=!0;eb.isAudio=function(a){switch(a[1]){case 8:case 9:case 10:case 11:case 12:return!0;default:return!1}};eb.prototype={handleTextureError:function(a){this.handleError(a,"Failed to create texture. Is the GPU context unavailable?")},handleError:function(a,b){this.promise.error.emit1($.withFields(b,["url",a.url]))},handleSuccess:function(){this.promise.set_result(this._pack)},
handleProgress:function(a,b){this._bytesLoaded.set(a.name,b);for(var c=0,d=function(a){return function(){return a.iterator()}}(this._bytesLoaded)();d.hasNext();)var l=d.next(),c=c+l;this.promise.set_progress(c)},handleLoad:function(a,b){if(!this._pack.disposed){this.handleProgress(a,a.bytes);var c;switch(a.format[1]){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:c=this._pack.textures;break;case 8:case 9:case 10:case 11:case 12:c=this._pack.sounds;break;case 13:c=this._pack.files}c.set(a.name,
b);this._assetsRemaining-=1;0==this._assetsRemaining&&this.handleSuccess()}},getAssetFormats:function(){null},loadEntry:function(){null},pickBestEntry:function(a,b){this.getAssetFormats(function(c){for(var d=0;d<c.length;){var l=c[d];++d;for(var f=0;f<a.length;){var e=a[f];++f;if(e.format==l){b(e);return}}}b(null)})},onDisposed:function(){},__class__:eb};dc={BasicAssetPack:function(a,b){this.disposed=!1;this._manifest=a;this.loader=b;this.textures=new B.StringMap;this.sounds=new B.StringMap;this.files=
new B.StringMap}};dc.BasicAssetPack.__name__=!0;dc.BasicAssetPack.__interfaces__=[$b];dc.BasicAssetPack.prototype={dispose:function(){if(!this.disposed){this.disposed=!0;for(var a=function(a){return function(){return a.iterator()}}(this.textures)();a.hasNext();)a.next().dispose();this.textures=null;for(a=function(a){return function(){return a.iterator()}}(this.sounds)();a.hasNext();)a.next().dispose();this.sounds=null;for(a=function(a){return function(){return a.iterator()}}(this.files)();a.hasNext();)a.next().dispose();
this.files=null;this.loader.onDisposed()}},getFile:function(a,b){null==b&&(b=!0);var c=this.files.get(a);if(null==c&&b)throw $.withFields("Missing file",["name",a]);return c},getSound:function(a,b){null==b&&(b=!0);var c=this.sounds.get(a);if(null==c&&b)throw $.withFields("Missing sound",["name",a]);return c},getTexture:function(a,b){null==b&&(b=!0);var c=this.textures.get(a);if(null==c&&b)throw $.withFields("Missing texture",["name",a]);return c},__class__:dc.BasicAssetPack};Ib=function(a){J.call(this);
this._content=a};Ib.__name__=!0;Ib.__interfaces__=[ac];Ib.__super__=J;Ib.prototype=j(J.prototype,{onDisposed:function(){this._content=null},toString:function(){return this._content},__class__:Ib});Vc=function(){};cd=void 0;wc=void 0;Wc=void 0;xc=void 0;Vc.__name__=!0;Vc.prototype={__class__:Vc};ya=function(){this.down=new K;this.up=new K;this.backButton=new wb;this._keyStates=new B.IntMap};ya.__name__=!0;ya.__interfaces__=[Vc];ya.prototype={submitUp:function(a){this._keyStates.exists(a)&&(this._keyStates.remove(a),
ya._sharedEvent.init(ya._sharedEvent.id+1,Dc.toKey(a)),this.up.emit1(ya._sharedEvent))},submitDown:function(a){if(16777238==a)return null!=this.backButton._head?(this.backButton.emit0(),!0):!1;this._keyStates.exists(a)||(this._keyStates.set(a,!0),ya._sharedEvent.init(ya._sharedEvent.id+1,Dc.toKey(a)),this.down.emit1(ya._sharedEvent));return!0},__class__:ya};cd=function(){};cd.__name__=!0;ja=function(a){this._pointer=a;this._source=Hb.Mouse(ja._sharedEvent);this.down=new K;this.move=new K;this.up=
new K;this.scroll=new K;this._y=this._x=0;this._cursor=xa.Default;this._buttonStates=new B.IntMap};ja.__name__=!0;ja.__interfaces__=[cd];ja.prototype={prepare:function(a,b,c){this._x=a;this._y=b;ja._sharedEvent.init(ja._sharedEvent.id+1,a,b,c)},submitScroll:function(a,b,c){this._x=a;this._y=b;if(null==this.scroll._head)return!1;this.scroll.emit1(c);return!0},submitUp:function(a,b,c){this._buttonStates.exists(c)&&(this._buttonStates.remove(c),this.prepare(a,b,Ec.toButton(c)),this._pointer.submitUp(a,
b,this._source),this.up.emit1(ja._sharedEvent))},submitMove:function(a,b){this.prepare(a,b,null);this._pointer.submitMove(a,b,this._source);this.move.emit1(ja._sharedEvent)},submitDown:function(a,b,c){this._buttonStates.exists(c)||(this._buttonStates.set(c,!0),this.prepare(a,b,Ec.toButton(c)),this._pointer.submitDown(a,b,this._source),this.down.emit1(ja._sharedEvent))},__class__:ja};wc=function(){};wc.__name__=!0;wc.prototype={__class__:wc};V=function(a,b,c){null==c&&(c=!1);null==b&&(b=0);null==a&&
(a=0);this.down=new K;this.move=new K;this.up=new K;this._x=a;this._y=b;this._isDown=c};V.__name__=!0;V.__interfaces__=[wc];V.prototype={prepare:function(a,b,c,d){this._x=a;this._y=b;V._sharedEvent.init(V._sharedEvent.id+1,a,b,c,d)},submitUp:function(a,b,c){if(this._isDown){this._isDown=!1;var d=[],l=A.hitTest(v.root,a,b);if(null!=l){var f=l.owner;do{var e=f._compMap.Sprite_2;null!=e&&d.push(e);f=f.parent}while(null!=f)}this.prepare(a,b,l,c);for(a=0;a<d.length;)if(e=d[a],++a,e=e._pointerUp,null!=
e&&(e.emit1(V._sharedEvent),V._sharedEvent._stopped))return;this.up.emit1(V._sharedEvent)}},submitMove:function(a,b,c){var d=[],l=A.hitTest(v.root,a,b);if(null!=l){var f=l.owner;do{var e=f._compMap.Sprite_2;null!=e&&d.push(e);f=f.parent}while(null!=f)}this.prepare(a,b,l,c);for(a=0;a<d.length;)if(e=d[a],++a,e=e._pointerMove,null!=e&&(e.emit1(V._sharedEvent),V._sharedEvent._stopped))return;this.move.emit1(V._sharedEvent)},submitDown:function(a,b,c){if(!this._isDown){this._isDown=!0;var d=[],l=A.hitTest(v.root,
a,b);if(null!=l){var f=l.owner;do{var e=f._compMap.Sprite_2;null!=e&&d.push(e);f=f.parent}while(null!=f)}this.prepare(a,b,l,c);for(a=0;a<d.length;)if(e=d[a],++a,e=e._pointerDown,null!=e&&(e.emit1(V._sharedEvent),V._sharedEvent._stopped))return;this.down.emit1(V._sharedEvent)}},__class__:V};Wc=function(){};Wc.__name__=!0;bc=function(a,b){null==b&&(b=4);this._pointer=a;this._maxPoints=b;this._pointMap=new B.IntMap;this._points=[];this.down=new K;this.move=new K;this.up=new K};bc.__name__=!0;bc.__interfaces__=
[Wc];bc.prototype={submitUp:function(a,b,c){var d=this._pointMap.get(a);null!=d&&(d.init(b,c),this._pointMap.remove(a),t.remove(this._points,d),this._pointerTouch==d&&(this._pointerTouch=null,this._pointer.submitUp(b,c,d._source)),this.up.emit1(d))},submitMove:function(a,b,c){a=this._pointMap.get(a);null!=a&&(a.init(b,c),this._pointerTouch==a&&this._pointer.submitMove(b,c,a._source),this.move.emit1(a))},submitDown:function(a,b,c){if(!this._pointMap.exists(a)){var d=new Bc(a);d.init(b,c);this._pointMap.set(a,
d);this._points.push(d);null==this._pointerTouch&&(this._pointerTouch=d,this._pointer.submitDown(b,c,d._source));this.down.emit1(d)}},__class__:bc};Gb=function(){};rb=void 0;Gb.__name__=!0;Gb.__interfaces__=[sb];Gb.prototype={__class__:Gb};qa=function(){J.call(this);this._playback=new ec(this)};qa.__name__=!0;qa.__interfaces__=[Gb];qa.getInstance=function(){null==qa._instance&&(qa._instance=new qa);return qa._instance};qa.__super__=J;qa.prototype=j(J.prototype,{loop:function(){return this._playback},
play:function(){return this._playback},__class__:qa});rb=function(){};rb.__name__=!0;rb.__interfaces__=[Ra];rb.prototype={__class__:rb};ec=function(a){this._sound=a;this.volume=new Y(0)};ec.__name__=!0;ec.__interfaces__=[rb];ec.prototype={dispose:function(){},set_paused:function(){return!0},__class__:ec};cc=function(){this.down=new K;this.move=new K;this.up=new K};cc.__name__=!0;cc.__interfaces__=[Wc];cc.prototype={__class__:cc};Jb=function(){this._entries=[]};Jb.__name__=!0;Jb.__interfaces__=[Ra];
Jb.prototype={dispose:function(){for(var a=0,b=this._entries;a<b.length;){var c=b[a];++a;c.dispatcher.removeEventListener(c.type,c.listener,!1)}this._entries=[]},addDisposingListener:function(a,b,c){var d=this;this.addListener(a,b,function(a){d.dispose();c(a)})},addListener:function(a,b,c){a.addEventListener(b,c,!1);this._entries.push(new Fc.Entry(a,b,c))},__class__:Jb};Fc={Entry:function(a,b,c){this.dispatcher=a;this.type=b;this.listener=c}};Fc.Entry.__name__=!0;Fc.Entry.prototype={__class__:Fc.Entry};
Kb=function(){};Kb.__name__=!0;Kb.__interfaces__=[Ic];Kb.prototype={__class__:Kb};Dc=function(){};Dc.__name__=!0;Dc.toKey=function(a){switch(a){case 65:return d.A;case 66:return d.B;case 67:return d.C;case 68:return d.D;case 69:return d.E;case 70:return d.F;case 71:return d.G;case 72:return d.H;case 73:return d.I;case 74:return d.J;case 75:return d.K;case 76:return d.L;case 77:return d.M;case 78:return d.N;case 79:return d.O;case 80:return d.P;case 81:return d.Q;case 82:return d.R;case 83:return d.S;
case 84:return d.T;case 85:return d.U;case 86:return d.V;case 87:return d.W;case 88:return d.X;case 89:return d.Y;case 90:return d.Z;case 48:return d.Number0;case 49:return d.Number1;case 50:return d.Number2;case 51:return d.Number3;case 52:return d.Number4;case 53:return d.Number5;case 54:return d.Number6;case 55:return d.Number7;case 56:return d.Number8;case 57:return d.Number9;case 96:return d.Numpad0;case 97:return d.Numpad1;case 98:return d.Numpad2;case 99:return d.Numpad3;case 100:return d.Numpad4;
case 101:return d.Numpad5;case 102:return d.Numpad6;case 103:return d.Numpad7;case 104:return d.Numpad8;case 105:return d.Numpad9;case 107:return d.NumpadAdd;case 110:return d.NumpadDecimal;case 111:return d.NumpadDivide;case 108:return d.NumpadEnter;case 106:return d.NumpadMultiply;case 109:return d.NumpadSubtract;case 112:return d.F1;case 113:return d.F2;case 114:return d.F3;case 115:return d.F4;case 116:return d.F5;case 117:return d.F6;case 118:return d.F7;case 119:return d.F8;case 120:return d.F9;
case 121:return d.F10;case 122:return d.F11;case 123:return d.F12;case 37:return d.Left;case 38:return d.Up;case 39:return d.Right;case 40:return d.Down;case 18:return d.Alt;case 192:return d.Backquote;case 220:return d.Backslash;case 8:return d.Backspace;case 20:return d.CapsLock;case 188:return d.Comma;case 15:return d.Command;case 17:return d.Control;case 46:return d.Delete;case 35:return d.End;case 13:return d.Enter;case 187:return d.Equals;case 27:return d.Escape;case 36:return d.Home;case 45:return d.Insert;
case 219:return d.LeftBracket;case 189:return d.Minus;case 34:return d.PageDown;case 33:return d.PageUp;case 190:return d.Period;case 222:return d.Quote;case 221:return d.RightBracket;case 186:return d.Semicolon;case 16:return d.Shift;case 191:return d.Slash;case 32:return d.Space;case 9:return d.Tab;case 16777234:return d.Menu;case 16777247:return d.Search}return d.Unknown(a)};tb=function(){this._tickables=[]};tb.__name__=!0;tb.updateEntity=function(a,b){var c=a._compMap.SpeedAdjuster_6;if(null!=
c&&(c._realDt=b,b*=c.scale._value,0>=b)){c.onUpdate(b);return}for(var d=a.firstComponent;null!=d;)c=d.next,d.onUpdate(b),d=c;for(d=a.firstChild;null!=d;)c=d.next,tb.updateEntity(d,b),d=c};tb.prototype={addTickable:function(a){this._tickables.push(a)},render:function(a){var b=a.graphics;null!=b&&(a.willRender(),A.render(v.root,b),a.didRender())},update:function(a){if(!(0>=a)){1<a&&(a=1);for(var b=0;b<this._tickables.length;){var c=this._tickables[b];null==c||c.update(a)?this._tickables.splice(b,1):
++b}v.volume.update(a);tb.updateEntity(v.root,a)}},__class__:tb};Ec=function(){};Ec.__name__=!0;Ec.toButton=function(a){switch(a){case 0:return U.Left;case 1:return U.Middle;case 2:return U.Right}return U.Unknown(a)};fc=function(){};fc.__name__=!0;fc.prototype={__class__:fc};gc=function(){};gc.__name__=!0;gc.prototype={__class__:gc};e.CanvasGraphics=function(a){this._firstDraw=!1;this._canvasCtx=a.getContext("2d")};e.CanvasGraphics.__name__=!0;e.CanvasGraphics.__interfaces__=[Kb];e.CanvasGraphics.prototype=
{onResize:function(){},didRender:function(){},willRender:function(){this._firstDraw=!0},applyScissor:function(a,b,c,d){this._canvasCtx.beginPath();this._canvasCtx.rect(a|0,b|0,c|0,d|0);this._canvasCtx.clip()},setBlendMode:function(a){var b;switch(a[1]){case 0:b="source-over";break;case 1:b="lighter";break;case 2:b="destination-in";break;case 3:b="copy"}this._canvasCtx.globalCompositeOperation=b},multiplyAlpha:function(a){this._canvasCtx.globalAlpha*=a},drawSubImage:function(a,b,c,d,e,f,h){this._firstDraw?
(this._firstDraw=!1,this._canvasCtx.globalCompositeOperation="copy",this.drawSubImage(a,b,c,d,e,f,h),this._canvasCtx.globalCompositeOperation="source-over"):this._canvasCtx.drawImage(a.image,d|0,e|0,f|0,h|0,b|0,c|0,f|0,h|0)},drawImage:function(a,b,c){this._firstDraw?(this._firstDraw=!1,this._canvasCtx.globalCompositeOperation="copy",this.drawImage(a,b,c),this._canvasCtx.globalCompositeOperation="source-over"):this._canvasCtx.drawImage(a.image,b|0,c|0)},restore:function(){this._canvasCtx.restore()},
transform:function(a,b,c,d,e,f){this._canvasCtx.transform(a,b,c,d,e,f)},rotate:function(a){this._canvasCtx.rotate(3.141592653589793*a/180)},translate:function(a,b){this._canvasCtx.translate(a|0,b|0)},save:function(){this._canvasCtx.save()},__class__:e.CanvasGraphics};e.CanvasRenderer=function(a){this.graphics=new e.CanvasGraphics(a);v.hasGPU.set__(!0)};e.CanvasRenderer.__name__=!0;e.CanvasRenderer.__interfaces__=[fc];e.CanvasRenderer.prototype={didRender:function(){this.graphics.didRender()},willRender:function(){this.graphics.willRender()},
createCompressedTexture:function(){return null},getCompressedTextureFormats:function(){return[]},createTexture:function(a){return new e.CanvasTexture(e.CanvasRenderer.CANVAS_TEXTURES?e.HtmlUtil.createCanvas(a):a)},__class__:e.CanvasRenderer};e.CanvasTexture=function(a){this.pattern=this._graphics=null;J.call(this);this.image=a};e.CanvasTexture.__name__=!0;e.CanvasTexture.__interfaces__=[Nb];e.CanvasTexture.__super__=J;e.CanvasTexture.prototype=j(J.prototype,{onDisposed:function(){this._graphics=this.pattern=
this.image=null},get_height:function(){return this.image.height},get_width:function(){return this.image.width},__class__:e.CanvasTexture});e.HtmlAssetPackLoader=function(a,b){eb.call(this,a,b)};e.HtmlAssetPackLoader.__name__=!0;e.HtmlAssetPackLoader.detectImageFormats=function(a){var b=[m.PNG,m.JPG,m.GIF],c=2,d=s.document.createElement("img");d.onload=d.onerror=function(){1==d.width&&b.unshift(m.WEBP);--c;0==c&&a(b)};d.src="data:image/webp;base64,UklGRhoAAABXRUJQVlA4TA0AAAAvAAAAEAcQERGIiP4HAA==";
var e=s.document.createElement("img");e.onload=e.onerror=function(){1==e.width&&b.unshift(m.JXR);--c;0==c&&a(b)};e.src="data:image/vnd.ms-photo;base64,SUm8AQgAAAAFAAG8AQAQAAAASgAAAIC8BAABAAAAAQAAAIG8BAABAAAAAQAAAMC8BAABAAAAWgAAAMG8BAABAAAAHwAAAAAAAAAkw91vA07+S7GFPXd2jckNV01QSE9UTwAZAYBxAAAAABP/gAAEb/8AAQAAAQAAAA=="};e.HtmlAssetPackLoader.detectAudioFormats=function(){var a=s.document.createElement("audio");if(null==a||null==O(a,a.canPlayType))return[];var b=new yb("\\b(iPhone|iPod|iPad|Android)\\b",
""),c=s.window.navigator.userAgent;if(!e.WebAudioSound.get_supported()&&b.match(c))return[];for(var b=[{format:m.M4A,mimeType:"audio/mp4; codecs=mp4a"},{format:m.MP3,mimeType:"audio/mpeg"},{format:m.OPUS,mimeType:"audio/ogg; codecs=opus"},{format:m.OGG,mimeType:"audio/ogg; codecs=vorbis"},{format:m.WAV,mimeType:"audio/wav"}],c=[],d=0;d<b.length;){var l=b[d];++d;var f="";try{f=a.canPlayType(l.mimeType)}catch(h){}""!=f&&c.push(l.format)}return c};e.HtmlAssetPackLoader.supportsBlob=function(){if(e.HtmlAssetPackLoader._detectBlobSupport){e.HtmlAssetPackLoader._detectBlobSupport=
!1;var a=new XMLHttpRequest;a.open("GET",".",!0);a.responseType="blob";if("blob"!=a.responseType)return!1;e.HtmlAssetPackLoader._URL=e.HtmlUtil.loadExtension("URL").value}return null!=e.HtmlAssetPackLoader._URL&&null!=e.HtmlAssetPackLoader._URL.createObjectURL};e.HtmlAssetPackLoader.__super__=eb;e.HtmlAssetPackLoader.prototype=j(eb.prototype,{download:function(a,b,c,d){var e=this,f=new XMLHttpRequest,h=0,i=function(){h=Date.now();f.open("GET",a,!0);f.responseType=c;""==f.responseType&&(f.responseType=
"arraybuffer");f.send()},k=0;if("undefined"!=typeof f.onprogress){var m=4;f.onprogress=function(a){h=Date.now();e.handleProgress(b,a.loaded)};k=s.window.setInterval(function(){1<=f.readyState&&5E3<Date.now()-h&&(f.abort(),--m,0<m?i():(s.window.clearInterval(k),e.handleError(b,"Request timed out")))},1E3)}f.onload=function(){s.window.clearInterval(k);var a=f.response;null==a?a=f.responseText:"blob"==c&&"arraybuffer"==f.responseType&&(a=new Blob([f.response]));d(a)};f.onerror=function(){s.window.clearInterval(k);
e.handleError(b,"Failed to load asset: error #"+f.status)};i();return f},getAssetFormats:function(a){var b=this;null==e.HtmlAssetPackLoader._supportedFormats&&(e.HtmlAssetPackLoader._supportedFormats=new kc,e.HtmlAssetPackLoader.detectImageFormats(function(a){e.HtmlAssetPackLoader._supportedFormats.set_result(b._platform.getRenderer().getCompressedTextureFormats().concat(a).concat(e.HtmlAssetPackLoader.detectAudioFormats()).concat([m.Data]))}));e.HtmlAssetPackLoader._supportedFormats.get(a)},loadEntry:function(a,
b){var c=this;switch(b.format[1]){case 0:case 1:case 2:case 3:case 4:var d=s.document.createElement("img"),l=new Jb;l.addDisposingListener(d,"load",function(){e.HtmlAssetPackLoader.supportsBlob()&&e.HtmlAssetPackLoader._URL.revokeObjectURL(d.src);var a=c._platform.getRenderer().createTexture(d);null!=a?c.handleLoad(b,a):c.handleTextureError(b)});l.addDisposingListener(d,"error",function(){c.handleError(b,"Failed to load image")});e.HtmlAssetPackLoader.supportsBlob()?this.download(a,b,"blob",function(a){d.src=
e.HtmlAssetPackLoader._URL.createObjectURL(a)}):d.src=a;break;case 5:case 6:case 7:this.download(a,b,"arraybuffer",function(){var a=c._platform.getRenderer().createCompressedTexture(b.format,null);null!=a?c.handleLoad(b,a):c.handleTextureError(b)});break;case 8:case 9:case 10:case 11:case 12:if(e.WebAudioSound.get_supported())this.download(a,b,"arraybuffer",function(a){e.WebAudioSound.ctx.decodeAudioData(a,function(a){c.handleLoad(b,new e.WebAudioSound(a))},function(){c.handleLoad(b,qa.getInstance())})});
else{var f=s.document.createElement("audio");f.preload="auto";var h=++e.HtmlAssetPackLoader._mediaRefCount;null==e.HtmlAssetPackLoader._mediaElements&&(e.HtmlAssetPackLoader._mediaElements=new B.IntMap);e.HtmlAssetPackLoader._mediaElements.set(h,f);l=new Jb;l.addDisposingListener(f,"canplaythrough",function(){e.HtmlAssetPackLoader._mediaElements.remove(h);c.handleLoad(b,new e.HtmlSound(f))});l.addDisposingListener(f,"error",function(){e.HtmlAssetPackLoader._mediaElements.remove(h);var a=f.error.code;
3==a||4==a?c.handleLoad(b,qa.getInstance()):c.handleError(b,"Failed to load audio: "+f.error.code)});l.addListener(f,"progress",function(){if(0<f.buffered.length&&0<f.duration){var a=f.buffered.end(0)/f.duration;c.handleProgress(b,a*b.bytes|0)}});f.src=a;f.load()}break;case 13:this.download(a,b,"text",function(a){c.handleLoad(b,new Ib(a))})}},__class__:e.HtmlAssetPackLoader});e.HtmlMouse=function(a,b){ja.call(this,a);this._canvas=b};e.HtmlMouse.__name__=!0;e.HtmlMouse.__super__=ja;e.HtmlMouse.prototype=
j(ja.prototype,{__class__:e.HtmlMouse});e.HtmlSound=function(a){J.call(this);this.audioElement=a};e.HtmlSound.__name__=!0;e.HtmlSound.__interfaces__=[Gb];e.HtmlSound.__super__=J;e.HtmlSound.prototype=j(J.prototype,{onDisposed:function(){this.audioElement=null},loop:function(a){null==a&&(a=1);return new e._HtmlSound.HtmlPlayback(this,a,!0)},play:function(a){null==a&&(a=1);return new e._HtmlSound.HtmlPlayback(this,a,!1)},__class__:e.HtmlSound});e._HtmlSound={};e._HtmlSound.HtmlPlayback=function(a,b,
c){var d=this;this._sound=a;this._tickableAdded=!1;this._clonedElement=s.document.createElement("audio");this._clonedElement.loop=c;this._clonedElement.src=a.audioElement.src;this.volume=new Y(b,function(){d.updateVolume()});this.updateVolume();this.playAudio();v.hidden._value&&this.set_paused(!0)};e._HtmlSound.HtmlPlayback.__name__=!0;e._HtmlSound.HtmlPlayback.__interfaces__=[gc,rb];e._HtmlSound.HtmlPlayback.prototype={updateVolume:function(){this._clonedElement.volume=v.volume._value*this.volume._value},
playAudio:function(){var a=this;this._clonedElement.play();this._tickableAdded||(e.HtmlPlatform.instance.mainLoop.addTickable(this),this._tickableAdded=!0,this._volumeBinding=v.volume.get_changed().connect(function(){a.updateVolume()}),this._hideBinding=v.hidden.get_changed().connect(function(b){b?(a._wasPaused=a._clonedElement.paused,a.set_paused(!0)):a.set_paused(a._wasPaused)}))},dispose:function(){this.set_paused(!0)},update:function(a){this.volume.update(a);return this._clonedElement.ended||
this._clonedElement.paused?(this._tickableAdded=!1,this._volumeBinding.dispose(),this._hideBinding.dispose(),!0):!1},set_paused:function(a){this._clonedElement.paused!=a&&(a?this._clonedElement.pause():this.playAudio());return a},__class__:e._HtmlSound.HtmlPlayback};xc=function(){};xc.__name__=!0;xc.prototype={__class__:xc};e.HtmlStage=function(a){var b=this;this._canvas=a;this.resize=new wb;this.scaleFactor=e.HtmlStage.computeScaleFactor();1!=this.scaleFactor&&(e.HtmlUtil.setVendorStyle(this._canvas,
"transform-origin","top left"),e.HtmlUtil.setVendorStyle(this._canvas,"transform","scale("+1/this.scaleFactor+")"));e.HtmlUtil.SHOULD_HIDE_MOBILE_BROWSER&&(s.window.addEventListener("orientationchange",function(){e.HtmlUtil.callLater(O(b,b.hideMobileBrowser),200)},!1),this.hideMobileBrowser());s.window.addEventListener("resize",O(this,this.onWindowResize),!1);this.onWindowResize(null);this.orientation=new Ba(null);null!=s.window.orientation&&(s.window.addEventListener("orientationchange",O(this,this.onOrientationChange),
!1),this.onOrientationChange(null));this.fullscreen=new Ba(!1);e.HtmlUtil.addVendorListener(s.document,"fullscreenchange",function(){b.updateFullscreen()},!1);this.updateFullscreen()};e.HtmlStage.__name__=!0;e.HtmlStage.__interfaces__=[xc];e.HtmlStage.computeScaleFactor=function(){return 1};e.HtmlStage.prototype={updateFullscreen:function(){this.fullscreen.set__(!0==e.HtmlUtil.loadFirstExtension(["fullscreen","fullScreen","isFullScreen"],s.document).value)},onOrientationChange:function(){this.orientation.set__(e.HtmlUtil.orientation(s.window.orientation))},
hideMobileBrowser:function(){var a=this,b=s.document.documentElement.style;b.height=s.window.innerHeight+100+"px";b.width=s.window.innerWidth+"px";b.overflow="visible";e.HtmlUtil.callLater(function(){e.HtmlUtil.hideMobileBrowser();e.HtmlUtil.callLater(function(){b.height=s.window.innerHeight+"px";a.onWindowResize(null)},100)})},resizeCanvas:function(a,b){var c=this.scaleFactor*a,d=this.scaleFactor*b;if(this._canvas.width==c&&this._canvas.height==d)return!1;this._canvas.width=c|0;this._canvas.height=
d|0;this.resize.emit0();return!0},onWindowResize:function(){var a=this._canvas.parentElement.getBoundingClientRect();this.resizeCanvas(a.width,a.height)},get_height:function(){return this._canvas.height},get_width:function(){return this._canvas.width},__class__:e.HtmlStage};e.HtmlUtil=function(){};e.HtmlUtil.__name__=!0;e.HtmlUtil.callLater=function(a,b){null==b&&(b=0);s.window.setTimeout(a,b)};e.HtmlUtil.hideMobileBrowser=function(){s.window.scrollTo(1,0)};e.HtmlUtil.loadExtension=function(a,b){null==
b&&(b=s.window);var c=Ta.field(b,a);if(null!=c)return{prefix:"",field:a,value:c};for(var c=a.charAt(0).toUpperCase()+t.substr(a,1,null),d=0,l=e.HtmlUtil.VENDOR_PREFIXES;d<l.length;){var f=l[d];++d;var h=f+c,i=Ta.field(b,h);if(null!=i)return{prefix:f,field:h,value:i}}return{prefix:null,field:null,value:null}};e.HtmlUtil.loadFirstExtension=function(a,b){for(var c=0;c<a.length;){var d=a[c];++c;d=e.HtmlUtil.loadExtension(d,b);if(null!=d.field)return d}return{prefix:null,field:null,value:null}};e.HtmlUtil.polyfill=
function(a,b){null==b&&(b=s.window);var c=e.HtmlUtil.loadExtension(a,b).value;if(null==c)return!1;b[a]=c;return!0};e.HtmlUtil.setVendorStyle=function(a,b,c){for(var a=a.style,d=0,l=e.HtmlUtil.VENDOR_PREFIXES;d<l.length;){var f=l[d];++d;a.setProperty("-"+f+"-"+b,c)}a.setProperty(b,c)};e.HtmlUtil.addVendorListener=function(a,b,c,d){for(var l=0,f=e.HtmlUtil.VENDOR_PREFIXES;l<f.length;){var h=f[l];++l;a.addEventListener(h+b,c,d)}a.addEventListener(b,c,d)};e.HtmlUtil.orientation=function(a){switch(a){case -90:case 90:return Pa.Landscape;
default:return Pa.Portrait}};e.HtmlUtil.createEmptyCanvas=function(a,b){var c=s.document.createElement("canvas");c.width=a;c.height=b;return c};e.HtmlUtil.createCanvas=function(a){var b=e.HtmlUtil.createEmptyCanvas(a.width,a.height),c=b.getContext("2d");c.save();c.globalCompositeOperation="copy";c.drawImage(a,0,0);c.restore();return b};e.HtmlUtil.detectSlowDriver=function(a){if(0<=s.navigator.platform.indexOf("Win")&&null!=s.window.chrome){for(var b=0,a=a.getSupportedExtensions();b<a.length;){var c=
a[b];++b;if(0<=c.indexOf("WEBGL_compressed_texture"))return!1}return!0}return!1};e.HtmlUtil.fixAndroidMath=function(){if(0<=s.navigator.userAgent.indexOf("Linux; U; Android 4")){var a=Math.sin,b=Math.cos;Math.sin=function(b){return 0==b?0:a(b)};Math.cos=function(a){return 0==a?1:b(a)}}};e.WebAudioSound=function(a){J.call(this);this.buffer=a};e.WebAudioSound.__name__=!0;e.WebAudioSound.__interfaces__=[Gb];e.WebAudioSound.get_supported=function(){if(e.WebAudioSound._detectSupport){e.WebAudioSound._detectSupport=
!1;var a=e.HtmlUtil.loadExtension("AudioContext").value;null!=a&&(e.WebAudioSound.ctx=new a,e.WebAudioSound.gain=e.WebAudioSound.ctx.createGainNode(),e.WebAudioSound.gain.connect(e.WebAudioSound.ctx.destination),v.volume.watch(function(a){e.WebAudioSound.gain.gain.value=a}))}return null!=e.WebAudioSound.ctx};e.WebAudioSound.__super__=J;e.WebAudioSound.prototype=j(J.prototype,{onDisposed:function(){this.buffer=null},get_duration:function(){return this.buffer.duration},loop:function(a){null==a&&(a=
1);return new e._WebAudioSound.WebAudioPlayback(this,a,!0)},play:function(a){null==a&&(a=1);return new e._WebAudioSound.WebAudioPlayback(this,a,!1)},__class__:e.WebAudioSound});e._WebAudioSound={};e._WebAudioSound.WebAudioPlayback=function(a,b,c){var d=this;this._sound=a;this._head=e.WebAudioSound.gain;this._sourceNode=e.WebAudioSound.ctx.createBufferSource();this._sourceNode.buffer=a.buffer;this._sourceNode.loop=c;this._sourceNode.noteOn(0);this.playAudio();this.volume=new Y(b,function(a){d.setVolume(a)});
1!=b&&this.setVolume(b);v.hidden._value&&this.set_paused(!0)};e._WebAudioSound.WebAudioPlayback.__name__=!0;e._WebAudioSound.WebAudioPlayback.__interfaces__=[gc,rb];e._WebAudioSound.WebAudioPlayback.prototype={playAudio:function(){var a=this;this._sourceNode.connect(this._head);this._startedAt=e.WebAudioSound.ctx.currentTime;this._pausedAt=-1;this._tickableAdded||(e.HtmlPlatform.instance.mainLoop.addTickable(this),this._tickableAdded=!0,this._hideBinding=v.hidden.get_changed().connect(function(b){b?
(a._wasPaused=0<=a._pausedAt,a.set_paused(!0)):a.set_paused(a._wasPaused)}))},insertNode:function(a){0<=this._pausedAt||(this._sourceNode.disconnect(),this._sourceNode.connect(a));a.connect(this._head);this._head=a},setVolume:function(a){null==this._gainNode&&(this._gainNode=e.WebAudioSound.ctx.createGainNode(),this.insertNode(this._gainNode));this._gainNode.gain.value=a},dispose:function(){this.set_paused(!0)},update:function(a){this.volume.update(a);return 3==this._sourceNode.playbackState||0<=
this._pausedAt?(this._tickableAdded=!1,this._hideBinding.dispose(),!0):!1},get_position:function(){return 3==this._sourceNode.playbackState?this._sound.get_duration():0<=this._pausedAt?this._pausedAt:(e.WebAudioSound.ctx.currentTime-this._startedAt)%this._sound.get_duration()},set_paused:function(a){a!=0<=this._pausedAt&&(a?(this._sourceNode.disconnect(),this._pausedAt=this.get_position()):this.playAudio());return a},__class__:e._WebAudioSound.WebAudioPlayback};e.WebGLBatcher=function(a){this._quads=
this._maxQuads=this._dataOffset=this._backbufferWidth=this._backbufferHeight=0;this._pendingSetScissor=!1;this._lastBlendMode=this._lastRenderTarget=this._lastShader=this._lastTexture=this._lastScissor=this._currentBlendMode=this._currentShader=this._currentTexture=this._currentRenderTarget=null;this._gl=a;a.clearColor(0,0,0,1);a.enable(3042);a.pixelStorei(37441,1);this._vertexBuffer=a.createBuffer();a.bindBuffer(34962,this._vertexBuffer);this._quadIndexBuffer=a.createBuffer();a.bindBuffer(34963,
this._quadIndexBuffer);this._drawImageShader=new D.DrawImageGL(a);this._drawPatternShader=new D.DrawPatternGL(a);this._fillRectShader=new D.FillRectGL(a);this.resize(16)};e.WebGLBatcher.__name__=!0;e.WebGLBatcher.prototype={resize:function(a){this.flush();if(!(1024<a)){this._maxQuads=a;this.data=new Float32Array(24*a);this._gl.bufferData(34962,4*this.data.length,35040);for(var b=new Uint16Array(6*a),c=0;c<a;){var d=c++;b[6*d]=4*d;b[6*d+1]=4*d+1;b[6*d+2]=4*d+2;b[6*d+3]=4*d+2;b[6*d+4]=4*d+3;b[6*d+5]=
4*d}this._gl.bufferData(34963,b,35044)}},flush:function(){if(!(1>this._quads)){this._lastRenderTarget!=this._currentRenderTarget&&(null!=this._lastRenderTarget?(this._gl.bindFramebuffer(36160,this._lastRenderTarget.framebuffer),this._gl.viewport(0,0,this._lastRenderTarget._width,this._lastRenderTarget._height)):(this._gl.bindFramebuffer(36160,null),this._gl.viewport(0,0,this._backbufferWidth,this._backbufferHeight)),this._currentRenderTarget=this._lastRenderTarget);if(this._lastBlendMode!=this._currentBlendMode){switch(this._lastBlendMode[1]){case 0:this._gl.blendFunc(1,
771);break;case 1:this._gl.blendFunc(1,1);break;case 2:this._gl.blendFunc(0,770);break;case 3:this._gl.blendFunc(1,0)}this._currentBlendMode=this._lastBlendMode}this._pendingSetScissor&&(null!=this._lastScissor?(this._gl.enable(3089),this._gl.scissor(this._lastScissor.x|0,this._lastScissor.y|0,this._lastScissor.width|0,this._lastScissor.height|0)):this._gl.disable(3089),this._pendingSetScissor=!1);this._lastTexture!=this._currentTexture&&(this._gl.bindTexture(3553,this._lastTexture.nativeTexture),
this._currentTexture=this._lastTexture);this._lastShader!=this._currentShader&&(this._lastShader.useProgram(),this._lastShader.prepare(),this._currentShader=this._lastShader);this._lastShader==this._drawPatternShader&&this._drawPatternShader.setMaxUV(this._lastTexture.maxU,this._lastTexture.maxV);this._gl.bufferData(34962,this.data.subarray(0,this._dataOffset),35040);this._gl.drawElements(4,6*this._quads,5123,0);this._dataOffset=this._quads=0}},prepareQuad:function(a,b,c,d,e){b!=this._lastRenderTarget&&
(this.flush(),this._lastRenderTarget=b);c!=this._lastBlendMode&&(this.flush(),this._lastBlendMode=c);e!=this._lastShader&&(this.flush(),this._lastShader=e);if(null!=d||null!=this._lastScissor)if(null==d||null==this._lastScissor||!this._lastScissor.equals(d))this.flush(),this._lastScissor=null!=d?d.clone(this._lastScissor):null,this._pendingSetScissor=!0;this._quads>=this._maxQuads&&this.resize(2*this._maxQuads);++this._quads;b=this._dataOffset;this._dataOffset+=4*a;return b},prepareDrawImage:function(a,
b,c,d){d!=this._lastTexture&&(this.flush(),this._lastTexture=d);return this.prepareQuad(5,a,b,c,this._drawImageShader)},deleteFramebuffer:function(a){a==this._lastRenderTarget&&(this.flush(),this._currentRenderTarget=this._lastRenderTarget=null);this._gl.deleteFramebuffer(a.framebuffer)},deleteTexture:function(a){a==this._lastTexture&&(this.flush(),this._currentTexture=this._lastTexture=null);this._gl.deleteTexture(a.nativeTexture)},bindTexture:function(a){this.flush();this._currentTexture=this._lastTexture=
null;this._gl.bindTexture(3553,a)},didRender:function(){this.flush()},willRender:function(){},resizeBackbuffer:function(a,b){this._gl.viewport(0,0,a,b);this._backbufferWidth=a;this._backbufferHeight=b},__class__:e.WebGLBatcher};e.WebGLGraphics=function(a,b){this._inverseProjection=this._stateList=null;null==e.WebGLGraphics._scratchQuadArray&&(e.WebGLGraphics._scratchQuadArray=new Float32Array(8));this._batcher=a;this._renderTarget=b};e.WebGLGraphics.__name__=!0;e.WebGLGraphics.__interfaces__=[Kb];
e.WebGLGraphics.prototype={transformQuad:function(a,b,c,d){var c=a+c,d=b+d,l=e.WebGLGraphics._scratchQuadArray;l[0]=a;l[1]=b;l[2]=c;l[3]=b;l[4]=c;l[5]=d;l[6]=a;l[7]=d;this._stateList.matrix.transformArray(l,8,l);return l},onResize:function(a,b){this._stateList=new e._WebGLGraphics.DrawingState;var c=null!=this._renderTarget?-1:1;this._stateList.matrix.set(2/a,0,0,-2*c/b,-1,c);this._inverseProjection=new Aa;this._inverseProjection.set(2/a,0,0,2/b,-1,-1);this._inverseProjection.invert()},didRender:function(){this._batcher.didRender()},
willRender:function(){this._batcher.willRender()},applyScissor:function(a,b,c,d){var l=this._stateList,f=e.WebGLGraphics._scratchQuadArray;f[0]=a;f[1]=b;f[2]=a+c;f[3]=b+d;l.matrix.transformArray(f,4,f);this._inverseProjection.transformArray(f,4,f);a=f[0];b=f[1];c=f[2]-a;d=f[3]-b;0>c&&(a+=c,c=-c);0>d&&(b+=d,d=-d);l.applyScissor(a,b,c,d)},setBlendMode:function(a){this._stateList.blendMode=a},multiplyAlpha:function(a){this._stateList.alpha*=a},drawSubImage:function(a,b,c,d,e,f,h){var i=this._stateList,
b=this.transformQuad(b,c,f,h),k=a._width,m=a._height,c=a.maxU*d/k,j=a.maxV*e/m,d=a.maxU*(d+f)/k,e=a.maxV*(e+h)/m,h=i.alpha,a=this._batcher.prepareDrawImage(this._renderTarget,i.blendMode,i.scissor,a),i=this._batcher.data;i[a]=b[0];i[++a]=b[1];i[++a]=c;i[++a]=j;i[++a]=h;i[++a]=b[2];i[++a]=b[3];i[++a]=d;i[++a]=j;i[++a]=h;i[++a]=b[4];i[++a]=b[5];i[++a]=d;i[++a]=e;i[++a]=h;i[++a]=b[6];i[++a]=b[7];i[++a]=c;i[++a]=e;i[++a]=h},drawImage:function(a,b,c){this.drawSubImage(a,b,c,0,0,a.get_width(),a.get_height())},
restore:function(){this._stateList=this._stateList.prev},transform:function(a,b,c,d,l,f){var h=this._stateList;e.WebGLGraphics._scratchMatrix.set(a,b,c,d,l,f);Aa.multiply(h.matrix,e.WebGLGraphics._scratchMatrix,h.matrix)},rotate:function(a){var b=this._stateList.matrix,a=3.141592653589793*a/180,c=Math.sin(a),a=Math.cos(a),d=b.m00,e=b.m10,f=b.m01,h=b.m11;b.m00=d*a+f*c;b.m10=e*a+h*c;b.m01=f*a-d*c;b.m11=h*a-e*c},translate:function(a,b){var c=this._stateList.matrix;c.m02+=c.m00*a+c.m01*b;c.m12+=c.m10*
a+c.m11*b},save:function(){var a=this._stateList,b=this._stateList.next;null==b&&(b=new e._WebGLGraphics.DrawingState,b.prev=a,a.next=b);a.matrix.clone(b.matrix);b.alpha=a.alpha;b.blendMode=a.blendMode;b.scissor=null!=a.scissor?a.scissor.clone(b.scissor):null;this._stateList=b},__class__:e.WebGLGraphics};e._WebGLGraphics={};e._WebGLGraphics.DrawingState=function(){this.scissor=this.prev=this.next=null;this.matrix=new Aa;this.alpha=1;this.blendMode=R.Normal};e._WebGLGraphics.DrawingState.__name__=
!0;e._WebGLGraphics.DrawingState.prototype={applyScissor:function(a,b,c,d){if(null!=this.scissor)var e=Ha.max(this.scissor.x,a),f=Ha.max(this.scissor.y,b),c=Ha.min(this.scissor.x+this.scissor.width,a+c),d=Ha.min(this.scissor.y+this.scissor.height,b+d),a=e,b=f,c=c-e,d=d-f;else this.scissor=new y;this.scissor.set(Math.round(a),Math.round(b),Math.round(c),Math.round(d))},__class__:e._WebGLGraphics.DrawingState};e.WebGLRenderer=function(a,b){var c=this;this.gl=b;b.canvas.addEventListener("webglcontextlost",
function(a){a.preventDefault();v.hasGPU.set__(!1)},!1);b.canvas.addEventListener("webglcontextrestore",function(){c.init()},!1);a.resize.connect(O(this,this.onResize));this.init()};e.WebGLRenderer.__name__=!0;e.WebGLRenderer.__interfaces__=[fc];e.WebGLRenderer.prototype={init:function(){this.batcher=new e.WebGLBatcher(this.gl);this.graphics=new e.WebGLGraphics(this.batcher,null);this.onResize();v.hasGPU.set__(!0)},onResize:function(){var a=this.gl.canvas.width,b=this.gl.canvas.height;this.batcher.resizeBackbuffer(a,
b);this.graphics.onResize(a,b)},didRender:function(){this.graphics.didRender()},willRender:function(){this.graphics.willRender()},createCompressedTexture:function(){this.gl.isContextLost();return null},getCompressedTextureFormats:function(){return[]},createTexture:function(a){if(this.gl.isContextLost())return null;var b=new e.WebGLTexture(this,a.width,a.height);b.uploadImageData(a);return b},__class__:e.WebGLRenderer};e.WebGLTexture=function(a,b,c){this.framebuffer=this._graphics=null;J.call(this);
this._renderer=a;this._width=b;this._height=c;this._widthPow2=e.WebGLTexture.nextPowerOfTwo(b);this._heightPow2=e.WebGLTexture.nextPowerOfTwo(c);this.maxU=b/this._widthPow2;this.maxV=c/this._heightPow2;b=a.gl;this.nativeTexture=b.createTexture();a.batcher.bindTexture(this.nativeTexture);b.texParameteri(3553,10242,33071);b.texParameteri(3553,10243,33071);b.texParameteri(3553,10240,9729);b.texParameteri(3553,10241,9728)};e.WebGLTexture.__name__=!0;e.WebGLTexture.__interfaces__=[Nb];e.WebGLTexture.nextPowerOfTwo=
function(a){for(var b=1;b<a;)b<<=1;return b};e.WebGLTexture.drawBorder=function(a,b,c){var d=a.getContext("2d");d.drawImage(a,b-1,0,1,c,b,0,1,c);d.drawImage(a,0,c-1,b,1,0,c,b,1)};e.WebGLTexture.__super__=J;e.WebGLTexture.prototype=j(J.prototype,{get_height:function(){return this._height},get_width:function(){return this._width},onDisposed:function(){var a=this._renderer.batcher;a.deleteTexture(this);null!=this.framebuffer&&a.deleteFramebuffer(this);this._graphics=this.framebuffer=this.nativeTexture=
null},uploadImageData:function(a){if(this._widthPow2!=a.width||this._heightPow2!=a.height){var b=e.HtmlUtil.createEmptyCanvas(this._widthPow2,this._heightPow2);b.getContext("2d").drawImage(a,0,0);e.WebGLTexture.drawBorder(b,a.width,a.height);a=b}this._renderer.batcher.bindTexture(this.nativeTexture);this._renderer.gl.texImage2D(3553,0,6408,6408,5121,a)},__class__:e.WebGLTexture});D={};D.ShaderGL=function(a,b,c){c="#ifdef GL_ES\nprecision mediump float;\n#endif\n"+c;this._gl=a;this._program=a.createProgram();
a.attachShader(this._program,D.ShaderGL.createShader(a,35633,b));a.attachShader(this._program,D.ShaderGL.createShader(a,35632,c));a.linkProgram(this._program);a.useProgram(this._program)};D.ShaderGL.__name__=!0;D.ShaderGL.createShader=function(a,b,c){b=a.createShader(b);a.shaderSource(b,c);a.compileShader(b);return b};D.ShaderGL.prototype={getUniformLocation:function(a){return this._gl.getUniformLocation(this._program,a)},getAttribLocation:function(a){return this._gl.getAttribLocation(this._program,
a)},prepare:function(){null},useProgram:function(){this._gl.useProgram(this._program)},__class__:D.ShaderGL};D.DrawImageGL=function(a){D.ShaderGL.call(this,a,"attribute highp vec2 a_pos;\nattribute mediump vec2 a_uv;\nattribute lowp float a_alpha;\nvarying mediump vec2 v_uv;\nvarying lowp float v_alpha;\nvoid main (void) {\nv_uv = a_uv;\nv_alpha = a_alpha;\ngl_Position = vec4(a_pos, 0, 1);\n}","varying mediump vec2 v_uv;\nvarying lowp float v_alpha;\nuniform lowp sampler2D u_texture;\nvoid main (void) {\ngl_FragColor = texture2D(u_texture, v_uv) * v_alpha;\n}");
this.a_pos=this.getAttribLocation("a_pos");this.a_uv=this.getAttribLocation("a_uv");this.a_alpha=this.getAttribLocation("a_alpha");this.u_texture=this.getUniformLocation("u_texture");this.setTexture(0)};D.DrawImageGL.__name__=!0;D.DrawImageGL.__super__=D.ShaderGL;D.DrawImageGL.prototype=j(D.ShaderGL.prototype,{prepare:function(){this._gl.enableVertexAttribArray(this.a_pos);this._gl.enableVertexAttribArray(this.a_uv);this._gl.enableVertexAttribArray(this.a_alpha);this._gl.vertexAttribPointer(this.a_pos,
2,5126,!1,20,0);this._gl.vertexAttribPointer(this.a_uv,2,5126,!1,20,8);this._gl.vertexAttribPointer(this.a_alpha,1,5126,!1,20,16)},setTexture:function(a){this._gl.uniform1i(this.u_texture,a)},__class__:D.DrawImageGL});D.DrawPatternGL=function(a){D.ShaderGL.call(this,a,"attribute highp vec2 a_pos;\nattribute mediump vec2 a_uv;\nattribute lowp float a_alpha;\nvarying mediump vec2 v_uv;\nvarying lowp float v_alpha;\nvoid main (void) {\nv_uv = a_uv;\nv_alpha = a_alpha;\ngl_Position = vec4(a_pos, 0, 1);\n}",
"varying mediump vec2 v_uv;\nvarying lowp float v_alpha;\nuniform lowp sampler2D u_texture;\nuniform mediump vec2 u_maxUV;\nvoid main (void) {\ngl_FragColor = texture2D(u_texture, mod(v_uv, u_maxUV)) * v_alpha;\n}");this.a_pos=this.getAttribLocation("a_pos");this.a_uv=this.getAttribLocation("a_uv");this.a_alpha=this.getAttribLocation("a_alpha");this.u_texture=this.getUniformLocation("u_texture");this.u_maxUV=this.getUniformLocation("u_maxUV");this.setTexture(0)};D.DrawPatternGL.__name__=!0;D.DrawPatternGL.__super__=
D.ShaderGL;D.DrawPatternGL.prototype=j(D.ShaderGL.prototype,{prepare:function(){this._gl.enableVertexAttribArray(this.a_pos);this._gl.enableVertexAttribArray(this.a_uv);this._gl.enableVertexAttribArray(this.a_alpha);this._gl.vertexAttribPointer(this.a_pos,2,5126,!1,20,0);this._gl.vertexAttribPointer(this.a_uv,2,5126,!1,20,8);this._gl.vertexAttribPointer(this.a_alpha,1,5126,!1,20,16)},setMaxUV:function(a,b){this._gl.uniform2f(this.u_maxUV,a,b)},setTexture:function(a){this._gl.uniform1i(this.u_texture,
a)},__class__:D.DrawPatternGL});D.FillRectGL=function(a){D.ShaderGL.call(this,a,"attribute highp vec2 a_pos;\nattribute lowp vec3 a_rgb;\nattribute lowp float a_alpha;\nvarying lowp vec4 v_color;\nvoid main (void) {\nv_color = vec4(a_rgb*a_alpha, a_alpha);\ngl_Position = vec4(a_pos, 0, 1);\n}","varying lowp vec4 v_color;\nvoid main (void) {\ngl_FragColor = v_color;\n}");this.a_pos=this.getAttribLocation("a_pos");this.a_rgb=this.getAttribLocation("a_rgb");this.a_alpha=this.getAttribLocation("a_alpha")};
D.FillRectGL.__name__=!0;D.FillRectGL.__super__=D.ShaderGL;D.FillRectGL.prototype=j(D.ShaderGL.prototype,{prepare:function(){this._gl.enableVertexAttribArray(this.a_pos);this._gl.enableVertexAttribArray(this.a_rgb);this._gl.enableVertexAttribArray(this.a_alpha);this._gl.vertexAttribPointer(this.a_pos,2,5126,!1,24,0);this._gl.vertexAttribPointer(this.a_rgb,3,5126,!1,24,8);this._gl.vertexAttribPointer(this.a_alpha,1,5126,!1,24,20)},__class__:D.FillRectGL});Jc=function(){this._transitor=null;this.scenes=
[];this.occludedScenes=[];this._root=new Qb};jc=void 0;Kc=void 0;Ob=void 0;Qa=void 0;Lc=void 0;Jc.__name__=!0;Jc.__super__=aa;Jc.prototype=j(aa.prototype,{playTransition:function(a,b,c,d){this.completeTransition();this.add(b);null!=c?(this.occludedScenes.push(a),this._transitor=new Kc.Transitor(a,b,c,d),this._transitor.init(this)):(d(),this.invalidateVisibility())},completeTransition:function(){null!=this._transitor&&(this._transitor.complete(),this._transitor=null,this.invalidateVisibility())},invalidateVisibility:function(){for(var a=
this.scenes.length;0<a;){var b=this.scenes[--a],b=b._compMap.Scene_3;if(null==b||b.opaque)break}this.occludedScenes=0<this.scenes.length?this.scenes.slice(a,this.scenes.length-1):[];b=this.get_topScene();null!=b&&this.show(b)},show:function(a){a=a._compMap.Scene_3;null!=a&&a.shown.emit0()},hideAndDispose:function(a){this.hide(a);a.dispose()},hide:function(a){a=a._compMap.Scene_3;null!=a&&a.hidden.emit0()},add:function(a){var b=this.get_topScene();null!=b&&this._root.removeChild(b);t.remove(this.scenes,
a);this.scenes.push(a);this._root.addChild(a)},get_topScene:function(){var a=this.scenes.length;return 0<a?this.scenes[a-1]:null},onUpdate:function(a){null!=this._transitor&&this._transitor.update(a)&&this.completeTransition()},onRemoved:function(){this.completeTransition();for(var a=0,b=this.scenes;a<b.length;){var c=b[a];++a;c.dispose()}this.scenes=[];this.occludedScenes=[];this._root.dispose()},onAdded:function(){this.owner.addChild(this._root)},popScene:function(a){var b=this;this.completeTransition();
var c=this.get_topScene();if(null!=c){this.scenes.pop();var d=this.get_topScene();null!=d?this.playTransition(c,d,a,function(){b.hideAndDispose(c)}):(this.hideAndDispose(c),this.invalidateVisibility())}},pushScene:function(a,b){var c=this;this.completeTransition();var d=this.get_topScene();null!=d?this.playTransition(d,a,b,function(){c.hide(d)}):(this.add(a),this.invalidateVisibility())},get_name:function(){return"Director_5"},__class__:Jc});Kc={Transitor:function(a,b,c,d){this._from=a;this._to=b;
this._transition=c;this._onComplete=d}};Kc.Transitor.__name__=!0;Kc.Transitor.prototype={complete:function(){this._transition.complete();this._onComplete()},update:function(a){return this._transition.update(a)},init:function(a){this._transition.init(a,this._from,this._to)},__class__:Kc.Transitor};Ob=function(){};Ob.__name__=!0;Ob.prototype={complete:function(){},update:function(){return!0},init:function(a,b,c){this._director=a;this._from=b;this._to=c},__class__:Ob};Qa=function(a,b){this._duration=
a;this._ease=null!=b?b:Hc.linear};Qa.__name__=!0;Qa.__super__=Ob;Qa.prototype=j(Ob.prototype,{interp:function(a,b){return a+(b-a)*this._ease(this._elapsed/this._duration)},update:function(a){this._elapsed+=a;return this._elapsed>=this._duration},init:function(a,b,c){Ob.prototype.init.call(this,a,b,c);this._elapsed=0},__class__:Qa});jc=function(a,b){Qa.call(this,a,b)};jc.__name__=!0;jc.__super__=Qa;jc.prototype=j(Qa.prototype,{complete:function(){this._to._compMap.Sprite_2.alpha.set__(1)},update:function(a){a=
Qa.prototype.update.call(this,a);this._to._compMap.Sprite_2.alpha.set__(this.interp(0,1));return a},init:function(a,b,c){Qa.prototype.init.call(this,a,b,c);a=this._to._compMap.Sprite_2;null==a&&this._to.add(a=new A);a.alpha.set__(0)},__class__:jc});Lc=function(){};Lc.__name__=!0;Lc.__super__=aa;Lc.prototype=j(aa.prototype,{get_name:function(){return"Scene_3"},__class__:Lc});Yc=function(){};Yc.__name__=!0;Yc.set=function(a,b,c){return c?a|b:a&~b};kc=function(){this.success=new K;this.error=new K;this.progressChanged=
new wb;this.hasResult=!1;this._total=this._progress=0};kc.__name__=!0;kc.prototype={set_total:function(a){this._total!=a&&(this._total=a,this.progressChanged.emit0());return a},set_progress:function(a){this._progress!=a&&(this._progress=a,this.progressChanged.emit0());return a},get:function(a){return this.hasResult?(a(this._result),null):this.success.connect(a).once()},set_result:function(a){if(this.hasResult)throw"Promise result already assigned";this._result=a;this.hasResult=!0;this.success.emit1(a);
return a},__class__:kc};wb=function(a){Z.call(this,a)};wb.__name__=!0;wb.__super__=Z;wb.prototype=j(Z.prototype,{connect:function(a,b){null==b&&(b=!1);return this.connectImpl(a,b)},__class__:wb});Mc={Task:function(a){this.next=null;this.fn=a}};Mc.Task.__name__=!0;Mc.Task.prototype={__class__:Mc.Task};$=function(){};$.__name__=!0;$.getFileExtension=function(a){var b=a.lastIndexOf(".");return 0<b?t.substr(a,b+1,null):null};$.removeFileExtension=function(a){var b=a.lastIndexOf(".");return 0<b?t.substr(a,
0,b):a};$.getUrlExtension=function(a){var b=a.lastIndexOf("?");0<=b&&(a=t.substr(a,0,b));b=a.lastIndexOf("/");0<=b&&(a=t.substr(a,b+1,null));return $.getFileExtension(a)};$.joinPath=function(a,b){47!=a.charCodeAt(a.length-1)&&(a+="/");return a+b};$.withFields=function(a,b){var c=b.length;if(0<c){for(var a=a+(0<a.length?" [":"["),d=0;d<c;){0<d&&(a+=", ");var e=b[d],f=b[d+1];if(z.__instanceof(f,Error)){var h=f.stack;null!=h&&(f=h)}a+=e+"="+p.string(f);d+=2}a+="]"}return a};Sa=void 0;B=void 0;q=void 0;
k=void 0;Zc=void 0;xb=void 0;xb={Adler32:function(){this.a1=1;this.a2=0}};xb.Adler32.__name__=!0;xb.Adler32.read=function(a){var b=new xb.Adler32,c=a.readByte(),d=a.readByte(),e=a.readByte(),a=a.readByte();b.a1=e<<8|a;b.a2=c<<8|d;return b};xb.Adler32.prototype={equals:function(a){return a.a1==this.a1&&a.a2==this.a2},update:function(a,b,c){for(var d=this.a1,e=this.a2,f=b,b=b+c;f<b;)c=f++,d=(d+a.b[c])%65521,e=(e+d)%65521;this.a1=d;this.a2=e},__class__:xb.Adler32};B={IntMap:function(){this.h={}}};B.IntMap.__name__=
!0;B.IntMap.__interfaces__=[ed];B.IntMap.prototype={remove:function(a){if(!this.h.hasOwnProperty(a))return!1;delete this.h[a];return!0},exists:function(a){return this.h.hasOwnProperty(a)},get:function(a){return this.h[a]},set:function(a,b){this.h[a]=b},__class__:B.IntMap};B.StringMap=function(){this.h={}};B.StringMap.__name__=!0;B.StringMap.__interfaces__=[ed];B.StringMap.prototype={iterator:function(){return{ref:this.h,it:this.keys(),hasNext:function(){return this.it.hasNext()},next:function(){return this.ref["$"+
this.it.next()]}}},keys:function(){var a=[],b;for(b in this.h)this.h.hasOwnProperty(b)&&a.push(b.substr(1));return t.iter(a)},exists:function(a){return this.h.hasOwnProperty("$"+a)},get:function(a){return this.h["$"+a]},set:function(a,b){this.h["$"+a]=b},__class__:B.StringMap};q={Bytes:function(a,b){this.length=a;this.b=b}};q.Bytes.__name__=!0;q.Bytes.alloc=function(a){for(var b=[],c=0;c<a;)c++,b.push(0);return new q.Bytes(a,b)};q.Bytes.ofData=function(a){return new q.Bytes(a.length,a)};q.Bytes.prototype=
{blit:function(a,b,c,d){if(0>a||0>c||0>d||a+d>this.length||c+d>b.length)throw q.Error.OutsideBounds;var e=this.b,b=b.b;if(e==b&&a>c)for(var f=d;0<f;)f--,e[f+a]=b[f+c];else for(var h=0;h<d;)f=h++,e[f+a]=b[f+c]},__class__:q.Bytes};q.BytesBuffer=function(){this.b=[]};q.BytesBuffer.__name__=!0;q.BytesBuffer.prototype={getBytes:function(){var a=new q.Bytes(this.b.length,this.b);this.b=null;return a},addBytes:function(a,b,c){if(0>b||0>c||b+c>a.length)throw q.Error.OutsideBounds;for(var a=a.b,d=b,b=b+c;d<
b;)c=d++,this.b.push(a[c])},__class__:q.BytesBuffer};q.Input=function(){};q.Input.__name__=!0;q.Input.prototype={readUInt16:function(){var a=this.readByte(),b=this.readByte();return this.bigEndian?b|a<<8:a|b<<8},read:function(a){for(var b=q.Bytes.alloc(a),c=0;0<a;){var d=this.readBytes(b,c,a);if(0==d)throw q.Error.Blocked;c+=d;a-=d}return b},readBytes:function(a,b,c){var d=c,e=a.b;if(0>b||0>c||b+c>a.length)throw q.Error.OutsideBounds;for(;0<d;)e[b]=this.readByte(),b++,d--;return c},readByte:function(){throw"Not implemented";
},__class__:q.Input};q.BytesInput=function(a,b,c){null==b&&(b=0);null==c&&(c=a.length-b);if(0>b||0>c||b+c>a.length)throw q.Error.OutsideBounds;this.b=a.b;this.pos=b;this.len=c};q.BytesInput.__name__=!0;q.BytesInput.__super__=q.Input;q.BytesInput.prototype=j(q.Input.prototype,{readBytes:function(a,b,c){if(0>b||0>c||b+c>a.length)throw q.Error.OutsideBounds;if(0==this.len&&0<c)throw new q.Eof;this.len<c&&(c=this.len);for(var d=this.b,a=a.b,e=0;e<c;){var f=e++;a[b+f]=d[this.pos+f]}this.pos+=c;this.len-=
c;return c},readByte:function(){if(0==this.len)throw new q.Eof;this.len--;return this.b[this.pos++]},__class__:q.BytesInput});q.Eof=function(){};q.Eof.__name__=!0;q.Eof.prototype={toString:function(){return"Eof"},__class__:q.Eof};q.Error={__ename__:!0,__constructs__:["Blocked","Overflow","OutsideBounds","Custom"]};q.Error.Blocked=["Blocked",0];q.Error.Blocked.toString=h;q.Error.Blocked.__enum__=q.Error;q.Error.Overflow=["Overflow",1];q.Error.Overflow.toString=h;q.Error.Overflow.__enum__=q.Error;q.Error.OutsideBounds=
["OutsideBounds",2];q.Error.OutsideBounds.toString=h;q.Error.OutsideBounds.__enum__=q.Error;q.Error.Custom=function(a){a=["Custom",3,a];a.__enum__=q.Error;a.toString=h;return a};Zc={Meta:function(){}};Zc.Meta.__name__=!0;Zc.Meta.getType=function(a){a=a.__meta__;return null==a||null==a.obj?{}:a.obj};Sa={Parser:function(){}};Sa.Parser.__name__=!0;Sa.Parser.parse=function(a){var b=u.createDocument();Sa.Parser.doParse(a,0,b);return b};Sa.Parser.doParse=function(a,b,c){null==b&&(b=0);for(var d=null,e=
1,f=1,h=null,i=0,k=0,m=0,j=a.charCodeAt(b),n=new Oc;j==j;){switch(e){case 0:switch(j){case 10:case 13:case 9:case 32:break;default:e=f;continue}break;case 1:switch(j){case 60:e=0;f=2;break;default:i=b;e=13;continue}break;case 13:60==j?(e=u.createPCData(n.b+t.substr(a,i,b-i)),n=new Oc,c.addChild(e),k++,e=0,f=2):38==j&&(n.addSub(a,i,b-i),e=18,f=13,i=b+1);break;case 17:93==j&&93==a.charCodeAt(b+1)&&62==a.charCodeAt(b+2)&&(e=u.createCData(t.substr(a,i,b-i)),c.addChild(e),k++,b+=2,e=1);break;case 2:switch(j){case 33:if(91==
a.charCodeAt(b+1)){b+=2;if("CDATA["!=t.substr(a,b,6).toUpperCase())throw"Expected <![CDATA[";b+=5;e=17}else if(68==a.charCodeAt(b+1)||100==a.charCodeAt(b+1)){if("OCTYPE"!=t.substr(a,b+2,6).toUpperCase())throw"Expected <!DOCTYPE";b+=8;e=16}else{if(45!=a.charCodeAt(b+1)||45!=a.charCodeAt(b+2))throw"Expected <\!--";b+=2;e=15}i=b+1;break;case 63:e=14;i=b;break;case 47:if(null==c)throw"Expected node name";i=b+1;e=0;f=10;break;default:e=3;i=b;continue}break;case 3:if(!(97<=j&&122>=j||65<=j&&90>=j||48<=
j&&57>=j||58==j||46==j||95==j||45==j)){if(b==i)throw"Expected node name";d=u.createElement(t.substr(a,i,b-i));c.addChild(d);e=0;f=4;continue}break;case 4:switch(j){case 47:e=11;k++;break;case 62:e=9;k++;break;default:e=5;i=b;continue}break;case 5:if(!(97<=j&&122>=j||65<=j&&90>=j||48<=j&&57>=j||58==j||46==j||95==j||45==j)){if(i==b)throw"Expected attribute name";h=t.substr(a,i,b-i);if(d.exists(h))throw"Duplicate attribute";e=0;f=6;continue}break;case 6:switch(j){case 61:e=0;f=7;break;default:throw"Expected =";
}break;case 7:switch(j){case 34:case 39:e=8;i=b;break;default:throw'Expected "';}break;case 8:j==a.charCodeAt(i)&&(f=t.substr(a,i+1,b-i-1),d.set(h,f),e=0,f=4);break;case 9:i=b=Sa.Parser.doParse(a,b,d);e=1;break;case 11:switch(j){case 62:e=1;break;default:throw"Expected >";}break;case 12:switch(j){case 62:return 0==k&&c.addChild(u.createPCData("")),b;default:throw"Expected >";}case 10:if(!(97<=j&&122>=j||65<=j&&90>=j||48<=j&&57>=j||58==j||46==j||95==j||45==j)){if(i==b)throw"Expected node name";if(t.substr(a,
i,b-i)!=c.get_nodeName())throw"Expected </"+c.get_nodeName()+">";e=0;f=12;continue}break;case 15:45==j&&45==a.charCodeAt(b+1)&&62==a.charCodeAt(b+2)&&(c.addChild(u.createComment(t.substr(a,i,b-i))),b+=2,e=1);break;case 16:91==j?m++:93==j?m--:62==j&&0==m&&(c.addChild(u.createDocType(t.substr(a,i,b-i))),e=1);break;case 14:63==j&&62==a.charCodeAt(b+1)&&(b++,e=t.substr(a,i+1,b-i-2),c.addChild(u.createProcessingInstruction(e)),e=1);break;case 18:59==j&&(i=t.substr(a,i,b-i),35==i.charCodeAt(0)?(i=120==
i.charCodeAt(1)?p.parseInt("0"+t.substr(i,1,i.length-1)):p.parseInt(t.substr(i,1,i.length-1)),n.b+=p.string(String.fromCharCode(i))):n.b=Sa.Parser.escapes.exists(i)?n.b+p.string(Sa.Parser.escapes.get(i)):n.b+p.string("&"+i+";"),i=b+1,e=f)}j=a.charCodeAt(++b)}1==e&&(i=b,e=13);if(13==e)return(b!=i||0==k)&&c.addChild(u.createPCData(n.b+t.substr(a,i,b-i))),b;throw"Unexpected end";};k={Huffman:{__ename__:!0,__constructs__:["Found","NeedBit","NeedBits"]}};k.Huffman.Found=function(a){a=["Found",0,a];a.__enum__=
k.Huffman;a.toString=h;return a};k.Huffman.NeedBit=function(a,b){var c=["NeedBit",1,a,b];c.__enum__=k.Huffman;c.toString=h;return c};k.Huffman.NeedBits=function(a,b){var c=["NeedBits",2,a,b];c.__enum__=k.Huffman;c.toString=h;return c};k.HuffTools=function(){};k.HuffTools.__name__=!0;k.HuffTools.prototype={make:function(a,b,c,d){var e=[],f=[];if(32<d)throw"Invalid huffman";for(var h=0;h<d;){var i=h++;e.push(0);f.push(0)}for(h=0;h<c;){i=h++;i=a[i+b];if(i>=d)throw"Invalid huffman";e[i]++}for(var j=0,
m=1,h=d-1;m<h;)i=m++,j=j+e[i]<<1,f[i]=j;e=new B.IntMap;for(h=0;h<c;)i=h++,j=a[i+b],0!=j&&(m=f[j-1],f[j-1]=m+1,e.set(m<<5|j,i));return this.treeCompress(k.Huffman.NeedBit(this.treeMake(e,d,0,1),this.treeMake(e,d,1,1)))},treeMake:function(a,b,c,d){if(d>b)throw"Invalid huffman";var e=c<<5|d;if(a.exists(e))return k.Huffman.Found(a.get(e));c<<=1;d+=1;return k.Huffman.NeedBit(this.treeMake(a,b,c,d),this.treeMake(a,b,c|1,d))},treeWalk:function(a,b,c,d,e){switch(e[1]){case 1:var f=e[3],h=e[2];0<d?(this.treeWalk(a,
b,c+1,d-1,h),this.treeWalk(a,b|1<<c,c+1,d-1,f)):a[b]=this.treeCompress(e);break;default:a[b]=this.treeCompress(e)}},treeCompress:function(a){var b=this.treeDepth(a);if(0==b)return a;if(1==b){switch(a[1]){case 1:b=a[3];a=k.Huffman.NeedBit(this.treeCompress(a[2]),this.treeCompress(b));break;default:throw"assert";}return a}for(var c=1<<b,d=[],e=0;e<c;)e++,d.push(k.Huffman.Found(-1));this.treeWalk(d,0,0,b,a);return k.Huffman.NeedBits(b,d)},treeDepth:function(a){var b;switch(a[1]){case 0:b=0;break;case 2:throw"assert";
case 1:b=a[3],a=this.treeDepth(a[2]),b=this.treeDepth(b),b=1+(a<b?a:b)}return b},__class__:k.HuffTools};k._InflateImpl={};k._InflateImpl.Window=function(a){this.buffer=q.Bytes.alloc(65536);this.pos=0;a&&(this.crc=new xb.Adler32)};k._InflateImpl.Window.__name__=!0;k._InflateImpl.Window.prototype={checksum:function(){null!=this.crc&&this.crc.update(this.buffer,0,this.pos);return this.crc},available:function(){return this.pos},getLastChar:function(){return this.buffer.b[this.pos-1]},addByte:function(a){65536==
this.pos&&this.slide();this.buffer.b[this.pos]=a&255;this.pos++},addBytes:function(a,b,c){65536<this.pos+c&&this.slide();this.buffer.blit(this.pos,a,b,c);this.pos+=c},slide:function(){null!=this.crc&&this.crc.update(this.buffer,0,32768);var a=q.Bytes.alloc(65536);this.pos-=32768;a.blit(0,this.buffer,32768,this.pos);this.buffer=a},__class__:k._InflateImpl.Window};k._InflateImpl.State={__ename__:!0,__constructs__:"Head,Block,CData,Flat,Crc,Dist,DistOne,Done".split(",")};k._InflateImpl.State.Head=["Head",
0];k._InflateImpl.State.Head.toString=h;k._InflateImpl.State.Head.__enum__=k._InflateImpl.State;k._InflateImpl.State.Block=["Block",1];k._InflateImpl.State.Block.toString=h;k._InflateImpl.State.Block.__enum__=k._InflateImpl.State;k._InflateImpl.State.CData=["CData",2];k._InflateImpl.State.CData.toString=h;k._InflateImpl.State.CData.__enum__=k._InflateImpl.State;k._InflateImpl.State.Flat=["Flat",3];k._InflateImpl.State.Flat.toString=h;k._InflateImpl.State.Flat.__enum__=k._InflateImpl.State;k._InflateImpl.State.Crc=
["Crc",4];k._InflateImpl.State.Crc.toString=h;k._InflateImpl.State.Crc.__enum__=k._InflateImpl.State;k._InflateImpl.State.Dist=["Dist",5];k._InflateImpl.State.Dist.toString=h;k._InflateImpl.State.Dist.__enum__=k._InflateImpl.State;k._InflateImpl.State.DistOne=["DistOne",6];k._InflateImpl.State.DistOne.toString=h;k._InflateImpl.State.DistOne.__enum__=k._InflateImpl.State;k._InflateImpl.State.Done=["Done",7];k._InflateImpl.State.Done.toString=h;k._InflateImpl.State.Done.__enum__=k._InflateImpl.State;
k.InflateImpl=function(a,b,c){null==c&&(c=!0);null==b&&(b=!0);this["final"]=!1;this.htools=new k.HuffTools;this.huffman=this.buildFixedHuffman();this.huffdist=null;this.dist=this.len=0;this.state=b?k._InflateImpl.State.Head:k._InflateImpl.State.Block;this.input=a;this.needed=this.nbits=this.bits=0;this.output=null;this.outpos=0;this.lengths=[];for(a=0;19>a;)a++,this.lengths.push(-1);this.window=new k._InflateImpl.Window(c)};k.InflateImpl.__name__=!0;k.InflateImpl.run=function(a,b){null==b&&(b=65536);
for(var c=q.Bytes.alloc(b),d=new q.BytesBuffer,e=new k.InflateImpl(a);;){var f=e.readBytes(c,0,b);d.addBytes(c,0,f);if(f<b)break}return d.getBytes()};k.InflateImpl.prototype={inflateLoop:function(){switch(this.state[1]){case 0:var a=this.input.readByte();if(8!=(a&15)||7!=a>>4)throw"Invalid data";var b=this.input.readByte();if(0!=((a<<8)+b)%31)throw"Invalid data";if(0!=(b&32))throw"Unsupported dictionary";this.state=k._InflateImpl.State.Block;return!0;case 4:a=this.window.checksum();if(null==a)return this.state=
k._InflateImpl.State.Done,!0;b=xb.Adler32.read(this.input);if(!a.equals(b))throw"Invalid CRC";this.state=k._InflateImpl.State.Done;return!0;case 7:return!1;case 1:switch(this["final"]=this.getBit(),this.getBits(2)){case 0:this.len=this.input.readUInt16();if(this.input.readUInt16()!=65535-this.len)throw"Invalid data";this.state=k._InflateImpl.State.Flat;a=this.inflateLoop();this.resetBits();return a;case 1:return this.huffman=this.buildFixedHuffman(),this.huffdist=null,this.state=k._InflateImpl.State.CData,
!0;case 2:for(var a=this.getBits(5)+257,b=this.getBits(5)+1,c=this.getBits(4)+4,d=0;d<c;){var e=d++;this.lengths[k.InflateImpl.CODE_LENGTHS_POS[e]]=this.getBits(3)}for(d=c;19>d;)e=d++,this.lengths[k.InflateImpl.CODE_LENGTHS_POS[e]]=0;this.huffman=this.htools.make(this.lengths,0,19,8);c=[];e=0;for(d=a+b;e<d;)e++,c.push(0);this.inflateLengths(c,a+b);this.huffdist=this.htools.make(c,a,b,16);this.huffman=this.htools.make(c,0,a,16);this.state=k._InflateImpl.State.CData;return!0;default:throw"Invalid data";
}case 3:return a=this.len<this.needed?this.len:this.needed,b=this.input.read(a),this.len-=a,this.addBytes(b,0,a),0==this.len&&(this.state=this["final"]?k._InflateImpl.State.Crc:k._InflateImpl.State.Block),0<this.needed;case 6:return a=this.len<this.needed?this.len:this.needed,this.addDistOne(a),this.len-=a,0==this.len&&(this.state=k._InflateImpl.State.CData),0<this.needed;case 5:for(;0<this.len&&0<this.needed;)a=this.len<this.dist?this.len:this.dist,a=this.needed<a?this.needed:a,this.addDist(this.dist,
a),this.len-=a;0==this.len&&(this.state=k._InflateImpl.State.CData);return 0<this.needed;case 2:b=this.applyHuffman(this.huffman);if(256>b)return this.addByte(b),0<this.needed;if(256==b)this.state=this["final"]?k._InflateImpl.State.Crc:k._InflateImpl.State.Block;else{b-=257;a=k.InflateImpl.LEN_EXTRA_BITS_TBL[b];if(-1==a)throw"Invalid data";this.len=k.InflateImpl.LEN_BASE_VAL_TBL[b]+this.getBits(a);b=null==this.huffdist?this.getRevBits(5):this.applyHuffman(this.huffdist);a=k.InflateImpl.DIST_EXTRA_BITS_TBL[b];
if(-1==a)throw"Invalid data";this.dist=k.InflateImpl.DIST_BASE_VAL_TBL[b]+this.getBits(a);if(this.dist>this.window.available())throw"Invalid data";this.state=1==this.dist?k._InflateImpl.State.DistOne:k._InflateImpl.State.Dist}return!0}},inflateLengths:function(a,b){for(var c=0,d=0;c<b;){var e=this.applyHuffman(this.huffman);switch(e){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:d=e;a[c]=e;c++;break;case 16:e=c+3+this.getBits(2);
if(e>b)throw"Invalid data";for(;c<e;)a[c]=d,c++;break;case 17:c+=3+this.getBits(3);if(c>b)throw"Invalid data";break;case 18:c+=11+this.getBits(7);if(c>b)throw"Invalid data";break;default:throw"Invalid data";}}},applyHuffman:function(a){var b;switch(a[1]){case 0:b=a=a[2];break;case 1:b=a[3];a=a[2];b=this.applyHuffman(this.getBit()?b:a);break;case 2:b=a[3],a=a[2],b=this.applyHuffman(b[this.getBits(a)])}return b},addDist:function(a,b){this.addBytes(this.window.buffer,this.window.pos-a,b)},addDistOne:function(a){for(var b=
this.window.getLastChar(),c=0;c<a;)c++,this.addByte(b)},addByte:function(a){this.window.addByte(a);this.output.b[this.outpos]=a&255;this.needed--;this.outpos++},addBytes:function(a,b,c){this.window.addBytes(a,b,c);this.output.blit(this.outpos,a,b,c);this.needed-=c;this.outpos+=c},resetBits:function(){this.nbits=this.bits=0},getRevBits:function(a){return 0==a?0:this.getBit()?1<<a-1|this.getRevBits(a-1):this.getRevBits(a-1)},getBit:function(){0==this.nbits&&(this.nbits=8,this.bits=this.input.readByte());
var a=1==(this.bits&1);this.nbits--;this.bits>>=1;return a},getBits:function(a){for(;this.nbits<a;)this.bits|=this.input.readByte()<<this.nbits,this.nbits+=8;var b=this.bits&(1<<a)-1;this.nbits-=a;this.bits>>=a;return b},readBytes:function(a,b,c){this.needed=c;this.outpos=b;this.output=a;if(0<c)for(;this.inflateLoop(););return c-this.needed},buildFixedHuffman:function(){if(null!=k.InflateImpl.FIXED_HUFFMAN)return k.InflateImpl.FIXED_HUFFMAN;for(var a=[],b=0;288>b;){var c=b++;a.push(143>=c?8:255>=
c?9:279>=c?7:8)}k.InflateImpl.FIXED_HUFFMAN=this.htools.make(a,0,288,10);return k.InflateImpl.FIXED_HUFFMAN},__class__:k.InflateImpl};z=function(){};z.__name__=!0;z.__string_rec=function(a,b){if(null==a)return"null";if(5<=b.length)return"<...>";var c=typeof a;if("function"==c&&(a.__name__||a.__ename__))c="object";switch(c){case "object":if(a instanceof Array){if(a.__enum__){if(2==a.length)return a[0];for(var c=a[0]+"(",b=b+"\t",d=2,e=a.length;d<e;)var f=d++,c=2!=f?c+(","+z.__string_rec(a[f],b)):c+
z.__string_rec(a[f],b);return c+")"}d=a.length;c="[";b+="\t";for(e=0;e<d;)f=e++,c+=(0<f?",":"")+z.__string_rec(a[f],b);return c+"]"}try{e=a.toString}catch(h){return"???"}if(null!=e&&e!=Object.toString&&(c=a.toString(),"[object Object]"!=c))return c;e=null;c="{\n";b+="\t";d=null!=a.hasOwnProperty;for(e in a)if(!d||a.hasOwnProperty(e))"prototype"==e||"__class__"==e||"__super__"==e||"__interfaces__"==e||"__properties__"==e||(2!=c.length&&(c+=", \n"),c+=b+e+" : "+z.__string_rec(a[e],b));b=b.substring(1);
return c+("\n"+b+"}");case "function":return"<function>";case "string":return a;default:return""+a}};z.__interfLoop=function(a,b){if(null==a)return!1;if(a==b)return!0;var c=a.__interfaces__;if(null!=c)for(var d=0,e=c.length;d<e;){var f=d++,f=c[f];if(f==b||z.__interfLoop(f,b))return!0}return z.__interfLoop(a.__super__,b)};z.__instanceof=function(a,b){if(null==b)return!1;switch(b){case jd:return(a|0)===a;case fd:return"number"==typeof a;case gd:return"boolean"==typeof a;case String:return"string"==
typeof a;case kd:return!0;default:if(null!=a){if("function"==typeof b){if(a instanceof b)return b==Array?null==a.__enum__:!0;if(z.__interfLoop(a.__class__,b))return!0}}else return!1;return b==ld&&null!=a.__name__||b==md&&null!=a.__ename__?!0:a.__enum__==b}};z.__cast=function(a,b){if(z.__instanceof(a,b))return a;throw"Cannot cast "+p.string(a)+" to "+p.string(b);};Nc={_CanvasElement:{}};Nc._CanvasElement.CanvasUtil=function(){};Nc._CanvasElement.CanvasUtil.__name__=!0;Nc._CanvasElement.CanvasUtil.getContextWebGL=
function(a,b){for(var c=0,d=["webgl","experimental-webgl"];c<d.length;){var e=d[c];++c;e=a.getContext(e,b);if(null!=e)return e}return null};var Rb,Fa,Sb,hb,Tb,zb,I,Ub,lc,bd,Qc,Vb;Rb=function(){F.call(this)};Rb.__name__=!0;Rb.create=function(){var a=new Rb;return null!=a?a:null};Rb.__super__=F;Rb.prototype=j(F.prototype,{backCallback:function(){var a=T.create();a.addChild(Fa.create());x.getInstance().replaceScene(a)},init:function(){var a=!1;F.prototype.init.call(this)&&(a=n.create("Sample/loading"),
a.setAnchorPoint(new o(0,0)),this.addChild(a,0,1),a=fa.getInstance().addImage("Sample/menuTitle"),a=n.createWithTexture(a,new y(0,36,100,34)),null==a&&null,a.setPosition(160,60),this.addChild(a),a=sa.create("GoBack","Sample/arial-14"),a=Ja.create(a,O(this,this.backCallback),this),a=Q.create([a]),a.alignVerticallyWithPadding(0),a.setPosition(134,300),this.addChild(a),a=!0);return a},__class__:Rb});Sb=function(a,b,c){this.zOrder=3E3;this.hp=1;this.active=!0;n.call(this);c=ra.NORMAL;this.parentType=
Rc.PLAYER;this.yVelocity=a;this.xVelocity=0;this.attackMoke=c;"W2.png"==b?this.initWithFile("Sample/w2"):this.initWithFile("Sample/bullet1")};Sb.__name__=!0;Sb.__super__=n;Sb.prototype=j(n.prototype,{collideRect:function(){var a=this.getPosition();return new y(a.x-3,a.y-3,6,6)},hurt:function(){this.hp--},destroy:function(){var a=n.create("Sample/hit");a.setPosition(this.getPosition().x,this.getPosition().y+20);this.setRotation(360*Math.random());a.setScale(0.75);this.getParent().addChild(a);t.remove(w.ENEMY_BULLETS,
this);t.remove(w.PLAYER_BULLETS,this);this.removeFromParent(!0);var b=X.create(O(a,a.removeFromParentAndCleanup),a);a.runAction(Ea.create(0.3,2,2));a.runAction(N.create([Ga.create(0.3),b]))},update:function(a){n.prototype.update.call(this,a);var b=this.getPosition();b.x-=this.xVelocity*a;b.y-=this.yVelocity*a;this.setPosition(b.x,b.y);(-100>b.y||600<b.y||!this.active)&&this.destroy();0>=this.hp&&(this.active=!1)},__class__:Sb});hb=function(){};hb.__name__=!0;hb.flareEffect=function(a,b,c){hb._parent=
a;hb._target=b;var d=n.create("Sample/flare");d.setBlendFunc(R.Add);a.addChild(d,10);d.setOpacity(255);d.setPosition(-30,183);d.setRotation(-120);d.setScale(0.2);d.setCenterAnchor();var e=cb.create(0.5,255),f=cb.create(1,0),h=Ea.create(0.7,1.2,1.2),h=ab.create(h),i=ea.create(0.5,new o(328,0));ab.create(i);var j=Oa.create(2.5,90),j=mb.create(j),k=ia.create(0.5,1),c=X.create(c,b),m=X.create(function(){a.removeChild(b,!0)},d);d.runAction(N.create([e,h,f,m,c]));d.runAction(i);d.runAction(j);d.runAction(k)};
hb.spark=function(a,b,c,d){hb._parent=b;null==c&&(c=0.3);null==d&&(d=0.5);var e=n.create("Sample/explode1"),f=n.create("Sample/explode2"),h=n.create("Sample/explode3");e.setBlendFunc(R.Add);f.setBlendFunc(R.Add);h.setBlendFunc(R.Add);e.setPosition(a.x,a.y);f.setPosition(a.x,a.y);h.setPosition(a.x,a.y);b.addChild(e);b.addChild(f);b.addChild(h);e.setScale(c);f.setScale(c);h.setScale(c);e.setCenterAnchor();f.setCenterAnchor();h.setCenterAnchor();h.setRotation(360*Math.random());var a=Oa.create(d,-45),
b=Oa.create(d,45),c=Ea.create(d,3,3),i=Ea.create(d,3,3),j=Ea.create(d,3,3),k=Ga.create(d),m=Ga.create(d),d=Ga.create(d);e.runAction(a);f.runAction(b);e.runAction(c);f.runAction(i);h.runAction(j);e.runAction(N.create([k,X.create(O(e,e.removeFromParentAndCleanup),e)]));f.runAction(N.create([m,X.create(O(f,f.removeFromParentAndCleanup),f)]));h.runAction(N.create([d,X.create(O(h,h.removeFromParentAndCleanup),h)]))};Tb=function(a){this._timeTick=0;this.zOrder=3E3;this.scoreValue=200;this.hp=15;this.bulletSpeed=
-200;this.active=!0;n.call(this);this.moveType=a.moveType;this.hp=a.HP;this.scoreValue=a.scoreValue;this.attackMode=a.attackMode;this.initWithSpriteFrameName(a.textureName);this.delayTime=1+1.2*Math.random();this.schedule(O(this,this.shoot),this.delayTime)};Tb.__name__=!0;Tb.sharedEnemy=function(){ma.getInstance().addSpriteFrames("Sample/Enemy.plist")};Tb.__super__=n;Tb.prototype=j(n.prototype,{collideRect:function(){var a=this.getContentSize(),b=this.getPosition();return new y(b.x,b.y-a.height/4,
a.width,a.height/2)},hurt:function(){this.hp--},shoot:function(){var a=this.getPosition(),b=new Sb(this.bulletSpeed,"W2.png",this.attackMode);w.ENEMY_BULLETS.push(b);this.getParent().addChild(b,b.zOrder,Wa.ENEMY_BULLET);b.setPosition(a.x,a.y-0.2*this.getContentSize().height)},destroy:function(){w.SCORE+=this.scoreValue;var a=new zb;a.setPosition(this.getPosition().x-38,this.getPosition().y-45);this.getParent().addChild(a);hb.spark(new o(this.getPosition().x+20,this.getPosition().y),this.getParent(),
1.2,0.7);Ua.ArrayRemoveObject_sample_Enemy(w.ENEMIES,this);this.removeFromParent(!0)},update:function(a){n.prototype.update.call(this,a);var b=this.getPosition();if(0>=this.hp||0>b.x||b.x>I.winSize.width||-50>b.y||600<b.y)this.active=!1,this.destroy();this._timeTick+=a;0.1<this._timeTick&&(this._timeTick=0)},__class__:Tb});zb=function(){n.call(this);this.initWithSpriteFrame(ma.getInstance().getSpriteFrame("explosion_01.png"));var a=this.getContentSize();this.tmpHeight=a.height;this.tmpWidth=a.width;
a=Ca.getInstance().getAnimation("Explosion");this.runAction(N.create([bb.create(a),X.create(O(this,this.destroy),this)]))};zb.__name__=!0;zb.sharedExplosion=function(){ma.getInstance().addSpriteFrames("Sample/explosion.plist");for(var a="",b=[],c=1;35>c;)a=c++,a="explosion_"+(10>a?"0"+p.string(a):p.string(a))+".png",a=ma.getInstance().getSpriteFrame(a),b.push(a);b=Db.createWithAnimationFrames(b,0.04);Ca.getInstance().addAnimation(b,"Explosion")};zb.__super__=n;zb.prototype=j(n.prototype,{destroy:function(){this.getParent().removeChild(this,
!0)},__class__:zb});I=function(){this._backgroundSpeed=-192;this._time=this._tmpScore=0;F.call(this)};I.__name__=!0;I.create=function(){var a=new I;return null!=a?a:null};I.__super__=F;I.prototype=j(F.prototype,{onMainMenu:function(){var a=T.create();a.addChild(Fa.create());x.getInstance().replaceScene(a)},onGameOver:function(){var a=T.create();a.addChild(Ub.create());x.getInstance().replaceScene(a)},movingBackground:function(){this._backSky.runAction(ea.create(3,new o(0,this._backgroundSpeed)));
this._backSkyHeight+=this._backgroundSpeed;this._backSkyHeight<=I.winSize.height&&(this._isBackSkyReload||(this._backSkyRe=n.create("Sample/bg01"),this._backSkyRe.setAnchorPoint(new o(0,0)),this.addChild(this._backSkyRe,-10),this._backSkyRe.setPosition(0,I.winSize.height),this._isBackSkyReload=!0,null!=this._temp&&this.removeChild(this._temp,!1)),this._backSkyRe.runAction(ea.create(3,new o(0,this._backgroundSpeed))));0>=this._backSkyHeight&&(this._backSkyHeight=this._backSky.getContentSize().height,
this._temp=this._backSky,this._backSky=this._backSkyRe,this._backSkyRe=null,this._isBackSkyReload=!1)},initBackground:function(){this._backSky=n.create("Sample/bg01");this._backSky.setAnchorPoint(new o(0,0));this._backSkyHeight=this._backSky.getContentSize().height;this.addChild(this._backSky,-10);I.winSize=this._backSky.getContentSize();this.schedule(O(this,this.movingBackground),3)},collide:function(a,b){return M.rectIntersectsRect(a,b)?!0:!1},updateUI:function(){this._tmpScore<w.SCORE&&(this._tmpScore+=
5);this._lbLife.setString(p.string(w.LIFE));this.lbScore.setString("Score: "+this._tmpScore)},checkIsReborn:function(){0<w.LIFE&&!this._ship.active?(this._ship=new lc,this.addChild(this._ship,this._ship.zOrder,Wa.PLAYER)):0>=w.LIFE&&null!=this._ship&&!this._ship.active&&(this.runAction(N.create([db.create(0.2),X.create(O(this,this.onGameOver),this)])),this._ship=null)},removeInactiveUnit:function(){this.getChildren();null!=this._ship&&!this._ship.active&&this._ship.destroy()},checkIsCollide:function(){for(var a,
b,c=[],d=[],e=[],f=0,h=w.ENEMIES.length;f<h;){var i=f++;a=w.ENEMIES[i];for(var j=0,k=w.PLAYER_BULLETS.length;j<k;){var m=j++;b=w.PLAYER_BULLETS[m];null!=b&&this.collide(a.collideRect(),b.collideRect())&&(d.push(m),e.push(i))}null!=this._ship&&this.collide(a.collideRect(),this._ship.collideRect())&&this._ship.active&&(a.hurt(),this._ship.hurt())}for(h=0;h<d.length;)i=d[h],++h,w.PLAYER_BULLETS[i].hurt();for(h=0;h<e.length;)i=e[h],++h,w.ENEMIES[i].hurt();f=0;for(h=w.ENEMY_BULLETS.length;f<h;)i=f++,a=
w.ENEMY_BULLETS[i],null!=a&&null!=this._ship&&this.collide(a.collideRect(),this._ship.collideRect())&&this._ship.active&&(c.push(i),this._ship.hurt());for(h=0;h<c.length;)i=c[h],++h,null!=w.ENEMY_BULLETS[i]&&w.ENEMY_BULLETS[i].hurt()},update:function(a){F.prototype.update.call(this,a);this.checkIsCollide();this.removeInactiveUnit(a);this.checkIsReborn();this.updateUI()},processEvent:function(a){this._state==I.STATE_PLAYING&&null!=this._ship&&this._ship.setPosition(a.getLocation().x,a.getLocation().y)},
onPointerDragged:function(a){this.processEvent(a);return!0},onPointerMoved:function(a){this.processEvent(a);return!0},scoreCounter:function(){if(this._state==I.STATE_PLAYING){this._time++;var a=this._time/60|0,b=this._time%60;9<a?p.string(a):p.string(a);9<b?p.string(b):p.string(b);this._levelManager.loadLevelResource(this._time)}},init:function(){this.registerWithTouchDispatcher();if(F.prototype.init.call(this)){w.ENEMIES=[];w.ENEMY_BULLETS=[];w.PLAYER_BULLETS=[];w.SCORE=0;w.LIFE=4;this._state=I.STATE_PLAYING;
zb.sharedExplosion();Tb.sharedEnemy();this._levelManager=new bd(this);I.winSize=x.getInstance().getWinSize();this._state=I.STATE_PLAYING;this._beginPos=new o(0,0);this._isBackSkyReload=!1;this.initBackground();this.screenRect=new y(0,0,I.winSize.width,I.winSize.height);this.lbScore=sa.create("Score: 0","Sample/arial-14");this.addChild(this.lbScore,4E3);this.lbScore.setPosition(240,0);var a=fa.getInstance().addImage("Sample/ship01"),a=n.createWithTexture(a,new y(0,0,60,38));a.setScale(0.6);a.setPosition(0,
0);this.addChild(a,4E3,5);this._lbLife=sa.create("0","Sample/arial-14");this._lbLife.setPosition(40,0);this.addChild(this._lbLife,4E3);this._ship=new lc;this.addChild(this._ship,this._ship.zOrder,Wa.PLAYER);a=sa.create("Main Menu","Sample/arial-14");a=Ja.create(a,O(this,this.onMainMenu),this);a=Q.create([a]);a.setPosition(240,450);this.addChild(a,4E3);this.schedule(O(this,this.scoreCounter),1)}return!0},__class__:I});Ub=function(){F.call(this)};Ub.__name__=!0;Ub.create=function(){var a=new Ub;return null!=
a?a:null};Ub.__super__=F;Ub.prototype=j(F.prototype,{onPlayAgain:function(){var a=T.create();a.addChild(I.create());x.getInstance().replaceScene(a)},init:function(){var a=this,b=!1;if(F.prototype.init.call(this)){b=n.create("Sample/loading");b.setAnchorPoint(new o(0,0));this.addChild(b,0,1);b=n.create("Sample/gameOver");b.setAnchorPoint(new o(0,0));b.setPosition(0,80);this.addChild(b,10,1);var b=n.create("Sample/menu",new y(378,0,126,33)),c=n.create("Sample/menu",new y(378,33,126,33)),d=n.create("Sample/menu",
new y(378,66,126,33)),e=n.create("Sample/cocos2d-html5");e.setCenterAnchor();e.setPosition(160,380);this.addChild(e,10);b=ka.create(b,c,d,function(){hb.flareEffect(a,a,O(a,a.onPlayAgain))},this);b=Q.create([b]);this.addChild(b,1,2);b.setPosition(97,250);b=sa.create("Your Score:"+w.SCORE,"Sample/arial-14");b.setScale(2);b.setCenterAnchor();b.setPosition(160,200);this.addChild(b,10);w.SOUND&&la.getInstance().playMusic("Sample/Music/mainMainMusic");b=!0}return b},__class__:Ub});bd=function(a){if(null==
a)throw"gameLayer must be non-nil";this._currentLevel=Ab.initLevel1();this._gameLayer=a;this.setLevel(this._currentLevel);ba.create()};bd.__name__=!0;bd.prototype={addEnemyToGameLayer:function(a){if(null!=this._gameLayer._ship){var a=new Tb(ba.ENEMY_TYPE_LIST[a]),b=new o(Math.random()*I.winSize.width,0),c=a.getContentSize();a.setPosition(b.x,b.y);var d=ga.create();switch(a.moveType){case ca.ATTACK:b=this._gameLayer._ship.getPosition();d=ha.create(1,b);break;case ca.VERTICAL:b=new o(0,I.winSize.height+
c.height);d=ea.create(4,b);break;case ca.HORIZONTAL:b=new o(0,I.winSize.height+c.height);d=ea.create(4,b);break;case ca.OVERLAP:c=b.x<=I.winSize.width/2?320:-320,b=ea.create(4,new o(c,240)),c=ea.create(4,new o(-c,320)),d=N.create([b,c])}this._gameLayer.addChild(a,a.zOrder,Wa.ENEMY);w.ENEMIES.push(a);z.__instanceof(d,N)?(b=z.__cast(d,N),a.runAction(b)):z.__instanceof(d,ha)?(b=z.__cast(d,ha),a.runAction(b)):z.__instanceof(d,ea)&&(b=z.__cast(d,ea),a.runAction(b))}},loadLevelResource:function(a){for(var b=
0,c=this._currentLevel.enemies.length;b<c;){var d=this._currentLevel.enemies[b++];if(null!=d&&"Once"!=d.showType&&"Repeate"==d.showType&&0==a%p.parseInt(d.showTime))for(var e=0,f=d.types.length;e<f;){var h=e++;this.addEnemyToGameLayer(d.types[h])}}},_minuteToSecond:function(a){if(null==a)return"0";a=a.split(":");return 1==a.length?p.string(p.parseInt(a[0])):p.string(60*p.parseInt(a[0])+p.parseInt(a[1]))},setLevel:function(a){for(var b=0,a=a.enemies.length;b<a;){var c=b++;this._currentLevel.enemies[c].showTime=
this._minuteToSecond(this._currentLevel.enemies[c].showTime)}},__class__:bd};Qc=function(){};Qc.__name__=!0;Qc.main=function(){v.init();var a=pa.build("bootstrap");v._platform.loadAssetPack(a).get(Qc.onSuccess)};Qc.onSuccess=function(a){Va.pack=a;x.getInstance().runWithScene(Fa.scene())};Vb=function(){F.call(this)};Vb.__name__=!0;Vb.create=function(){var a=new Vb;return null!=a?a:null};Vb.__super__=F;Vb.prototype=j(F.prototype,{backCallback:function(){var a=T.create();a.addChild(Fa.create());x.getInstance().replaceScene(a)},
init:function(){var a=!1;F.prototype.init.call(this)&&(a=n.create("Sample/loading"),a.setAnchorPoint(new o(0,0)),this.addChild(a,0,1),a=fa.getInstance().addImage("Sample/menuTitle"),a=n.createWithTexture(a,new y(0,0,134,34)),a.setCenterAnchor(),a.setPosition(160,60),this.addChild(a),a=sa.create("GoBack","Sample/arial-14"),a=Ja.create(a,O(this,this.backCallback),this),a=Q.create([a]),a.setPosition(134,360),this.addChild(a),a=!0);return a},__class__:Vb});lc=function(){this.zOrder=3E3;this.canBeAttack=
!0;this.hp=5;this.bulletSpeed=900;var a=this;n.call(this);this.appearPosition=new o(160,440);var b=fa.getInstance().addImage("Sample/ship01");this.initWithTexture(b,new y(0,0,60,38));this.setPosition(this.appearPosition.x,this.appearPosition.y);this.active=!0;var c=Ka.createWithTexture(b,new y(0,0,60,38),!1,new o(0,0),new C),d=Ka.createWithTexture(b,new y(60,0,60,38),!1,new o(0,0),new C),e=[];e.push(c);e.push(d);c=Db.createWithAnimationFrames(e,0.1);c=bb.create(c);this.runAction(ob.create(c));this.schedule(O(this,
this.shoot),1/6);this.canBeAttack=!1;var f=n.createWithTexture(b,new y(0,45,60,38));f.setCenterAnchor();f.setScale(8);f.setPosition(30,24);this.addChild(f,3E3,99999);f.runAction(N.create([ia.create(0.5,1,1),X.create(function(){a.removeChild(f,!0)},this)]));b=pb.create(3,9);c=X.create(function(){a.canBeAttack=!0;a.setVisible(!0)},this);this.runAction(N.create([db.create(0.5),b,c]))};lc.__name__=!0;lc.__super__=n;lc.prototype=j(n.prototype,{collideRect:function(){var a=this.getPosition(),b=this.getContentSize();
return new y(a.x,a.y,b.width,b.height)},hurt:function(){this.canBeAttack&&this.hp--},destroy:function(){w.LIFE--;var a=this.getPosition(),b=this.getParent(),c=new zb;b.removeChild(this,!0);c.setPosition(a.x,a.y);w.SOUND&&la.getInstance().playEffect("Sample/Music/shipDestroyEffect")},shoot:function(){this.getContentSize();var a=new Sb(this.bulletSpeed,"W1.png",ra.NORMAL),b=this.getPosition();w.PLAYER_BULLETS.push(a);a.setPosition(b.x+13,b.y-10+0.3*this.getContentSize().height);this.getParent().addChild(a);
a=new Sb(this.bulletSpeed,"W1.png",ra.NORMAL);a.setPosition(b.x+39,b.y-10+0.3*this.getContentSize().height);this.getParent().addChild(a);w.PLAYER_BULLETS.push(a)},update:function(a){n.prototype.update.call(this,a);0>=this.hp&&(this.active=!1)},__class__:lc});Fa=function(){F.call(this)};Fa.__name__=!0;Fa.create=function(){var a=new Fa;return null!=a?a:null};Fa.scene=function(){var a=T.create(),b=Fa.create();a.addChild(b);return a};Fa.__super__=F;Fa.prototype=j(F.prototype,{onButtonEffect:function(){w.SOUND&&
la.getInstance().playEffect("Sample/Music/buttonEffect")},onAbout:function(){this.onButtonEffect();var a=T.create();a.addChild(Rb.create());x.getInstance().replaceScene(a)},onSettings:function(){this.onButtonEffect();var a=T.create();a.addChild(Vb.create());x.getInstance().replaceScene(a)},onNewGame:function(){var a=T.create();a.addChild(I.create());x.getInstance().replaceScene(qb.create(1.2,a))},init:function(){var a=this,b=!1;if(F.prototype.init.call(this)){this.winSize=x.getInstance().getWinSize();
I.winSize=this.winSize;b=n.create("Sample/logo");b.setAnchorPoint(new o(0,0));b.setPosition(0,100);this.addChild(b,10,2);b=n.create("Sample/loading");b.setAnchorPoint(new o(0,0));this.addChild(b,1,1);var c=n.create("Sample/menu",new y(0,0,126,33)),d=n.create("Sample/menu",new y(0,33,126,33)),e=n.create("Sample/menu",new y(0,66,126,33)),f=n.create("Sample/menu",new y(126,0,126,33)),h=n.create("Sample/menu",new y(126,33,126,33)),i=n.create("Sample/menu",new y(126,66,126,33)),b=n.create("Sample/menu",
new y(252,0,126,33)),j=n.create("Sample/menu",new y(252,33,126,33)),k=n.create("Sample/menu",new y(252,66,126,33)),c=ka.create(c,d,e,function(){a.onButtonEffect();hb.flareEffect(a,a,O(a,a.onNewGame))},this),f=ka.create(f,h,i,O(this,this.onSettings),this),b=ka.create(b,j,k,O(this,this.onAbout),this),b=Q.create([c,f,b]);b.alignVerticallyWithPadding(10);b.setCenterAnchor();b.setPosition(97,250);this.addChild(b,6,2);b=!0;w.SOUND&&(la.getInstance().set__musicVolume(0.7),la.getInstance().playMusic("Sample/Music/mainMainMusic",
!0))}return b},__class__:Fa});ba=function(a,b,c,d,e,f,h){this.HP=1;this.type=0;this.type=a;this.textureName=b;this.bulletType=c;this.HP=d;this.moveType=e;this.attackMode=f;this.scoreValue=h};ra=void 0;Rc=void 0;w=void 0;Wa=void 0;Ab=void 0;ca=void 0;Wb=void 0;ba.__name__=!0;ba.create=function(){if(null==ba.ENEMY_TYPE_LIST){ba.ENEMY_TYPE_LIST=[];var a=new ba(0,"E0.png","W2.png",1,ca.ATTACK,ra.NORMAL,15),b=new ba(1,"E1.png","W2.png",2,ca.ATTACK,ra.NORMAL,40),c=new ba(2,"E2.png","W2.png",4,ca.HORIZONTAL,
ra.TSUIHIKIDAN,60),d=new ba(3,"E3.png","W2.png",6,ca.OVERLAP,ra.NORMAL,80),e=new ba(4,"E4.png","W2.png",10,ca.HORIZONTAL,ra.TSUIHIKIDAN,150),f=new ba(5,"E5.png","W2.png",20,ca.HORIZONTAL,ra.NORMAL,200);ba.ENEMY_TYPE_LIST=[a,b,c,d,e,f]}return ba.ENEMY_TYPE_LIST};ba.prototype={__class__:ba};w=function(){};w.__name__=!0;ca=function(){};ca.__name__=!0;Rc=function(){};Rc.__name__=!0;Wa=function(){};Wa.__name__=!0;ra=function(){};ra.__name__=!0;Ab=function(){};Ab.__name__=!0;Ab.initLevel1=function(){var a=
new Ab;a.enemies=[];var b=new Wb;b.showType="Repeate";b.showTime="00:02";b.types=[0,1,2];a.enemies.push(b);b=new Wb;b.showType="Repeate";b.showTime="00:05";b.types=[3,4,5];a.enemies.push(b);return a};Ab.prototype={__class__:Ab};Wb=function(){};Wb.__name__=!0;Wb.prototype={__class__:Wb};var id=0;Array.prototype.indexOf&&(t.remove=function(a,b){var c=a.indexOf(b);if(-1==c)return!1;a.splice(c,1);return!0});Math.__name__=["Math"];Math.NaN=Number.NaN;Math.NEGATIVE_INFINITY=Number.NEGATIVE_INFINITY;Math.POSITIVE_INFINITY=
Number.POSITIVE_INFINITY;Math.isFinite=function(a){return isFinite(a)};Math.isNaN=function(a){return isNaN(a)};String.prototype.__class__=String;String.__name__=!0;Array.prototype.__class__=Array;Array.__name__=!0;Date.prototype.__class__=Date;Date.__name__=["Date"];var jd={__name__:["Int"]},kd={__name__:["Dynamic"]},fd=Number;fd.__name__=["Float"];var gd=Boolean;gd.__ename__=["Bool"];var ld={__name__:["Class"]},md={};u.Element="element";u.PCData="pcdata";u.CData="cdata";u.Comment="comment";u.DocType=
"doctype";u.ProcessingInstruction="processingInstruction";u.Document="document";x.DIRECTOR_PROJECTION_3D=1;x.DIRECTOR_PROJECTION_DEFAULT=x.DIRECTOR_PROJECTION_3D;x.defaultFPS=60;x.firstUseDirector=!0;ga.ACTION_TAG_INVALID=-1;Q.MENU_STATE_WAITING=0;Q.MENU_STATE_TRACKING_TOUCH=1;Q.MENU_HANDLER_PRIORITY=-128;G.ZOOM_ACTION_TAG=-1061138430;G.NORMAL_TAG=8801;G.SELECTED_TAG=8802;G.DISABLE_TAG=8803;Sc.NODE_TRANSFORM_USING_AFFINE_MATRIX=1;E.LITERALS=288;E.NAMEMAX=256;E.bitReverse=[0,128,64,192,32,160,96,224,
16,144,80,208,48,176,112,240,8,136,72,200,40,168,104,232,24,152,88,216,56,184,120,248,4,132,68,196,36,164,100,228,20,148,84,212,52,180,116,244,12,140,76,204,44,172,108,236,28,156,92,220,60,188,124,252,2,130,66,194,34,162,98,226,18,146,82,210,50,178,114,242,10,138,74,202,42,170,106,234,26,154,90,218,58,186,122,250,6,134,70,198,38,166,102,230,22,150,86,214,54,182,118,246,14,142,78,206,46,174,110,238,30,158,94,222,62,190,126,254,1,129,65,193,33,161,97,225,17,145,81,209,49,177,113,241,9,137,73,201,41,
169,105,233,25,153,89,217,57,185,121,249,5,133,69,197,37,165,101,229,21,149,85,213,53,181,117,245,13,141,77,205,45,173,109,237,29,157,93,221,61,189,125,253,3,131,67,195,35,163,99,227,19,147,83,211,51,179,115,243,11,139,75,203,43,171,107,235,27,155,91,219,59,187,123,251,7,135,71,199,39,167,103,231,23,151,87,215,55,183,119,247,15,143,79,207,47,175,111,239,31,159,95,223,63,191,127,255];E.cplens=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0];E.cplext=[0,0,
0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,99,99];E.cpdist=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];E.cpdext=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13];E.border=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];A._scratchPoint=new o;P.useViewPort=!1;P.viewPort=new y;P.TMX_ORIENTATION_ORTHO=0;P.TMX_ORIENTATION_HEX=1;P.TMX_ORIENTATION_ISO=2;da.TMX_LAYER_ATTRIB_NONE=1;da.TMX_PROPERTY_NONE=0;
da.TMX_TILE_HORIZONTAL_FLAG=-2147483648;da.TMX_TILE_VERTICAL_FLAG=1073741824;da.TMX_TILE_DIAGONAL_FLAG=536870912;da.TMX_TILE_FLIPPED_ALL=(da.TMX_TILE_HORIZONTAL_FLAG|da.TMX_TILE_VERTICAL_FLAG|da.TMX_TILE_DIAGONAL_FLAG)>>>0;da.TMX_TILE_FLIPPED_MASK=~da.TMX_TILE_FLIPPED_ALL>>>0;L.POINTER_DOWN=0;L.POINTER_UP=3;L.POINTER_MOVED=1;L._prePoint=new o(0,0);e.HtmlPlatform.instance=new e.HtmlPlatform;Z.DISPATCHING_SENTINEL=new vb(null,null);v.root=new Qb;v.uncaughtError=new K;v.hidden=new Ba(!1);v.hasGPU=new Ba(!1);
v.volume=new Y(1);v._platform=e.HtmlPlatform.instance;v._calledInit=!1;s.window="undefined"!=typeof window?window:null;s.document="undefined"!=typeof window?window.document:null;s.navigator="undefined"!=typeof window?window.navigator:null;pa.__meta__={obj:{assets:[{bootstrap:[{bytes:12553,md5:"1a9b75c3ed8979ef2312847a1c19257d",name:"Sample/arial-14.fnt"},{bytes:39873,md5:"16567b2fa767e5bcff4769cebad114d4",name:"Sample/arial-14.png"},{bytes:17484,md5:"27a583b25df2374ec6fd50de337ffd9c",name:"Sample/bg01.jpg"},
{bytes:1648,md5:"2cb6a4efa13957d4ffc32ec3fdc90f0f",name:"Sample/bullet.plist"},{bytes:1443,md5:"cc8a4fa8101e0f5f57858ed22bfe6a89",name:"Sample/bullet.png"},{bytes:1058,md5:"46f2e95b40000d30b4346687271764e0",name:"Sample/bullet1.png"},{bytes:16572,md5:"500057c6bacfcc1e7746a35f1417dd27",name:"Sample/cocos2d-html5.png"},{bytes:3472,md5:"83b824a8c17fd3ea07f17275788941fc",name:"Sample/Enemy.plist"},{bytes:25623,md5:"eaeb5bccd45c830d9030973393416d5b",name:"Sample/Enemy.png"},{bytes:2143,md5:"a802dec71fb2e009cd56fe7f38a51b8f",
name:"Sample/explode1.jpg"},{bytes:2630,md5:"3718d50faae859ba3c8ba6dc03ae4818",name:"Sample/explode2.jpg"},{bytes:2521,md5:"f439bc5b5b622959369da1e26d6eb40e",name:"Sample/explode3.jpg"},{bytes:17282,md5:"aa9d033c41db323849a5cc87b1e0fa48",name:"Sample/explosion.plist"},{bytes:207311,md5:"5a37504f335b0bdfb6b0711c08f72d5f",name:"Sample/explosion.png"},{bytes:25365,md5:"93bb3e71fa0a75066682ca370c935d3f",name:"Sample/flare.jpg"},{bytes:29415,md5:"de21d28bdfa2121420892224b03e1376",name:"Sample/gameOver.png"},
{bytes:2755,md5:"592f9ea85bc45eb962e1fd903c1e2af6",name:"Sample/hit.png"},{bytes:165747,md5:"ec3a961a645c5b94c3b39572532aa43c",name:"Sample/loading.png"},{bytes:60102,md5:"1fad9922cf63e6d6811af200bc583f2c",name:"Sample/logo.png"},{bytes:24742,md5:"be7bf63e07c09816b4f317f27a4c02a4",name:"Sample/menu.png"},{bytes:14805,md5:"a90c9b20e3b1a97c93a3a03c01ff2c8e",name:"Sample/menuTitle.png"},{bytes:2023932,md5:"600be0100f2f3f1abe91bc52fc502c0e",name:"Sample/Music/bgMusic.mp3"},{bytes:863372,md5:"b164e5493f577973eefa8ad0a15e109f",
name:"Sample/Music/bgMusic.ogg"},{bytes:8535,md5:"ba4412bd2f1b47d1e5a3f779aa90bfaa",name:"Sample/Music/buttonEffect.mp3"},{bytes:14800,md5:"8a0e4ba979bbcd58c4eec535410c0767",name:"Sample/Music/buttonEffect.ogg"},{bytes:3959,md5:"7bd9f62227e4db2a5562a6d4c4070905",name:"Sample/Music/explodeEffect.mp3"},{bytes:8701,md5:"5897e7553e456c6e9b44c7c062b48f0e",name:"Sample/Music/explodeEffect.ogg"},{bytes:2191,md5:"172ef539027ec8415de9fc68ed524441",name:"Sample/Music/fireEffect.mp3"},{bytes:6998,md5:"234b197ac92b8812f27f7a53db5352f1",
name:"Sample/Music/fireEffect.ogg"},{bytes:765708,md5:"4d42b47e45ef26d03421bf48b0860d4a",name:"Sample/Music/mainMainMusic.mp3"},{bytes:364578,md5:"7921d9da8a3d6a2cb7c8e746f7000e5a",name:"Sample/Music/mainMainMusic.ogg"},{bytes:23199,md5:"cb925f4ab255e4ca8189b0e1f7c0372e",name:"Sample/Music/shipDestroyEffect.mp3"},{bytes:28723,md5:"4da7c6b473f45104684e7a6128d45f69",name:"Sample/Music/shipDestroyEffect.ogg"},{bytes:11411,md5:"d61385eeb0342fb4f7e90ab455a9e019",name:"Sample/ship01.png"},{bytes:583,md5:"ca1b2fba5e61b2bfe2b73974d6079240",
name:"Sample/w2.png"}]}]}};var nd=pa,hd;hd=(new yb("\\b(Android)\\b","")).match(s.window.navigator.userAgent)?!1:null!=(new XMLHttpRequest).withCredentials;nd._supportsCrossOrigin=hd;ub.NEWLINE=new ic(10);ya._sharedEvent=new yc;ja._sharedEvent=new zc;V._sharedEvent=new Ac;e.CanvasRenderer.CANVAS_TEXTURES=(new yb("(iPhone|iPod|iPad)","")).match(s.window.navigator.userAgent);e.HtmlAssetPackLoader._mediaRefCount=0;e.HtmlAssetPackLoader._detectBlobSupport=!0;e.HtmlUtil.VENDOR_PREFIXES=["webkit","moz",
"ms","o","khtml"];e.HtmlUtil.SHOULD_HIDE_MOBILE_BROWSER=s.window.top==s.window&&(new yb("Mobile(/.*)? Safari","")).match(s.navigator.userAgent);e.WebAudioSound._detectSupport=!0;e.WebGLGraphics._scratchMatrix=new Aa;Sa.Parser.escapes=function(){var a=new B.StringMap;a.set("lt","<");a.set("gt",">");a.set("amp","&");a.set("quot",'"');a.set("apos","'");a.set("nbsp",String.fromCharCode(160));return a}(this);k.InflateImpl.LEN_EXTRA_BITS_TBL=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,-1,
-1];k.InflateImpl.LEN_BASE_VAL_TBL=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258];k.InflateImpl.DIST_EXTRA_BITS_TBL=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,-1,-1];k.InflateImpl.DIST_BASE_VAL_TBL=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];k.InflateImpl.CODE_LENGTHS_POS=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];I.STATE_PLAYING=0;w.LIFE=1;w.SCORE=0;w.SOUND=
!0;w.ENEMIES=[];w.ENEMY_BULLETS=[];w.PLAYER_BULLETS=[];ca.ATTACK=0;ca.VERTICAL=1;ca.HORIZONTAL=2;ca.OVERLAP=3;Rc.PLAYER=1;Wa.ENEMY_BULLET=900;Wa.ENEMY=1E3;Wa.PLAYER=1E3;ra.NORMAL=1;ra.TSUIHIKIDAN=2;Qc.main()})();
